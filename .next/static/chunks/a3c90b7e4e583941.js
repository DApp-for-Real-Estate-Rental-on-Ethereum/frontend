(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,69638,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},70065,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(47163);let r=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));r.displayName="Card";let l=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...a}));l.displayName="CardHeader";let i=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));i.displayName="CardTitle";let n=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",e),...a}));n.displayName="CardDescription";let o=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("p-6 pt-0",e),...a}));o.displayName="CardContent",a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter",e.s(["Card",()=>r,"CardContent",()=>o,"CardDescription",()=>n,"CardHeader",()=>l,"CardTitle",()=>i])},31278,e=>{"use strict";let t=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},48425,e=>{"use strict";var t=e.i(71645),a=e.i(74080),s=e.i(91918),r=e.i(43476),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,a)=>{let l=t.forwardRef((e,t)=>{let{asChild:l,...i}=e,n=l?s.Slot:a;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(n,{...i,ref:t})});return l.displayName=`Primitive.${a}`,{...e,[a]:l}},{});function i(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>l,"dispatchDiscreteCustomEvent",()=>i])},46897,e=>{"use strict";let t=(0,e.i(75254).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],46897)},94179,e=>{"use strict";var t=e.i(43476),a=e.i(25913),s=e.i(47163);let r=(0,a.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:a,...l}){return(0,t.jsx)("div",{className:(0,s.cn)(r({variant:a}),e),...l})}e.s(["Badge",()=>l])},7486,e=>{"use strict";let t=(0,e.i(75254).default)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);e.s(["Building2",()=>t],7486)},69074,e=>{"use strict";let t=(0,e.i(75254).default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);e.s(["Upload",()=>t],69074)},84762,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(47163);let r=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...a}));r.displayName="Textarea",e.s(["Textarea",()=>r])},23750,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(47163);let r=a.forwardRef(({className:e,type:a,...r},l)=>(0,t.jsx)("input",{type:a,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:l,...r}));r.displayName="Input",e.s(["Input",()=>r])},10708,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(48425),r=a.forwardRef((e,a)=>(0,t.jsx)(s.Primitive.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));r.displayName="Label";var l=e.i(25913),i=e.i(47163);let n=(0,l.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)(r,{ref:s,className:(0,i.cn)(n(),e),...a}));o.displayName=r.displayName,e.s(["Label",()=>o],10708)},78894,e=>{"use strict";let t=(0,e.i(75254).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],78894)},43432,e=>{"use strict";let t=(0,e.i(75254).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>t],43432)},7e3,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(18566),r=e.i(25715),l=e.i(71667),i=e.i(67881),n=e.i(70065),o=e.i(23750),d=e.i(10708),c=e.i(84762),m=e.i(31278),x=e.i(78894),u=e.i(37727),g=e.i(69074),h=e.i(69638),p=e.i(43432),b=e.i(46897),f=e.i(7486),y=e.i(87316),v=e.i(57688),N=e.i(94179);let j=[{value:"ACCESS_ISSUE",label:"Access Issue",description:"Cannot access the property, key/code doesn't work, host didn't respond..."},{value:"NOT_AS_DESCRIBED",label:"Property Not As Described",description:"Different number of rooms, location, property type, missing important amenities..."},{value:"CLEANLINESS",label:"Cleanliness Issue",description:"Dirty, strong odors, unclean bedding..."},{value:"SAFETY_HEALTH",label:"Safety or Health Hazard",description:"Gas leak, exposed wires, excessive pests..."}],w=[{value:"PROPERTY_DAMAGE",label:"Property Damage",description:"Broken furniture, appliances, glass, walls..."},{value:"EXTRA_CLEANING",label:"Excessive Dirt",description:"Requires deep cleaning (unusual condition after departure)"},{value:"HOUSE_RULE_VIOLATION",label:"House Rule Violation",description:"Parties, smoking prohibited, unauthorized pets..."},{value:"UNAUTHORIZED_GUESTS_OR_STAY",label:"Unauthorized Guests or Extended Stay",description:"Not authorized or staying longer than agreed without payment"}];function k(){let e=(0,s.useParams)(),k=(0,s.useSearchParams)(),I=(0,s.useRouter)(),{user:C,isLoading:S,isAuthenticated:R}=(0,r.useAuth)(),A=e?.bookingId,U=k?.get("isHost")==="true",P=k?.get("reclamationId"),[T,D]=(0,a.useState)(""),[E,L]=(0,a.useState)(""),[M,B]=(0,a.useState)(""),[F,H]=(0,a.useState)([]),[O,$]=(0,a.useState)(!1),[G,_]=(0,a.useState)(null),[z,q]=(0,a.useState)(!1),[V,Y]=(0,a.useState)(!1),[K,W]=(0,a.useState)(null),[X,Z]=(0,a.useState)(null),[J,Q]=(0,a.useState)(null),[ee,et]=(0,a.useState)(null),[ea,es]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(!S){if(!R||!C||!A)return void I.push("/login");er()}},[C,A,I,S,R,P]);let er=async()=>{if(C?.id&&A){es(!0);try{let e=null;if(P)try{console.log("ðŸ” Fetching reclamation by ID:",P),e=await l.apiClient.reclamations.getById(parseInt(P)),console.log("âœ… Found reclamation by ID:",e)}catch(e){console.error("âŒ Failed to fetch reclamation by ID:",e)}if(!e)try{console.log("ðŸ” Fetching reclamation by bookingId and complainantId:",A,C.id),e=await l.apiClient.reclamations.getByBookingIdAndComplainant(A,C.id),console.log("âœ… Found reclamation by bookingId:",e)}catch(e){console.error("âŒ Failed to fetch reclamation by bookingId:",e)}if(e){W(e),Y(!0);try{let t=await l.apiClient.bookings.getById(A);Z(t);let a=null;if(t?.propertyId)try{a=await l.apiClient.properties.getById(String(t.propertyId)),Q(a)}catch(e){console.error("Failed to fetch property:",e)}try{let s=null;if(console.log("ðŸ“ž Reclamation data:",{complainantId:e.complainantId,targetUserId:e.targetUserId,complainantRole:e.complainantRole,currentUserId:C.id}),e.complainantId===C.id?(s=e.targetUserId,console.log("ðŸ“ž User is complainant, fetching target user phone. targetUserId:",s)):(s=e.complainantId,console.log("ðŸ“ž User is target, fetching complainant phone. complainantId:",s)),(!s||0===s)&&t){if(console.log("âš ï¸ targetUserId not available, trying fallback method"),"GUEST"===e.complainantRole)if(a?.userId)s=parseInt(String(a.userId));else{let e=await l.apiClient.bookings.getPropertyInfo(String(t.propertyId));e.ownerId&&(s=e.ownerId)}else s=t.userId;console.log("ðŸ“ž Fallback targetUserId:",s)}if(s&&s>0){console.log("ðŸ“ž Fetching user info for ID:",s);let e=await l.apiClient.users.getById(s);console.log("ðŸ“ž User info received:",e),e&&e.phoneNumber?(console.log("âœ… Setting phone number:",e.phoneNumber),et(String(e.phoneNumber))):console.log("âš ï¸ No phone number found in user info")}else console.log("âš ï¸ Invalid targetUserId:",s)}catch(e){console.error("âŒ Failed to fetch phone number:",e)}}catch(e){console.error("Failed to fetch booking:",e)}}}catch(e){console.log("No existing reclamation found, staying in create mode")}finally{es(!1)}}},el=async e=>{if(e.preventDefault(),!T)return void _("Please select a reclamation type");if(!E||!E.trim())return void _("Title is required");if(!M||!M.trim())return void _("Description is required");if(F.length>3)return void _("You can upload a maximum of 3 images");if(!C?.id||!A)return void _("User or booking information is missing");$(!0),_(null);try{let e=F.map(e=>e.file);await l.apiClient.reclamations.create(A,C.id,U?"HOST":"GUEST",T,E.trim(),M.trim(),e.length>0?e:void 0),q(!0),setTimeout(()=>{I.back()},2e3)}catch(e){_(e.message||"Failed to submit reclamation")}finally{$(!1)}};return S?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-teal-50 via-white to-cyan-50",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(m.Loader2,{className:"h-16 w-16 animate-spin text-teal-600 mx-auto mb-4"}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-8 h-8 bg-teal-100 rounded-full"})})]}),(0,t.jsx)("p",{className:"text-gray-600 font-medium text-lg",children:"Loading..."})]})}):R&&C&&A?V&&K?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 via-white to-cyan-50 py-12",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)(n.Card,{className:"p-8 shadow-2xl border-2 border-teal-100 bg-white/95 backdrop-blur-sm",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`p-3 rounded-xl ${U?"bg-orange-100":"bg-teal-100"}`,children:(0,t.jsx)(x.AlertTriangle,{className:`w-6 h-6 ${U?"text-orange-600":"text-teal-600"}`})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent",children:"Reclamation Details"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"View your reclamation information"})]})]}),(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>I.back(),children:"Back"})]})}),ea?(0,t.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,t.jsx)(m.Loader2,{className:"w-8 h-8 animate-spin text-teal-600"}),(0,t.jsx)("p",{className:"ml-4 text-gray-600",children:"Loading details..."})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"p-6 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:K.title}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(N.Badge,{className:"OPEN"===K.status?"bg-blue-100 text-blue-800":"IN_REVIEW"===K.status?"bg-yellow-100 text-yellow-800":"RESOLVED"===K.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:K.status.replace("_"," ")}),(0,t.jsx)(N.Badge,{className:"LOW"===K.severity?"bg-green-100 text-green-800":"MEDIUM"===K.severity?"bg-yellow-100 text-yellow-800":"HIGH"===K.severity?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800",children:K.severity})]})]}),(0,t.jsx)("p",{className:"text-gray-700 text-base leading-relaxed",children:K.description})]}),J&&(0,t.jsxs)("div",{className:"p-6 bg-teal-50 rounded-lg border-2 border-teal-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(f.Building2,{className:"w-5 h-5 text-teal-600"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Property Information"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"font-semibold text-gray-900",children:J.title}),J.address&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,t.jsx)(b.MapPin,{className:"w-4 h-4 text-teal-600"}),(0,t.jsxs)("span",{children:[J.address.city,", ",J.address.country]})]})]})]}),X&&(0,t.jsxs)("div",{className:"p-6 bg-blue-50 rounded-lg border-2 border-blue-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(y.Calendar,{className:"w-5 h-5 text-blue-600"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Booking Dates"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Check-in"}),(0,t.jsx)("p",{className:"font-semibold text-gray-900",children:new Date(X.checkInDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Check-out"}),(0,t.jsx)("p",{className:"font-semibold text-gray-900",children:new Date(X.checkOutDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]})]})]}),ee&&(0,t.jsxs)("div",{className:"p-6 bg-green-50 rounded-lg border-2 border-green-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(p.Phone,{className:"w-5 h-5 text-green-600"}),(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[K.complainantId===C.id?"GUEST"===K.complainantRole?"Host":"Tenant":"GUEST"===K.complainantRole?"Guest":"Host"," Phone Number"]})]}),(0,t.jsx)("p",{className:"text-xl font-bold text-gray-900",children:ee}),(0,t.jsxs)("a",{href:`tel:${ee}`,className:"mt-3 inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,t.jsx)(p.Phone,{className:"w-4 h-4"}),"Call Now"]})]}),(0,t.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Reclamation Type"}),(0,t.jsx)("p",{className:"font-semibold text-gray-900",children:K.type.replace(/_/g," ")})]}),(K.refundAmount||K.penaltyPoints)&&(0,t.jsxs)("div",{className:"p-6 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg border-2 border-purple-200",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Financial Details"}),(0,t.jsxs)("div",{className:"space-y-2",children:[K.refundAmount&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-gray-700",children:"Refund Amount:"}),(0,t.jsxs)("span",{className:"text-lg font-bold text-green-600",children:["$",K.refundAmount.toFixed(2)]})]}),K.penaltyPoints&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-gray-700",children:"Penalty Points:"}),(0,t.jsxs)("span",{className:"text-lg font-bold text-red-600",children:[K.penaltyPoints," pts"]})]})]})]}),K.resolutionNotes&&(0,t.jsxs)("div",{className:"p-6 bg-blue-50 rounded-lg border-2 border-blue-200",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Resolution Notes"}),(0,t.jsx)("p",{className:"text-blue-700",children:K.resolutionNotes})]}),K.attachments&&K.attachments.length>0&&(0,t.jsxs)("div",{className:"p-6 bg-gray-50 rounded-lg",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Attached Images"}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-4",children:K.attachments.map((e,a)=>(0,t.jsx)("div",{className:"relative aspect-square rounded-lg overflow-hidden border-2 border-gray-200",children:(0,t.jsx)(v.default,{src:`http://localhost:8091${e.filePath}`,alt:`Attachment ${a+1}`,fill:!0,className:"object-cover",sizes:"(max-width: 768px) 33vw, 200px"})},a))})]}),"OPEN"===K.status&&K.complainantId===C.id&&(0,t.jsx)("div",{className:"pt-6 border-t-2 border-gray-100",children:(0,t.jsx)(i.Button,{variant:"destructive",onClick:async()=>{if(window.confirm("Are you sure you want to delete this reclamation?"))try{await l.apiClient.reclamations.delete(K.id,C.id),I.back()}catch(e){_(e.message||"Failed to delete reclamation")}},children:"Delete Reclamation"})})]})]})})}):(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 via-white to-cyan-50 py-12",children:(0,t.jsx)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)(n.Card,{className:"p-8 shadow-2xl border-2 border-teal-100 bg-white/95 backdrop-blur-sm",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:`p-3 rounded-xl ${U?"bg-orange-100":"bg-teal-100"}`,children:(0,t.jsx)(x.AlertTriangle,{className:`w-6 h-6 ${U?"text-orange-600":"text-teal-600"}`})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent",children:U?"Host Reclamation":"Guest Reclamation"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:U?"Report issues with your property":"Report issues with your booking"})]})]})}),G&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-gradient-to-r from-red-50 to-pink-50 border-2 border-red-200 rounded-xl shadow-lg",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,t.jsx)(x.AlertTriangle,{className:"w-5 h-5 text-red-600"})}),(0,t.jsx)("p",{className:"text-red-700 font-medium",children:G})]})}),z&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl shadow-lg animate-pulse",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,t.jsx)(h.CheckCircle,{className:"w-5 h-5 text-green-600"})}),(0,t.jsx)("p",{className:"text-green-700 font-medium",children:"Reclamation submitted successfully!"})]})}),(0,t.jsxs)("form",{onSubmit:el,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{className:"text-base font-semibold text-gray-900 mb-4 block",children:"Reclamation Type *"}),(0,t.jsx)("div",{className:"space-y-3",children:(U?w:j).map(e=>(0,t.jsx)("label",{className:`block p-5 border-2 rounded-xl cursor-pointer transition-all duration-300 ${T===e.value?"border-teal-500 bg-gradient-to-r from-teal-50 to-cyan-50 shadow-lg transform scale-[1.02]":"border-gray-200 bg-white hover:border-teal-300 hover:shadow-md hover:bg-gray-50"}`,children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:`mt-1 w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all ${T===e.value?"border-teal-500 bg-teal-500":"border-gray-300"}`,children:T===e.value&&(0,t.jsx)("div",{className:"w-2 h-2 rounded-full bg-white"})}),(0,t.jsx)("input",{type:"radio",name:"reclamationType",value:e.value,checked:T===e.value,onChange:e=>D(e.target.value),className:"hidden"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"font-semibold text-gray-900 mb-1 text-lg",children:e.label}),(0,t.jsx)("div",{className:"text-sm text-gray-600 leading-relaxed",children:e.description})]})]})},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(d.Label,{htmlFor:"title",className:"text-base font-semibold text-gray-900 mb-2 block",children:["Title ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(o.Input,{id:"title",type:"text",value:E,onChange:e=>L(e.target.value),placeholder:"Short title for the reclamation...",required:!0,className:"mt-2 border-2 border-gray-200 focus:border-teal-500 focus:ring-2 focus:ring-teal-200 rounded-lg transition-all"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(d.Label,{htmlFor:"description",className:"text-base font-semibold text-gray-900 mb-2 block",children:["Description ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(c.Textarea,{id:"description",value:M,onChange:e=>B(e.target.value),rows:5,placeholder:"Add additional details about the reclamation...",required:!0,className:"mt-2 border-2 border-gray-200 focus:border-teal-500 focus:ring-2 focus:ring-teal-200 rounded-lg transition-all resize-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{htmlFor:"images",className:"text-base font-semibold text-gray-900 mb-2 block",children:"Images (Optional - Maximum 3 images)"}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsxs)("label",{htmlFor:"images",className:`flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-xl cursor-pointer transition-all ${F.length>=3?"border-gray-300 bg-gray-50 cursor-not-allowed opacity-50":"border-teal-300 bg-teal-50/50 hover:bg-teal-50 hover:border-teal-400"}`,children:[(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,t.jsx)(g.Upload,{className:`w-8 h-8 mb-2 ${F.length>=3?"text-gray-400":"text-teal-600"}`}),(0,t.jsx)("p",{className:`text-sm font-medium ${F.length>=3?"text-gray-400":"text-teal-700"}`,children:F.length>=3?"Maximum images reached":"Click to upload images"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 3 images"})]}),(0,t.jsx)(o.Input,{id:"images",type:"file",accept:"image/*",multiple:!0,onChange:e=>{let t=Array.from(e.target.files||[]);F.length+t.length>3?_("You can upload a maximum of 3 images"):H([...F,...t.map(e=>({file:e,preview:URL.createObjectURL(e)}))])},disabled:F.length>=3,className:"hidden"})]})}),F.length>0&&(0,t.jsx)("div",{className:"mt-4 grid grid-cols-3 gap-4",children:F.map((e,a)=>(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)("div",{className:"relative aspect-square rounded-xl overflow-hidden border-2 border-gray-200 shadow-md hover:shadow-xl transition-all duration-300",children:(0,t.jsx)(v.default,{src:e.preview,alt:`Preview ${a+1}`,fill:!0,className:"object-cover group-hover:scale-110 transition-transform duration-300",sizes:"(max-width: 768px) 33vw, 150px"})}),(0,t.jsx)("button",{type:"button",onClick:()=>{let e;return e=F.filter((e,t)=>t!==a),void(URL.revokeObjectURL(F[a].preview),H(e))},className:"absolute -top-2 -right-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-full p-1.5 hover:from-red-600 hover:to-red-700 transition-all shadow-lg hover:shadow-xl hover:scale-110",children:(0,t.jsx)(u.X,{className:"w-4 h-4"})})]},a))}),F.length>0&&(0,t.jsx)("div",{className:"mt-3 flex items-center justify-center",children:(0,t.jsx)("div",{className:"px-4 py-2 bg-teal-100 rounded-full",children:(0,t.jsxs)("p",{className:"text-sm font-semibold text-teal-700",children:[F.length," / 3 images"]})})})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-6 border-t-2 border-gray-100",children:[(0,t.jsx)(i.Button,{type:"submit",disabled:O||!T||!E.trim()||!M.trim(),className:"flex-1 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-semibold py-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:O?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.Loader2,{className:"w-5 h-5 mr-2 animate-spin"}),"Submitting..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.Upload,{className:"w-5 h-5 mr-2"}),"Submit Reclamation"]})}),(0,t.jsx)(i.Button,{type:"button",onClick:()=>I.back(),variant:"outline",className:"flex-1 border-2 border-gray-300 hover:border-gray-400 text-gray-700 font-semibold py-6 rounded-xl hover:bg-gray-50 transition-all duration-300",children:"Cancel"})]})]})]})})}):null}e.s(["default",()=>k])}]);