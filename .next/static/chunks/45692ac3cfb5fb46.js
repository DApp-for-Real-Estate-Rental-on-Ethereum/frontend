(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(47163);let a=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));a.displayName="Card";let n=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...r}));n.displayName="CardHeader";let i=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));i.displayName="CardTitle";let l=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("text-sm text-muted-foreground",e),...r}));l.displayName="CardDescription";let o=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("p-6 pt-0",e),...r}));o.displayName="CardContent",r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter",e.s(["Card",()=>a,"CardContent",()=>o,"CardDescription",()=>l,"CardHeader",()=>n,"CardTitle",()=>i])},31278,e=>{"use strict";let t=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},48425,e=>{"use strict";var t=e.i(71645),r=e.i(74080),s=e.i(91918),a=e.i(43476),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,r)=>{let n=t.forwardRef((e,t)=>{let{asChild:n,...i}=e,l=n?s.Slot:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(l,{...i,ref:t})});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{});function i(e,t){e&&r.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>n,"dispatchDiscreteCustomEvent",()=>i])},46897,e=>{"use strict";let t=(0,e.i(75254).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],46897)},81140,30030,e=>{"use strict";function t(e,r,{checkForDefaultPrevented:s=!0}={}){return function(t){if(e?.(t),!1===s||!t.defaultPrevented)return r?.(t)}}e.s(["composeEventHandlers",()=>t],81140);var r=e.i(71645),s=e.i(43476);function a(e,t){let a=r.createContext(t),n=e=>{let{children:t,...n}=e,i=r.useMemo(()=>n,Object.values(n));return(0,s.jsx)(a.Provider,{value:i,children:t})};return n.displayName=e+"Provider",[n,function(s){let n=r.useContext(a);if(n)return n;if(void 0!==t)return t;throw Error(`\`${s}\` must be used within \`${e}\``)}]}function n(e,t=[]){let a=[],i=()=>{let t=a.map(e=>r.createContext(e));return function(s){let a=s?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...s,[e]:a}}),[s,a])}};return i.scopeName=e,[function(t,n){let i=r.createContext(n),l=a.length;a=[...a,n];let o=t=>{let{scope:a,children:n,...o}=t,d=a?.[e]?.[l]||i,c=r.useMemo(()=>o,Object.values(o));return(0,s.jsx)(d.Provider,{value:c,children:n})};return o.displayName=t+"Provider",[o,function(s,a){let o=a?.[e]?.[l]||i,d=r.useContext(o);if(d)return d;if(void 0!==n)return n;throw Error(`\`${s}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=s.reduce((t,{useScope:r,scopeName:s})=>{let a=r(e)[`__scope${s}`];return{...t,...a}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return s.scopeName=t.scopeName,s}(i,...t)]}e.s(["createContext",()=>a,"createContextScope",()=>n],30030)},30207,e=>{"use strict";var t=e.i(71645);function r(e){let r=t.useRef(e);return t.useEffect(()=>{r.current=e}),t.useMemo(()=>(...e)=>r.current?.(...e),[])}e.s(["useCallbackRef",()=>r])},69340,e=>{"use strict";var t=e.i(71645),r=e.i(30207);function s({prop:e,defaultProp:s,onChange:a=()=>{}}){let[n,i]=function({defaultProp:e,onChange:s}){let a=t.useState(e),[n]=a,i=t.useRef(n),l=(0,r.useCallbackRef)(s);return t.useEffect(()=>{i.current!==n&&(l(n),i.current=n)},[n,i,l]),a}({defaultProp:s,onChange:a}),l=void 0!==e,o=l?e:n,d=(0,r.useCallbackRef)(a);return[o,t.useCallback(t=>{if(l){let r="function"==typeof t?t(e):t;r!==e&&d(r)}else i(t)},[l,e,i,d])]}e.s(["useControllableState",()=>s])},34620,e=>{"use strict";var t=e.i(71645),r=globalThis?.document?t.useLayoutEffect:()=>{};e.s(["useLayoutEffect",()=>r])},35804,e=>{"use strict";var t=e.i(71645),r=e.i(34620);function s(e){let[s,a]=t.useState(void 0);return(0,r.useLayoutEffect)(()=>{if(e){a({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,s;if(!Array.isArray(t)||!t.length)return;let n=t[0];if("borderBoxSize"in n){let e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,s=t.blockSize}else r=e.offsetWidth,s=e.offsetHeight;a({width:r,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}a(void 0)},[e]),s}e.s(["useSize",()=>s])},99682,e=>{"use strict";var t=e.i(71645);function r(e){let r=t.useRef({value:e,previous:e});return t.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}e.s(["usePrevious",()=>r])},69074,e=>{"use strict";let t=(0,e.i(75254).default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);e.s(["Upload",()=>t],69074)},19036,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(81140),a=e.i(20783),n=e.i(30030),i=e.i(69340),l=e.i(99682),o=e.i(35804),d=e.i(48425),c="Switch",[u,m]=(0,n.createContextScope)(c),[p,x]=u(c),g=r.forwardRef((e,n)=>{let{__scopeSwitch:l,name:o,checked:c,defaultChecked:u,required:m,disabled:x,value:g="on",onCheckedChange:f,form:h,...v}=e,[N,j]=r.useState(null),w=(0,a.useComposedRefs)(n,e=>j(e)),C=r.useRef(!1),P=!N||h||!!N.closest("form"),[S=!1,k]=(0,i.useControllableState)({prop:c,defaultProp:u,onChange:f});return(0,t.jsxs)(p,{scope:l,checked:S,disabled:x,children:[(0,t.jsx)(d.Primitive.button,{type:"button",role:"switch","aria-checked":S,"aria-required":m,"data-state":b(S),"data-disabled":x?"":void 0,disabled:x,value:g,...v,ref:w,onClick:(0,s.composeEventHandlers)(e.onClick,e=>{k(e=>!e),P&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),P&&(0,t.jsx)(y,{control:N,bubbles:!C.current,name:o,value:g,checked:S,required:m,disabled:x,form:h,style:{transform:"translateX(-100%)"}})]})});g.displayName=c;var f="SwitchThumb",h=r.forwardRef((e,r)=>{let{__scopeSwitch:s,...a}=e,n=x(f,s);return(0,t.jsx)(d.Primitive.span,{"data-state":b(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:r})});h.displayName=f;var y=e=>{let{control:s,checked:a,bubbles:n=!0,...i}=e,d=r.useRef(null),c=(0,l.usePrevious)(a),u=(0,o.useSize)(s);return r.useEffect(()=>{let e=d.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==a&&t){let r=new Event("click",{bubbles:n});t.call(e,a),e.dispatchEvent(r)}},[c,a,n]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...i,tabIndex:-1,ref:d,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function b(e){return e?"checked":"unchecked"}var v=e.i(47163);let N=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)(g,{className:(0,v.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...r,ref:s,children:(0,t.jsx)(h,{className:"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0"})}));N.displayName=g.displayName,e.s(["Switch",()=>N],19036)},45224,e=>{"use strict";var t=e.i(47167),r=e.i(43476),s=e.i(71645),a=e.i(18566),n=e.i(25715),i=e.i(71667),l=e.i(22016),o=e.i(67881),d=e.i(70065),c=e.i(69074),u=e.i(46897),m=e.i(31278),p=e.i(19036);function x(){let e=(0,a.useRouter)(),{user:x,isLoading:g,token:f}=(0,n.useAuth)(),[h,y]=(0,s.useState)(null),[b,v]=(0,s.useState)(!0),[N,j]=(0,s.useState)({title:"",description:"",typeId:"1",dailyPrice:"",depositAmount:"",negotiationPercentage:"",capacity:"",numberOfBedrooms:"",numberOfBathrooms:"",numberOfBeds:"",address:"",city:"",country:"Morocco",zipCode:"",latitude:"",longitude:""}),[w,C]=(0,s.useState)(!1),[P,S]=(0,s.useState)([]),[k,E]=(0,s.useState)([]),[A,I]=(0,s.useState)(!1),[O,D]=(0,s.useState)(""),[R,M]=(0,s.useState)({fiveDays:!1,fifteenDays:!1,oneMonth:!1});if((0,s.useEffect)(()=>{(async()=>{if(!x||!f||g)return v(!1);if(x.walletAddress&&""!==x.walletAddress.trim()){y(x.walletAddress),v(!1);return}try{let e=await i.apiClient.users.getMe(),r=e.walletAddress&&""!==e.walletAddress.trim()?e.walletAddress:null;if(y(r),r){let e={...x,walletAddress:r};localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem(t.default.env.NEXT_PUBLIC_USER_STORAGE_KEY||"derent5_user_data",JSON.stringify(e)),window.dispatchEvent(new Event("auth-state-changed"))}}catch(e){console.error("Failed to fetch wallet address:",e),y(null)}finally{v(!1)}})()},[x,f,g]),g||b)return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("p",{children:"Loading..."})});if(!x)return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:[(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Please sign in to post a property."}),(0,r.jsx)(l.default,{href:"/login",children:(0,r.jsx)(o.Button,{className:"bg-teal-600 hover:bg-teal-700",children:"Sign In"})})]});if(!(h||x?.walletAddress&&""!==x.walletAddress.trim()))return(0,r.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:(0,r.jsxs)(d.Card,{className:"p-8 text-center max-w-md",children:[(0,r.jsxs)("p",{className:"text-gray-600 mb-4",children:["You must connect your wallet before creating a property.",(0,r.jsx)("br",{}),"Please go to your profile and connect your wallet."]}),(0,r.jsx)(l.default,{href:"/profile",children:(0,r.jsx)(o.Button,{className:"bg-teal-600 hover:bg-teal-700",children:"Go to Profile"})})]})});let B=e=>{let{name:t,value:r}=e.target;j(e=>({...e,[t]:r}))},L=(e=0)=>{navigator.geolocation?(C(!0),D(""),navigator.geolocation.getCurrentPosition(async e=>{let{latitude:t,longitude:r,accuracy:s}=e.coords;console.log(`ðŸ“ Location obtained: ${t}, ${r} (accuracy: ${s}m)`);try{let e=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${t}&lon=${r}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"Derent Property App"}});if(!e.ok)throw Error("Failed to get address from coordinates");let s=(await e.json()).address||{};console.log("ðŸ“ Reverse geocoding result:",s),j(e=>({...e,latitude:t.toString(),longitude:r.toString(),address:s.road||s.house_number?`${s.house_number||""} ${s.road||""}`.trim():e.address,city:s.city||s.town||s.village||s.municipality||s.county||e.city,country:s.country||e.country,zipCode:s.postcode||e.zipCode})),D("")}catch(e){console.error("Reverse geocoding error:",e),j(e=>({...e,latitude:t.toString(),longitude:r.toString()})),D("Location detected but could not get address details. Please fill address manually.")}finally{C(!1)}},t=>{if(console.error("Geolocation error:",{code:t.code,message:t.message,PERMISSION_DENIED:t.PERMISSION_DENIED,POSITION_UNAVAILABLE:t.POSITION_UNAVAILABLE,TIMEOUT:t.TIMEOUT}),C(!1),0===e&&(t.code===t.POSITION_UNAVAILABLE||2===t.code)){console.log("Retrying with lower accuracy..."),setTimeout(()=>L(1),500);return}let r=t.code,s=t.message||"";r===t.PERMISSION_DENIED||1===r?D("Location access denied. Please enable location permissions in your browser settings and try again."):r===t.POSITION_UNAVAILABLE||2===r?D(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"Location unavailable. Please check if GPS is enabled on your device and try again, or enter address manually.":"Location unavailable. Desktop computers usually don't have GPS. Please enter address manually or use a mobile device."):r===t.TIMEOUT||3===r?D("Location request timed out. This may happen if GPS signal is weak. Please try again or enter address manually."):D(`Unable to get location (Error code: ${r}${s?` - ${s}`:""}). Please enter address manually.`)},0===e?{enableHighAccuracy:!0,timeout:15e3,maximumAge:6e4}:{enableHighAccuracy:!1,timeout:1e4,maximumAge:3e5})):D("Geolocation is not supported by your browser. Please enter address manually.")},T=async r=>{r.preventDefault(),D(""),I(!0);try{let r=h||x?.walletAddress;if(!r||""===r.trim()){D("You must connect your wallet before creating a property. Please go to your profile and connect your wallet."),I(!1);return}if(0===P.length){D("Please upload at least 5 images for your property."),I(!1);return}if(P.length<5){D(`Please upload at least 5 images. Currently uploaded: ${P.length}`),I(!1);return}if(P.length>10){D(`You can upload at most 10 images. Currently uploaded: ${P.length}`),I(!1);return}let s=parseFloat(N.dailyPrice),a=parseFloat(N.depositAmount)||0,n=parseFloat(N.negotiationPercentage),l=Number.parseInt(N.capacity),o=Number.parseInt(N.numberOfBedrooms),d=Number.parseInt(N.numberOfBathrooms),c=Number.parseInt(N.numberOfBeds);if(isNaN(s)||s<=0){D("Daily price must be a valid positive number."),I(!1);return}if(isNaN(a)||a<0){D("Deposit amount must be a valid non-negative number."),I(!1);return}if(isNaN(n)||n<0||n>100){D("negotiation percentage must be between 0 and 100."),I(!1);return}if(isNaN(l)||l<1){D("Capacity must be at least 1."),I(!1);return}if(isNaN(o)||o<1){D("Number of bedrooms must be at least 1."),I(!1);return}if(isNaN(d)||d<1){D("Number of bathrooms must be at least 1."),I(!1);return}if(isNaN(c)||c<1){D("Number of beds must be at least 1."),I(!1);return}let u=P[0]?.name||null,m={title:N.title.trim(),description:N.description.trim(),typeId:Number.parseInt(N.typeId),dailyPrice:s,depositAmount:a,negotiationPercentage:n,capacity:l,numberOfBedrooms:o,numberOfBathrooms:d,numberOfBeds:c,address:{address:N.address.trim(),city:N.city.trim(),country:N.country.trim(),zipCode:N.zipCode?Number.parseInt(N.zipCode):void 0,latitude:N.latitude?parseFloat(N.latitude):void 0,longitude:N.longitude?parseFloat(N.longitude):void 0},amenities:[],coverImageName:u,discountPlan:R.fiveDays||R.fifteenDays||R.oneMonth?{...R.fiveDays&&{fiveDays:10},...R.fifteenDays&&{fifteenDays:15},...R.oneMonth&&{oneMonth:20}}:null},p=await i.apiClient.properties.create(m,P);try{let e=await i.apiClient.users.getMe(),r=(e.roles||[]).map(e=>"HOST"===e?"POSTER":"TENANT"===e?"USER":"ADMIN"===e?"ADMIN":e),s={...x,roles:r.length>0?r:x?.roles||["USER"],walletAddress:e.walletAddress||x?.walletAddress};localStorage.setItem("user",JSON.stringify(s)),localStorage.setItem(t.default.env.NEXT_PUBLIC_USER_STORAGE_KEY||"derent5_user_data",JSON.stringify(s)),window.dispatchEvent(new Event("auth-state-changed"))}catch(e){console.error("Failed to refresh user data:",e)}e.refresh(),e.push(`/property/${p.propertyId||p.id}`)}catch(e){D(e instanceof Error?e.message:"Failed to create property")}finally{I(!1)}};return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"List Your Property"}),(0,r.jsx)("p",{className:"text-gray-600 mb-8",children:"Fill in the details to post your property"}),(0,r.jsx)(d.Card,{className:"p-8",children:(0,r.jsxs)("form",{onSubmit:T,className:"space-y-8",children:[O&&(0,r.jsx)("div",{className:"p-4 bg-red-50 text-red-700 rounded-lg",children:O}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Upload Images"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-teal-600 transition-colors",children:[(0,r.jsx)(c.Upload,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,r.jsxs)("label",{className:"cursor-pointer",children:[(0,r.jsx)("span",{className:"text-teal-600 hover:text-teal-700 font-medium",children:"Click to upload"})," or drag and drop",(0,r.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{let t=Array.from(e.target.files||[]),r=[...P,...t];if(r.length>10){D(`You can upload at most 10 images total. Currently have ${P.length}, trying to add ${t.length}`),e.target.value="";return}S(r),D(""),E([...k,...t.map(e=>URL.createObjectURL(e))]),e.target.value=""},className:"hidden"})]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["PNG, JPG, GIF up to 10MB (5-10 images required)",P.length>0&&P.length<10&&" - You can add more images"]})]}),k.length>0&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:k.map((e,t)=>(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsxs)("div",{className:"relative h-32 rounded-lg overflow-hidden border-2 border-gray-200",children:[(0,r.jsx)("img",{src:e||"/placeholder.svg",alt:`Preview ${t+1}`,className:"w-full h-full object-cover"}),(0,r.jsx)("button",{type:"button",onClick:()=>{let e,r;return URL.revokeObjectURL(k[t]),e=P.filter((e,r)=>r!==t),r=k.filter((e,r)=>r!==t),void(S(e),E(r),D(""))},className:"absolute top-1 right-1 bg-red-500 hover:bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove image",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsxs)("p",{className:"text-xs text-center mt-1 text-gray-600",children:["Image ",t+1]})]},t))}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsxs)("span",{className:`font-medium ${P.length<5?"text-red-600":P.length<=10?"text-green-600":"text-gray-600"}`,children:[P.length," / 10 images"]}),P.length<5&&(0,r.jsxs)("span",{className:"text-red-600 text-xs",children:["(Need ",5-P.length," more to proceed)"]}),P.length>=5&&P.length<=10&&(0,r.jsx)("span",{className:"text-green-600 text-xs",children:"âœ“ Ready to submit"})]})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Basic Information"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Title *"}),(0,r.jsx)("input",{type:"text",name:"title",value:N.title,onChange:B,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600",placeholder:"e.g. Modern Downtown Apartment",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,r.jsx)("textarea",{name:"description",value:N.description,onChange:B,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600 h-32",placeholder:"Describe your property in detail...",required:!0})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Type *"}),(0,r.jsxs)("select",{name:"typeId",value:N.typeId,onChange:B,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600",children:[(0,r.jsx)("option",{value:"1",children:"Apartment"}),(0,r.jsx)("option",{value:"2",children:"House"}),(0,r.jsx)("option",{value:"3",children:"Studio"}),(0,r.jsx)("option",{value:"4",children:"Condo"}),(0,r.jsx)("option",{value:"5",children:"Villa"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Daily Price (ETH) *"}),(0,r.jsx)("input",{type:"number",name:"dailyPrice",value:N.dailyPrice,onChange:B,step:"0.001",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600",placeholder:"0.05",required:!0}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Price per day in Ethereum (ETH)"})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deposit Amount (ETH) *"}),(0,r.jsx)("input",{type:"number",name:"depositAmount",value:N.depositAmount,onChange:B,step:"0.001",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600",placeholder:"0.1",required:!0}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Security deposit amount in Ethereum (ETH)"})]})}),(0,r.jsxs)("div",{className:"w-full mt-4",children:[(0,r.jsx)("label",{htmlFor:"negotiationPercentage",className:"block text-sm font-medium text-gray-700 mb-2",children:"negotiation Percentage (%) *"}),(0,r.jsx)("input",{id:"negotiationPercentage",type:"number",name:"negotiationPercentage",value:N.negotiationPercentage,onChange:B,step:"0.1",min:"0",max:"100",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600 focus:border-teal-600",placeholder:"0.0",required:!0,style:{display:"block",visibility:"visible"}}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the negotiation percentage (0-100%)"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Property Details"}),(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Guests *"}),(0,r.jsx)("input",{type:"number",name:"capacity",value:N.capacity,onChange:B,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600",placeholder:"4",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bedrooms *"}),(0,r.jsx)("input",{type:"number",name:"numberOfBedrooms",value:N.numberOfBedrooms,onChange:B,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600",placeholder:"2",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Beds *"}),(0,r.jsx)("input",{type:"number",name:"numberOfBeds",value:N.numberOfBeds,onChange:B,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600",placeholder:"3",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bathrooms *"}),(0,r.jsx)("input",{type:"number",name:"numberOfBathrooms",value:N.numberOfBathrooms,onChange:B,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600",placeholder:"1",min:"1",required:!0})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Discount Plan"}),(0,r.jsxs)("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-6 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)("span",{className:"font-semibold text-gray-900",children:"5 Days"}),(0,r.jsx)("span",{className:"px-2 py-1 bg-teal-600 text-white text-xs rounded",children:"10% OFF"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Get 10% discount when booking for 5 days or more"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(p.Switch,{checked:R.fiveDays,onCheckedChange:e=>M(t=>({...t,fiveDays:e}))}),(0,r.jsx)("span",{className:"text-sm text-gray-700 min-w-[60px]",children:R.fiveDays?"Enabled":"Disabled"})]})]}),(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)("span",{className:"font-semibold text-gray-900",children:"15 Days"}),(0,r.jsx)("span",{className:"px-2 py-1 bg-teal-600 text-white text-xs rounded",children:"15% OFF"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Get 15% discount when booking for 15 days or more"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(p.Switch,{checked:R.fifteenDays,onCheckedChange:e=>M(t=>({...t,fifteenDays:e}))}),(0,r.jsx)("span",{className:"text-sm text-gray-700 min-w-[60px]",children:R.fifteenDays?"Enabled":"Disabled"})]})]}),(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)("span",{className:"font-semibold text-gray-900",children:"1 Month+"}),(0,r.jsx)("span",{className:"px-2 py-1 bg-teal-600 text-white text-xs rounded",children:"20% OFF"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Get 20% discount when booking for a month or more"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(p.Switch,{checked:R.oneMonth,onCheckedChange:e=>M(t=>({...t,oneMonth:e}))}),(0,r.jsx)("span",{className:"text-sm text-gray-700 min-w-[60px]",children:R.oneMonth?"Enabled":"Disabled"})]})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-4 pt-4 border-t border-teal-200",children:"Enable the discount plans you want to offer. Discounts are automatically applied based on the booking duration."})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Location"}),(0,r.jsx)(o.Button,{type:"button",onClick:L,disabled:w,variant:"outline",className:"flex items-center gap-2",children:w?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.Loader2,{className:"w-4 h-4 animate-spin"}),"Getting location..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.MapPin,{className:"w-4 h-4"}),"Use Current Location"]})})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(N.latitude||N.longitude)&&(0,r.jsxs)("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-3 text-sm text-teal-700",children:[(0,r.jsx)("p",{className:"font-medium",children:"ðŸ“ Location detected:"}),(0,r.jsx)("p",{className:"text-xs mt-1",children:N.latitude&&N.longitude?`Lat: ${parseFloat(N.latitude).toFixed(6)}, Lng: ${parseFloat(N.longitude).toFixed(6)}`:""})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),(0,r.jsx)("input",{type:"text",name:"address",value:N.address,onChange:B,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600",placeholder:"123 Main Street",required:!0})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),(0,r.jsx)("input",{type:"text",name:"city",value:N.city,onChange:B,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600",placeholder:"Casablanca",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),(0,r.jsx)("input",{type:"text",name:"country",value:N.country,onChange:B,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code"}),(0,r.jsx)("input",{type:"text",name:"zipCode",value:N.zipCode,onChange:B,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600",placeholder:"20000"})]})]})]})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)(l.default,{href:"/",className:"flex-1",children:(0,r.jsx)(o.Button,{type:"button",variant:"outline",className:"w-full bg-transparent",children:"Cancel"})}),(0,r.jsx)(o.Button,{type:"submit",className:"flex-1 bg-teal-600 hover:bg-teal-700 h-12 text-lg",disabled:A,children:A?"Publishing...":"Publish Property"})]})]})})]})})}e.s(["default",()=>x])}]);