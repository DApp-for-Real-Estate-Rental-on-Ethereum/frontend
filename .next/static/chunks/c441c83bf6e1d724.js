(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23261,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(25715),l=e.i(18566),i=e.i(7486),r=e.i(61911),n=e.i(87316),c=e.i(75254);let d=(0,c.default)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),o=(0,c.default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var x=e.i(64659);function m({activeSection:e,onSectionChange:a}){let[l,c]=(0,t.useState)(null),m=[{id:"properties",label:"Properties",icon:i.Building2,subSections:[{id:"all-properties",label:"All Properties"},{id:"pending-approval",label:"Pending Approval"},{id:"approved",label:"Approved"},{id:"suspended",label:"Suspended"},{id:"disapproved",label:"Disapproved"}]},{id:"users",label:"Users",icon:r.Users,subSections:[{id:"all-users",label:"All Users"},{id:"admins",label:"Admins"},{id:"hosts",label:"Hosts"},{id:"tenants",label:"Tenants"},{id:"disabled",label:"Disabled Accounts"}]},{id:"bookings",label:"Bookings",icon:n.Calendar,subSections:[{id:"all-bookings",label:"All Bookings"},{id:"pending-payment",label:"Pending Payment"},{id:"active",label:"Active Bookings"},{id:"completed",label:"Completed"},{id:"cancelled",label:"Cancelled"}]},{id:"statistics",label:"Statistics",icon:d,subSections:[{id:"overview",label:"Overview"},{id:"revenue",label:"Revenue"},{id:"reports",label:"Reports"}]},{id:"reclamations",label:"Reclamations",icon:o,subSections:[{id:"all-reclamations",label:"All Reclamations"},{id:"open-reclamations",label:"Open"},{id:"in-review-reclamations",label:"In Review"},{id:"resolved-reclamations",label:"Resolved"},{id:"rejected-reclamations",label:"Rejected"}]}];return(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 mb-6 overflow-visible",children:(0,s.jsx)("div",{className:"flex items-stretch divide-x divide-gray-200",children:m.map(t=>{let i=t.icon,r=t.subSections.some(s=>s.id===e),n=l===t.id;return(0,s.jsxs)("div",{className:"flex-1 relative overflow-visible",children:[(0,s.jsx)("button",{onClick:()=>{var e;l===(e=t.id)?c(null):c(e)},className:`w-full px-3 py-3 text-center transition-colors ${r?"bg-teal-600 text-white":"hover:bg-gray-50"}`,children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-1.5",children:[(0,s.jsx)(i,{className:`w-4 h-4 ${r?"text-white":"text-gray-600"}`}),(0,s.jsx)("span",{className:`text-xs font-semibold ${r?"text-white":"text-gray-900"}`,children:t.label}),(0,s.jsx)(x.ChevronDown,{className:`w-3 h-3 transition-transform ${n?"rotate-180":""} ${r?"text-white":"text-gray-600"}`})]})}),n&&(0,s.jsx)("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 shadow-xl z-[100] rounded-b-lg mt-1",children:(0,s.jsx)("div",{className:"py-1",children:t.subSections.map(t=>(0,s.jsx)("button",{onClick:()=>{a(t.id),c(null)},className:`w-full px-4 py-2.5 text-left text-xs transition-colors ${e===t.id?"bg-teal-50 text-teal-700 font-semibold":"text-gray-700 hover:bg-gray-50"}`,children:t.label},t.id))})})]},t.id)})})})}var h=e.i(71667),p=e.i(70065),u=e.i(67881),g=e.i(94179),j=e.i(30374),N=e.i(23750),y=e.i(84762),v=e.i(47163);let b=t.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:a,className:(0,v.cn)("w-full caption-bottom text-sm",e),...t})}));b.displayName="Table";let f=t.forwardRef(({className:e,...t},a)=>(0,s.jsx)("thead",{ref:a,className:(0,v.cn)("[&_tr]:border-b",e),...t}));f.displayName="TableHeader";let C=t.forwardRef(({className:e,...t},a)=>(0,s.jsx)("tbody",{ref:a,className:(0,v.cn)("[&_tr:last-child]:border-0",e),...t}));C.displayName="TableBody",t.forwardRef(({className:e,...t},a)=>(0,s.jsx)("tfoot",{ref:a,className:(0,v.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let w=t.forwardRef(({className:e,...t},a)=>(0,s.jsx)("tr",{ref:a,className:(0,v.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));w.displayName="TableRow";let S=t.forwardRef(({className:e,...t},a)=>(0,s.jsx)("th",{ref:a,className:(0,v.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));S.displayName="TableHead";let I=t.forwardRef(({className:e,...t},a)=>(0,s.jsx)("td",{ref:a,className:(0,v.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));I.displayName="TableCell",t.forwardRef(({className:e,...t},a)=>(0,s.jsx)("caption",{ref:a,className:(0,v.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption";var A=e.i(31278),E=e.i(46897),D=e.i(69638),R=e.i(73884);let k=(0,c.default)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),P=(0,c.default)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var L=e.i(86536),T=e.i(55436),O=e.i(73375),B=e.i(63059),H=e.i(37727),M=e.i(57688);let U=(0,c.default)("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),_=(0,c.default)("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);var $=e.i(62870);function F({currentPage:e,totalPages:t,totalItems:a,itemsPerPage:l,onPageChange:i,onItemsPerPageChange:r,selectedCount:n=0}){return(0,s.jsxs)("div",{className:"flex items-center justify-between px-2 py-4 border-t",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[n>0&&(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[n," of ",a," row(s) selected."]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Rows per page"}),(0,s.jsxs)($.Select,{value:l.toString(),onValueChange:e=>r(Number(e)),children:[(0,s.jsx)($.SelectTrigger,{className:"h-8 w-[70px]",children:(0,s.jsx)($.SelectValue,{})}),(0,s.jsxs)($.SelectContent,{children:[(0,s.jsx)($.SelectItem,{value:"10",children:"10"}),(0,s.jsx)($.SelectItem,{value:"20",children:"20"}),(0,s.jsx)($.SelectItem,{value:"30",children:"30"}),(0,s.jsx)($.SelectItem,{value:"50",children:"50"}),(0,s.jsx)($.SelectItem,{value:"100",children:"100"})]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Page ",e," of ",t||1]}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(u.Button,{variant:"outline",size:"sm",onClick:()=>i(1),disabled:1===e,className:"h-8 w-8 p-0",children:(0,s.jsx)(U,{className:"h-4 w-4"})}),(0,s.jsx)(u.Button,{variant:"outline",size:"sm",onClick:()=>i(e-1),disabled:1===e,className:"h-8 w-8 p-0",children:(0,s.jsx)(O.ChevronLeft,{className:"h-4 w-4"})}),(0,s.jsx)(u.Button,{variant:"outline",size:"sm",onClick:()=>i(e+1),disabled:e>=t,className:"h-8 w-8 p-0",children:(0,s.jsx)(B.ChevronRight,{className:"h-4 w-4"})}),(0,s.jsx)(u.Button,{variant:"outline",size:"sm",onClick:()=>i(t),disabled:e>=t,className:"h-8 w-8 p-0",children:(0,s.jsx)(_,{className:"h-4 w-4"})})]})]})]})}function W({filter:e}){let[a,l]=(0,t.useState)([]),[i,r]=(0,t.useState)([]),[n,c]=(0,t.useState)(!0),[d,o]=(0,t.useState)(""),[x,m]=(0,t.useState)({}),[v,U]=(0,t.useState)(""),[_,$]=(0,t.useState)(1),[W,z]=(0,t.useState)(10),[G,V]=(0,t.useState)(!1),[Y,q]=(0,t.useState)(!1),[X,K]=(0,t.useState)(!1),[Z,J]=(0,t.useState)(!1),[Q,ee]=(0,t.useState)(!1),[es,et]=(0,t.useState)(null),[ea,el]=(0,t.useState)(""),[ei,er]=(0,t.useState)(!1),[en,ec]=(0,t.useState)(0),[ed,eo]=(0,t.useState)(null),[ex,em]=(0,t.useState)(!1);(0,t.useEffect)(()=>{eh()},[]),(0,t.useEffect)(()=>{ep(),$(1)},[a,e,v]),(0,t.useEffect)(()=>{(async()=>{if(!Q||!es?.userId)return eo(null);em(!0);try{let e="string"==typeof es.userId?parseInt(es.userId):es.userId;if(isNaN(e))return void eo(null);let s=await h.apiClient.users.getById(e);eo({firstName:s.firstName,lastName:s.lastName,email:s.email,phoneNumber:s.phoneNumber,profilePicture:s.profilePicture,walletAddress:s.walletAddress,score:s.score,rating:s.rating,enabled:s.enabled,roles:s.roles,birthday:s.birthday})}catch(e){eo(null)}finally{em(!1)}})()},[Q,es?.userId]),(0,t.useEffect)(()=>{if(!ei||!es?.propertyImages||0===es.propertyImages.length)return;let e=e=>{"ArrowLeft"===e.key?ec(e=>0===e?es.propertyImages.length-1:e-1):"ArrowRight"===e.key?ec(e=>e===es.propertyImages.length-1?0:e+1):"Escape"===e.key&&er(!1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[ei,es?.propertyImages?.length]);let eh=async()=>{try{c(!0),o("");let e=await h.apiClient.properties.getAllForAdmin();if(!Array.isArray(e)){o("Invalid response format from server"),l([]);return}l(e)}catch(e){o(e.message||"Failed to load properties"),l([])}finally{c(!1)}},ep=()=>{let s=[...a];if("pending-approval"===e?s=s.filter(e=>"PENDING_APPROVAL"===e.status):"approved"===e?s=s.filter(e=>"APPROVED"===e.status):"suspended"===e?s=s.filter(e=>"SUSPENDED"===e.status):"disapproved"===e&&(s=s.filter(e=>"DISAPPROVED"===e.status)),v.trim()){let e=v.toLowerCase();s=s.filter(s=>s.title.toLowerCase().includes(e)||s.description.toLowerCase().includes(e)||s.address?.city?.toLowerCase().includes(e)||s.address?.address?.toLowerCase().includes(e)||s.type?.type?.toLowerCase().includes(e))}r(s)},eu=e=>{let t={DRAFT:{label:"Draft",className:"bg-gray-100 text-gray-800 border-gray-200"},PENDING_APPROVAL:{label:"Pending Approval",className:"bg-yellow-100 text-yellow-800 border-yellow-200"},APPROVED:{label:"Approved",className:"bg-green-100 text-green-800 border-green-200"},SUSPENDED:{label:"Suspended",className:"bg-red-100 text-red-800 border-red-200"},HIDDEN:{label:"Hidden",className:"bg-gray-100 text-gray-800 border-gray-200"},VISIBLE_ONLY_FOR_TENANTS:{label:"Visible for Tenants",className:"bg-blue-100 text-blue-800 border-blue-200"},PENDING_DELETE:{label:"Pending Delete",className:"bg-orange-100 text-orange-800 border-orange-200"},DISAPPROVED:{label:"Disapproved",className:"bg-red-100 text-red-800 border-red-200"},WAITING_FOR_UPDATE:{label:"Waiting for Update",className:"bg-yellow-100 text-yellow-800 border-yellow-200"}}[e]||{label:e,className:"bg-gray-100 text-gray-800"};return(0,s.jsx)(g.Badge,{className:t.className,children:t.label})},eg=async e=>{m(s=>({...s,[e]:!0})),o("");try{await h.apiClient.properties.approve(e,!0),await eh(),V(!1),et(null)}catch(e){o(e.message||"Failed to approve property")}finally{m(s=>({...s,[e]:!1}))}},ej=async e=>{m(s=>({...s,[e]:!0})),o("");try{await h.apiClient.properties.approve(e,!1),await eh(),q(!1),et(null)}catch(e){o(e.message||"Failed to reject property")}finally{m(s=>({...s,[e]:!1}))}},eN=async()=>{if(!es||!ea.trim())return void o("Please provide a reason for suspension");m(e=>({...e,[es.id]:!0})),o("");try{await h.apiClient.properties.suspend(es.id,ea),await eh(),K(!1),et(null),el("")}catch(e){o(e.message||"Failed to suspend property")}finally{m(e=>({...e,[es.id]:!1}))}},ey=async e=>{m(s=>({...s,[e]:!0})),o("");try{await h.apiClient.properties.revokeSuspension(e),await eh(),J(!1),et(null)}catch(e){o(e.message||"Failed to revoke suspension")}finally{m(s=>({...s,[e]:!1}))}},ev=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("/uploads")?`http://localhost:8081${e}`:e.startsWith("/profile-pictures")||e.startsWith("/user-images")||e.startsWith("/")&&!e.startsWith("/uploads")?`http://localhost:8082${e}`:e:"/houses_placeholder.png";return n?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(A.Loader2,{className:"h-12 w-12 animate-spin text-teal-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading properties..."})]})}):d&&!n?(0,s.jsxs)(p.Card,{className:"p-6 text-center",children:[(0,s.jsx)("p",{className:"text-red-600 mb-4",children:d}),(0,s.jsx)(u.Button,{onClick:eh,variant:"outline",children:"Try Again"})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,s.jsxs)("div",{className:"flex-1 relative",children:[(0,s.jsx)(T.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,s.jsx)(N.Input,{placeholder:"Search by title, description, location, or type...",value:v,onChange:e=>U(e.target.value),className:"pl-10"})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[i.length," ",1===i.length?"property":"properties"]})]}),0===i.length?(0,s.jsx)(p.Card,{className:"p-12 text-center",children:(0,s.jsx)("p",{className:"text-gray-600 text-lg",children:v?"No properties found matching your search.":"No properties found."})}):(0,s.jsxs)(p.Card,{children:[(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)(b,{children:[(0,s.jsx)(f,{children:(0,s.jsxs)(w,{children:[(0,s.jsx)(S,{className:"w-[80px]",children:"Image"}),(0,s.jsx)(S,{children:"Title"}),(0,s.jsx)(S,{children:"Location"}),(0,s.jsx)(S,{children:"Type"}),(0,s.jsx)(S,{children:"Price"}),(0,s.jsx)(S,{children:"Capacity"}),(0,s.jsx)(S,{children:"Status"}),(0,s.jsx)(S,{className:"text-right",children:"Actions"})]})}),(0,s.jsx)(C,{children:i.slice((_-1)*W,_*W).map(t=>{let a=(e=>{if(!e.propertyImages||0===e.propertyImages.length)return null;let s=e.propertyImages.find(e=>e.cover);return s?s.url:e.propertyImages[0].url})(t),l=x[t.id];return(0,s.jsxs)(w,{className:"hover:bg-gray-50",children:[(0,s.jsx)(I,{children:(0,s.jsx)("div",{className:"relative w-16 h-16 bg-gray-200 rounded overflow-hidden",children:a?(0,s.jsx)(M.default,{src:ev(a),alt:t.title,fill:!0,className:"object-cover",onError:e=>{e.target.src="/houses_placeholder.png"}}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:"No Image"})})}),(0,s.jsx)(I,{children:(0,s.jsxs)("div",{className:"max-w-[200px]",children:[(0,s.jsx)("p",{className:"font-semibold text-gray-900 truncate",children:t.title}),(0,s.jsx)("p",{className:"text-xs text-gray-500 line-clamp-2 mt-1",children:t.description})]})}),(0,s.jsx)(I,{children:(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,s.jsx)(E.MapPin,{className:"w-3 h-3 mr-1 flex-shrink-0"}),(0,s.jsxs)("span",{className:"truncate max-w-[150px]",children:[t.address?.city,", ",t.address?.address]})]})}),(0,s.jsx)(I,{children:(0,s.jsx)("span",{className:"text-sm text-gray-600",children:t.type?.type||"N/A"})}),(0,s.jsx)(I,{children:(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)("span",{className:"font-semibold text-teal-600",children:[t.dailyPrice?.toFixed(4)||t.price?.toFixed(4)||"N/A"," ETH/day"]}),t.depositAmount&&t.depositAmount>0&&(0,s.jsxs)("span",{className:"text-xs font-semibold text-orange-600",children:["Deposit: ",t.depositAmount.toFixed(4)," ETH"]})]})}),(0,s.jsx)(I,{children:(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,s.jsxs)("div",{children:[t.capacity," guests"]}),t.numberOfBedrooms&&(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:[t.numberOfBedrooms," bedrooms"]})]})}),(0,s.jsx)(I,{children:eu(t.status)}),(0,s.jsx)(I,{children:(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,s.jsx)(u.Button,{variant:"outline",size:"sm",onClick:()=>{et(t),ee(!0)},children:(0,s.jsx)(L.Eye,{className:"w-4 h-4"})}),"PENDING_APPROVAL"===t.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.Button,{variant:"default",size:"sm",onClick:()=>{et(t),V(!0)},disabled:l,className:"bg-green-600 hover:bg-green-700",children:l?(0,s.jsx)(A.Loader2,{className:"w-4 h-4 animate-spin"}):(0,s.jsx)(D.CheckCircle,{className:"w-4 h-4"})}),(0,s.jsx)(u.Button,{variant:"default",size:"sm",onClick:()=>{et(t),q(!0)},disabled:l,className:"bg-red-600 hover:bg-red-700",children:l?(0,s.jsx)(A.Loader2,{className:"w-4 h-4 animate-spin"}):(0,s.jsx)(R.XCircle,{className:"w-4 h-4"})})]}),"DISAPPROVED"===t.status&&(0,s.jsx)(u.Button,{variant:"default",size:"sm",onClick:()=>{et(t),V(!0)},disabled:l,className:"bg-green-600 hover:bg-green-700",title:"Approve Property",children:l?(0,s.jsx)(A.Loader2,{className:"w-4 h-4 animate-spin"}):(0,s.jsx)(D.CheckCircle,{className:"w-4 h-4"})}),("APPROVED"===t.status||"approved"===e)&&"APPROVED"===t.status&&(0,s.jsx)(u.Button,{variant:"default",size:"sm",onClick:()=>{et(t),K(!0)},disabled:l,className:"bg-orange-600 hover:bg-orange-700",title:"Suspend Property",children:l?(0,s.jsx)(A.Loader2,{className:"w-4 h-4 animate-spin"}):(0,s.jsx)(k,{className:"w-4 h-4"})}),"SUSPENDED"===t.status&&(0,s.jsx)(u.Button,{variant:"default",size:"sm",onClick:()=>{et(t),J(!0)},disabled:l,className:"bg-green-600 hover:bg-green-700",children:l?(0,s.jsx)(A.Loader2,{className:"w-4 h-4 animate-spin"}):(0,s.jsx)(P,{className:"w-4 h-4"})})]})})]},t.id)})})]})}),i.length>0&&(0,s.jsx)(F,{currentPage:_,totalPages:Math.ceil(i.length/W),totalItems:i.length,itemsPerPage:W,onPageChange:$,onItemsPerPageChange:e=>{z(e),$(1)}})]}),(0,s.jsx)(j.Dialog,{open:G,onOpenChange:V,children:(0,s.jsxs)(j.DialogContent,{children:[(0,s.jsxs)(j.DialogHeader,{children:[(0,s.jsx)(j.DialogTitle,{children:"Approve Property"}),(0,s.jsxs)(j.DialogDescription,{children:['Are you sure you want to approve "',es?.title,'"? This will make it visible to all users.']})]}),(0,s.jsxs)("div",{className:"flex gap-2 justify-end mt-4",children:[(0,s.jsx)(u.Button,{variant:"outline",onClick:()=>V(!1),children:"Cancel"}),(0,s.jsx)(u.Button,{onClick:()=>es&&eg(es.id),className:"bg-green-600 hover:bg-green-700",children:"Approve"})]})]})}),(0,s.jsx)(j.Dialog,{open:Y,onOpenChange:q,children:(0,s.jsxs)(j.DialogContent,{children:[(0,s.jsxs)(j.DialogHeader,{children:[(0,s.jsx)(j.DialogTitle,{children:"Reject Property"}),(0,s.jsxs)(j.DialogDescription,{children:['Are you sure you want to reject "',es?.title,'"? This will mark it as disapproved.']})]}),(0,s.jsxs)("div",{className:"flex gap-2 justify-end mt-4",children:[(0,s.jsx)(u.Button,{variant:"outline",onClick:()=>q(!1),children:"Cancel"}),(0,s.jsx)(u.Button,{onClick:()=>es&&ej(es.id),className:"bg-red-600 hover:bg-red-700",children:"Reject"})]})]})}),(0,s.jsx)(j.Dialog,{open:X,onOpenChange:K,children:(0,s.jsxs)(j.DialogContent,{children:[(0,s.jsxs)(j.DialogHeader,{children:[(0,s.jsx)(j.DialogTitle,{children:"Suspend Property"}),(0,s.jsxs)(j.DialogDescription,{children:['Please provide a reason for suspending "',es?.title,'".']})]}),(0,s.jsx)(y.Textarea,{placeholder:"Reason for suspension...",value:ea,onChange:e=>el(e.target.value),className:"mt-4",rows:4}),d&&(0,s.jsx)("p",{className:"text-red-600 text-sm mt-2",children:d}),(0,s.jsxs)("div",{className:"flex gap-2 justify-end mt-4",children:[(0,s.jsx)(u.Button,{variant:"outline",onClick:()=>{K(!1),el("")},children:"Cancel"}),(0,s.jsx)(u.Button,{onClick:eN,disabled:!ea.trim(),className:"bg-orange-600 hover:bg-orange-700",children:"Suspend"})]})]})}),(0,s.jsx)(j.Dialog,{open:Z,onOpenChange:J,children:(0,s.jsxs)(j.DialogContent,{children:[(0,s.jsxs)(j.DialogHeader,{children:[(0,s.jsx)(j.DialogTitle,{children:"Revoke Suspension"}),(0,s.jsxs)(j.DialogDescription,{children:['Are you sure you want to revoke the suspension for "',es?.title,'"? This will restore it to approved status.']})]}),(0,s.jsxs)("div",{className:"flex gap-2 justify-end mt-4",children:[(0,s.jsx)(u.Button,{variant:"outline",onClick:()=>J(!1),children:"Cancel"}),(0,s.jsx)(u.Button,{onClick:()=>es&&ey(es.id),className:"bg-green-600 hover:bg-green-700",children:"Revoke Suspension"})]})]})}),(0,s.jsx)(j.Dialog,{open:Q,onOpenChange:ee,children:(0,s.jsxs)(j.DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)(j.DialogHeader,{children:(0,s.jsx)(j.DialogTitle,{children:es?.title})}),es&&(0,s.jsxs)("div",{className:"space-y-4",children:[es.propertyImages&&es.propertyImages.length>0?(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{className:"font-semibold mb-3",children:["Images (",es.propertyImages.length,")"]}),(0,s.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-3",children:es.propertyImages.map((e,t)=>(0,s.jsxs)("div",{className:"relative h-32 bg-gray-200 rounded-lg overflow-hidden cursor-pointer group hover:opacity-80 transition-opacity",onClick:()=>{ec(t),er(!0)},children:[(0,s.jsx)(M.default,{src:ev(e.url),alt:`${es.title} - Image ${t+1}`,fill:!0,className:"object-cover",sizes:"(max-width: 768px) 33vw, 25vw"}),e.cover&&(0,s.jsx)("div",{className:"absolute top-2 left-2 bg-teal-600 text-white text-xs px-2 py-1 rounded",children:"Cover"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-center justify-center",children:(0,s.jsx)(L.Eye,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},e.id||t))})]}):(0,s.jsx)("div",{className:"relative h-64 w-full bg-gray-200 rounded-lg overflow-hidden flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-gray-400",children:"No Images Available"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Status"}),eu(es.status)]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Description"}),(0,s.jsx)("p",{className:"text-gray-600",children:es.description})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Location"}),(0,s.jsxs)("p",{className:"text-gray-600",children:[es.address?.address,", ",es.address?.city]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Price"}),(0,s.jsxs)("p",{className:"text-gray-600",children:[es.dailyPrice||es.price," ETH/day"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Capacity"}),(0,s.jsxs)("p",{className:"text-gray-600",children:[es.capacity," guests"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Bedrooms"}),(0,s.jsx)("p",{className:"text-gray-600",children:es.numberOfBedrooms||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Type"}),(0,s.jsx)("p",{className:"text-gray-600",children:es.type?.type||"N/A"})]})]}),(0,s.jsxs)("div",{className:"border-t pt-4 mt-4",children:[(0,s.jsx)("h4",{className:"font-semibold mb-3",children:"Host Information"}),ex?(0,s.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,s.jsx)(A.Loader2,{className:"w-4 h-4 animate-spin"}),(0,s.jsx)("span",{className:"text-sm",children:"Loading host information..."})]}):ed?(0,s.jsxs)("div",{className:"space-y-4",children:[ed.profilePicture&&(0,s.jsx)("div",{className:"mb-4 flex justify-center",children:(0,s.jsx)("div",{className:"relative w-24 h-24 rounded-full overflow-hidden border-2 border-teal-200",children:(0,s.jsx)(M.default,{src:ev(ed.profilePicture),alt:`${ed.firstName} ${ed.lastName}`,fill:!0,className:"object-cover",sizes:"96px"})})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Full Name"}),(0,s.jsxs)("p",{className:"text-gray-900 font-semibold",children:[ed.firstName," ",ed.lastName]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Email"}),(0,s.jsx)("p",{className:"text-gray-900",children:ed.email||"N/A"})]}),ed.phoneNumber&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Phone Number"}),(0,s.jsx)("p",{className:"text-gray-900",children:ed.phoneNumber})]}),ed.birthday&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Birthday"}),(0,s.jsx)("p",{className:"text-gray-900",children:new Date(ed.birthday).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t",children:[void 0!==ed.score&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Score"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-2xl font-bold text-teal-600",children:ed.score}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:"/ 100"})]})]}),void 0!==ed.rating&&null!==ed.rating&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Rating"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-2xl font-bold text-yellow-600",children:ed.rating.toFixed(1)}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:"/ 5.0"})]})]})]}),ed.walletAddress&&(0,s.jsxs)("div",{className:"pt-2 border-t",children:[(0,s.jsx)("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Wallet Address"}),(0,s.jsx)("p",{className:"text-gray-900 font-mono text-xs break-all",children:ed.walletAddress})]}),ed.roles&&ed.roles.length>0&&(0,s.jsxs)("div",{className:"pt-2 border-t",children:[(0,s.jsx)("h5",{className:"text-sm font-medium text-gray-500 mb-2",children:"Roles"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:ed.roles.map((e,t)=>(0,s.jsx)(g.Badge,{className:"ADMIN"===e?"bg-purple-100 text-purple-800 border-purple-200":"POSTER"===e||"HOST"===e?"bg-teal-100 text-teal-800 border-teal-200":"bg-gray-100 text-gray-800 border-gray-200",children:e},t))})]}),void 0!==ed.enabled&&(0,s.jsxs)("div",{className:"pt-2 border-t",children:[(0,s.jsx)("h5",{className:"text-sm font-medium text-gray-500 mb-2",children:"Account Status"}),(0,s.jsx)(g.Badge,{className:ed.enabled?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200",children:ed.enabled?"Enabled":"Disabled"})]})]}):(0,s.jsx)("p",{className:"text-gray-500 text-sm",children:"Host information not available"})]})]})]})}),ei&&es&&es.propertyImages&&es.propertyImages.length>0&&(0,s.jsxs)("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center",onClick:()=>er(!1),children:[(0,s.jsx)("button",{onClick:()=>er(!1),className:"absolute top-4 right-4 z-10 text-white hover:text-gray-300 transition-colors","aria-label":"Close",children:(0,s.jsx)(H.X,{className:"w-8 h-8"})}),es.propertyImages.length>1&&(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),ec(e=>0===e?es.propertyImages.length-1:e-1)},className:"absolute left-4 z-10 text-white hover:text-gray-300 transition-colors bg-black/50 rounded-full p-3","aria-label":"Previous image",children:(0,s.jsx)(O.ChevronLeft,{className:"w-8 h-8"})}),(0,s.jsxs)("div",{className:"relative max-w-7xl max-h-[90vh] mx-4",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)(M.default,{src:ev(es.propertyImages[en]?.url),alt:`${es.title} - Image ${en+1}`,width:1200,height:800,className:"object-contain max-h-[90vh] w-auto",sizes:"90vw"}),es.propertyImages.length>1&&(0,s.jsxs)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/60 text-white px-4 py-2 rounded-lg text-sm backdrop-blur-sm",children:[en+1," / ",es.propertyImages.length]})]}),es.propertyImages.length>1&&(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),ec(e=>e===es.propertyImages.length-1?0:e+1)},className:"absolute right-4 z-10 text-white hover:text-gray-300 transition-colors bg-black/50 rounded-full p-3","aria-label":"Next image",children:(0,s.jsx)(B.ChevronRight,{className:"w-8 h-8"})})]})]})}var z=e.i(98919),G=e.i(84614);let V=(0,c.default)("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),Y=(0,c.default)("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),q=(0,c.default)("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function X({filter:e}){let[a,l]=(0,t.useState)([]),[r,n]=(0,t.useState)([]),[c,d]=(0,t.useState)(!0),[o,x]=(0,t.useState)(""),[m,y]=(0,t.useState)(""),[v,E]=(0,t.useState)({}),[k,P]=(0,t.useState)({open:!1,userId:null,action:null,message:""}),[L,O]=(0,t.useState)(1),[B,H]=(0,t.useState)(10);(0,t.useEffect)(()=>{U()},[]),(0,t.useEffect)(()=>{_(),O(1)},[a,e,m]);let U=async()=>{try{d(!0),x("");let e=await h.apiClient.users.getAllForAdmin();l(e)}catch(e){x(e.message||"Failed to load users")}finally{d(!1)}},_=()=>{let s=[...a];if("admins"===e?s=s.filter(e=>e.roles?.includes("ADMIN")):"hosts"===e?s=s.filter(e=>e.roles?.includes("HOST")||e.roles?.includes("POSTER")):"tenants"===e?s=s.filter(e=>e.roles?.includes("TENANT")||e.roles?.includes("USER")||!e.roles?.includes("ADMIN")&&!e.roles?.includes("HOST")&&!e.roles?.includes("POSTER")):"disabled"===e&&(s=s.filter(e=>!e.enabled)),m.trim()){let e=m.toLowerCase();s=s.filter(s=>s.firstName.toLowerCase().includes(e)||s.lastName.toLowerCase().includes(e)||s.email.toLowerCase().includes(e)||s.phoneNumber&&s.phoneNumber.toString().includes(e))}n(s)},$=async(e,s)=>{try{switch(E({...v,[e]:!0}),x(""),s){case"enable":await h.apiClient.users.enableUser(e);break;case"disable":await h.apiClient.users.disableUser(e);break;case"add-admin":await h.apiClient.users.addAdminRole(e);break;case"remove-admin":await h.apiClient.users.removeAdminRole(e);break;case"add-host":await h.apiClient.users.addHostRoleByAdmin(e);break;case"remove-host":await h.apiClient.users.removeHostRole(e)}await U(),P({open:!1,userId:null,action:null,message:""})}catch(e){x(e.message||e.errorData?.message||"Failed to perform action")}finally{E({...v,[e]:!1})}},W=(e,s,t)=>{P({open:!0,userId:e,action:s,message:t})};return c?(0,s.jsx)(p.Card,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,s.jsx)(A.Loader2,{className:"h-8 w-8 animate-spin text-teal-600"}),(0,s.jsx)("p",{className:"ml-3 text-gray-600",children:"Loading users..."})]})}):o?(0,s.jsx)(p.Card,{className:"p-6",children:(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("p",{className:"text-red-600 mb-4",children:o}),(0,s.jsx)(u.Button,{onClick:U,variant:"outline",children:"Try Again"})]})}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(p.Card,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(T.Search,{className:"w-5 h-5 text-gray-400"}),(0,s.jsx)(N.Input,{placeholder:"Search by name, email, or phone...",value:m,onChange:e=>y(e.target.value),className:"flex-1"})]})}),(0,s.jsxs)(p.Card,{children:[(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)(b,{children:[(0,s.jsx)(f,{children:(0,s.jsxs)(w,{children:[(0,s.jsx)(S,{children:"User"}),(0,s.jsx)(S,{children:"Email"}),(0,s.jsx)(S,{children:"Phone"}),(0,s.jsx)(S,{children:"Roles"}),(0,s.jsx)(S,{children:"Status"}),(0,s.jsx)(S,{children:"Wallet"}),(0,s.jsx)(S,{children:"Actions"})]})}),(0,s.jsx)(C,{children:0===r.length?(0,s.jsx)(w,{children:(0,s.jsx)(I,{colSpan:7,className:"text-center py-8 text-gray-500",children:"No users found"})}):r.slice((L-1)*B,L*B).map(t=>{var a;let l,r,n,c,d,o;return(0,s.jsxs)(w,{children:[(0,s.jsx)(I,{children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[t.profilePicture?(0,s.jsx)(M.default,{src:(l=t.profilePicture)?l.startsWith("http://")||l.startsWith("https://")?l:l.startsWith("/profile-pictures")||l.startsWith("/user-images")||l.startsWith("/")?`http://localhost:8082${l}`:l:"/placeholder.jpg",alt:`${t.firstName} ${t.lastName}`,width:40,height:40,className:"rounded-full object-cover"}):(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:(0,s.jsx)(G.User,{className:"w-5 h-5 text-gray-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-medium",children:[t.firstName," ",t.lastName]}),t.birthday&&(0,s.jsx)("p",{className:"text-sm text-gray-500",children:new Date(t.birthday).toLocaleDateString()})]})]})}),(0,s.jsx)(I,{children:(0,s.jsx)("p",{className:"text-sm",children:t.email})}),(0,s.jsx)(I,{children:t.phoneNumber?(0,s.jsx)("p",{className:"text-sm",children:t.phoneNumber}):(0,s.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,s.jsx)(I,{children:(a=t.roles)&&0!==a.length?(0,s.jsx)("div",{className:"flex gap-1 flex-wrap",children:a.map(e=>"ADMIN"===e?(0,s.jsxs)(g.Badge,{variant:"default",className:"bg-purple-600",children:[(0,s.jsx)(z.Shield,{className:"w-3 h-3 mr-1"}),"Admin"]},e):"HOST"===e||"POSTER"===e?(0,s.jsxs)(g.Badge,{variant:"default",className:"bg-blue-600",children:[(0,s.jsx)(i.Building2,{className:"w-3 h-3 mr-1"}),"Host"]},e):"TENANT"===e||"USER"===e?(0,s.jsxs)(g.Badge,{variant:"default",className:"bg-green-600",children:[(0,s.jsx)(G.User,{className:"w-3 h-3 mr-1"}),"Tenant"]},e):(0,s.jsx)(g.Badge,{variant:"outline",children:e},e))}):(0,s.jsx)(g.Badge,{variant:"outline",children:"No Role"})}),(0,s.jsx)(I,{children:t.enabled?(0,s.jsxs)(g.Badge,{variant:"default",className:"bg-green-600",children:[(0,s.jsx)(D.CheckCircle,{className:"w-3 h-3 mr-1"}),"Active"]}):(0,s.jsxs)(g.Badge,{variant:"default",className:"bg-red-600",children:[(0,s.jsx)(R.XCircle,{className:"w-3 h-3 mr-1"}),"Disabled"]})}),(0,s.jsx)(I,{children:t.walletAddress?(0,s.jsxs)("p",{className:"text-xs font-mono text-gray-600",children:[t.walletAddress.slice(0,6),"...",t.walletAddress.slice(-4)]}):(0,s.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,s.jsx)(I,{children:(0,s.jsx)("div",{className:"flex gap-2 flex-wrap",children:(r=[],n=v[t.id]||!1,c=t.roles?.includes("ADMIN"),d=t.roles?.includes("HOST")||t.roles?.includes("POSTER"),o=t.roles?.includes("TENANT")||t.roles?.includes("USER")||!c&&!d,t.enabled?r.push((0,s.jsxs)(u.Button,{size:"sm",variant:"outline",onClick:()=>W(t.id,"disable",`Are you sure you want to disable ${t.firstName} ${t.lastName}?`),disabled:n,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[(0,s.jsx)(Y,{className:"w-3 h-3 mr-1"}),"Disable"]},"disable")):r.push((0,s.jsxs)(u.Button,{size:"sm",variant:"outline",onClick:()=>W(t.id,"enable",`Are you sure you want to enable ${t.firstName} ${t.lastName}?`),disabled:n,className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:[(0,s.jsx)(V,{className:"w-3 h-3 mr-1"}),"Enable"]},"enable")),("admins"===e||"all-users"===e)&&(c?r.push((0,s.jsxs)(u.Button,{size:"sm",variant:"outline",onClick:()=>W(t.id,"remove-admin",`Are you sure you want to remove admin role from ${t.firstName} ${t.lastName}?`),disabled:n,className:"text-purple-600 hover:text-purple-700 hover:bg-purple-50",children:[(0,s.jsx)(q,{className:"w-3 h-3 mr-1"}),"Remove Admin"]},"remove-admin")):r.push((0,s.jsxs)(u.Button,{size:"sm",variant:"outline",onClick:()=>W(t.id,"add-admin",`Are you sure you want to make ${t.firstName} ${t.lastName} an admin?`),disabled:n,className:"text-purple-600 hover:text-purple-700 hover:bg-purple-50",children:[(0,s.jsx)(z.Shield,{className:"w-3 h-3 mr-1"}),"Make Admin"]},"add-admin"))),("hosts"===e||"tenants"===e||"all-users"===e)&&(d?r.push((0,s.jsxs)(u.Button,{size:"sm",variant:"outline",onClick:()=>W(t.id,"remove-host",`Are you sure you want to remove host role from ${t.firstName} ${t.lastName}?`),disabled:n,className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:[(0,s.jsx)(q,{className:"w-3 h-3 mr-1"}),"Remove Host"]},"remove-host")):o&&r.push((0,s.jsxs)(u.Button,{size:"sm",variant:"outline",onClick:()=>W(t.id,"add-host",`Are you sure you want to make ${t.firstName} ${t.lastName} a host?`),disabled:n,className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:[(0,s.jsx)(i.Building2,{className:"w-3 h-3 mr-1"}),"Make Host"]},"add-host"))),r)})})]},t.id)})})]})}),r.length>0&&(0,s.jsx)(F,{currentPage:L,totalPages:Math.ceil(r.length/B),totalItems:r.length,itemsPerPage:B,onPageChange:O,onItemsPerPageChange:e=>{H(e),O(1)}})]}),(0,s.jsx)(j.Dialog,{open:k.open,onOpenChange:e=>!e&&P({open:!1,userId:null,action:null,message:""}),children:(0,s.jsxs)(j.DialogContent,{children:[(0,s.jsxs)(j.DialogHeader,{children:[(0,s.jsx)(j.DialogTitle,{children:"Confirm Action"}),(0,s.jsx)(j.DialogDescription,{children:k.message})]}),(0,s.jsxs)(j.DialogFooter,{children:[(0,s.jsx)(u.Button,{variant:"outline",onClick:()=>P({open:!1,userId:null,action:null,message:""}),children:"Cancel"}),(0,s.jsx)(u.Button,{onClick:()=>k.userId&&k.action&&$(k.userId,k.action),disabled:v[k.userId||0]||!1,children:v[k.userId||0]?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(A.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):"Confirm"})]})]})})]})}function K({filter:e}){let[a,l]=(0,t.useState)([]),[i,r]=(0,t.useState)([]),[n,c]=(0,t.useState)(!0),[d,o]=(0,t.useState)(""),[x,m]=(0,t.useState)(""),[y,v]=(0,t.useState)(!1),[E,D]=(0,t.useState)(null),[R,k]=(0,t.useState)(1),[P,O]=(0,t.useState)(10);(0,t.useEffect)(()=>{B()},[]),(0,t.useEffect)(()=>{H(),k(1)},[a,e,x]);let B=async()=>{try{c(!0),o("");let e=await h.apiClient.bookings.getAllForAdmin();l(e)}catch(e){o(e.message||"Failed to load bookings")}finally{c(!1)}},H=()=>{let s=[...a];if("pending-payment"===e?s=s.filter(e=>"PENDING_PAYMENT"===e.status):"active"===e?s=s.filter(e=>"CONFIRMED"===e.status||"TENANT_CHECKED_OUT"===e.status):"completed"===e?s=s.filter(e=>"COMPLETED"===e.status):"cancelled"===e&&(s=s.filter(e=>"CANCELLED"===e.status)),x.trim()){let e=x.toLowerCase();s=s.filter(s=>s.propertyTitle.toLowerCase().includes(e)||s.tenantName.toLowerCase().includes(e)||s.hostName.toLowerCase().includes(e)||s.propertyAddress.toLowerCase().includes(e)||s.id.toString().includes(e))}r(s)},M=e=>{let t={PENDING_PAYMENT:{label:"Pending Payment",className:"bg-yellow-600"},PENDING_NEGOTIATION:{label:"Pending Negotiation",className:"bg-orange-600"},CONFIRMED:{label:"Confirmed",className:"bg-blue-600"},TENANT_CHECKED_OUT:{label:"Checked Out",className:"bg-purple-600"},COMPLETED:{label:"Completed",className:"bg-green-600"},CANCELLED:{label:"Cancelled",className:"bg-red-600"},DISPUTED:{label:"Disputed",className:"bg-pink-600"}}[e]||{label:e,className:"bg-gray-600"};return(0,s.jsx)(g.Badge,{variant:"default",className:t.className,children:t.label})},U=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-",_=e=>null===e?"-":`$${e.toFixed(2)}`;return n?(0,s.jsx)(p.Card,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,s.jsx)(A.Loader2,{className:"h-8 w-8 animate-spin text-teal-600"}),(0,s.jsx)("p",{className:"ml-3 text-gray-600",children:"Loading bookings..."})]})}):d?(0,s.jsx)(p.Card,{className:"p-6",children:(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("p",{className:"text-red-600 mb-4",children:d}),(0,s.jsx)(u.Button,{onClick:B,variant:"outline",children:"Try Again"})]})}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(p.Card,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(T.Search,{className:"w-5 h-5 text-gray-400"}),(0,s.jsx)(N.Input,{placeholder:"Search by property, tenant, host, or booking ID...",value:x,onChange:e=>m(e.target.value),className:"flex-1"})]})}),(0,s.jsxs)(p.Card,{children:[(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)(b,{children:[(0,s.jsx)(f,{children:(0,s.jsxs)(w,{children:[(0,s.jsx)(S,{children:"Property"}),(0,s.jsx)(S,{children:"Tenant"}),(0,s.jsx)(S,{children:"Host"}),(0,s.jsx)(S,{children:"Dates"}),(0,s.jsx)(S,{children:"Nights"}),(0,s.jsx)(S,{children:"Price"}),(0,s.jsx)(S,{children:"Status"}),(0,s.jsx)(S,{children:"Actions"})]})}),(0,s.jsx)(C,{children:0===i.length?(0,s.jsx)(w,{children:(0,s.jsx)(I,{colSpan:8,className:"text-center py-8 text-gray-500",children:"No bookings found"})}):i.slice((R-1)*P,R*P).map(e=>(0,s.jsxs)(w,{children:[(0,s.jsx)(I,{children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-sm",children:e.propertyTitle}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:e.propertyAddress})]})}),(0,s.jsx)(I,{children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:e.tenantName}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:e.tenantEmail})]})}),(0,s.jsx)(I,{children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:e.hostName}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:e.hostEmail})]})}),(0,s.jsx)(I,{children:(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("p",{className:"font-medium",children:U(e.checkInDate)}),(0,s.jsxs)("p",{className:"text-gray-500",children:["to ",U(e.checkOutDate)]})]})}),(0,s.jsx)(I,{children:(0,s.jsxs)("p",{className:"text-sm",children:[e.numberOfNights||"-"," nights"]})}),(0,s.jsx)(I,{children:(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("p",{className:"font-medium",children:_(e.totalPrice)}),e.longStayDiscountPercent&&(0,s.jsxs)("p",{className:"text-xs text-green-600",children:[e.longStayDiscountPercent,"% discount"]}),e.requestedNegotiationPercent&&(0,s.jsxs)("p",{className:"text-xs text-orange-600",children:[e.requestedNegotiationPercent,"% negotiation"]})]})}),(0,s.jsx)(I,{children:M(e.status)}),(0,s.jsx)(I,{children:(0,s.jsxs)(u.Button,{size:"sm",variant:"outline",onClick:()=>{D(e),v(!0)},children:[(0,s.jsx)(L.Eye,{className:"w-3 h-3 mr-1"}),"View"]})})]},e.id))})]})}),i.length>0&&(0,s.jsx)(F,{currentPage:R,totalPages:Math.ceil(i.length/P),totalItems:i.length,itemsPerPage:P,onPageChange:k,onItemsPerPageChange:e=>{O(e),k(1)}})]}),(0,s.jsx)(j.Dialog,{open:y,onOpenChange:v,children:(0,s.jsxs)(j.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(j.DialogHeader,{children:[(0,s.jsxs)(j.DialogTitle,{children:["Booking Details - #",E?.id]}),(0,s.jsx)(j.DialogDescription,{children:"Complete information about this booking"})]}),E&&(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Property"}),(0,s.jsx)("p",{className:"text-sm font-semibold",children:E.propertyTitle}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:E.propertyAddress})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Status"}),M(E.status)]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Tenant"}),(0,s.jsx)("p",{className:"text-sm",children:E.tenantName}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:E.tenantEmail})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Host"}),(0,s.jsx)("p",{className:"text-sm",children:E.hostName}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:E.hostEmail})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Check-in"}),(0,s.jsx)("p",{className:"text-sm",children:U(E.checkInDate)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Check-out"}),(0,s.jsx)("p",{className:"text-sm",children:U(E.checkOutDate)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Nights"}),(0,s.jsx)("p",{className:"text-sm",children:E.numberOfNights||"-"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Price"}),(0,s.jsx)("p",{className:"text-sm font-semibold",children:_(E.totalPrice)})]}),E.longStayDiscountPercent&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Long Stay Discount"}),(0,s.jsxs)("p",{className:"text-sm text-green-600",children:[E.longStayDiscountPercent,"%"]})]}),E.requestedNegotiationPercent&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Negotiation"}),(0,s.jsxs)("p",{className:"text-sm text-orange-600",children:[E.requestedNegotiationPercent,"%"]}),E.negotiationExpiresAt&&(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Expires: ",U(E.negotiationExpiresAt)]})]}),E.onChainTxHash&&(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Transaction Hash"}),(0,s.jsx)("p",{className:"text-xs font-mono break-all",children:E.onChainTxHash})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Created At"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:U(E.createdAt)})]}),E.updatedAt&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Updated At"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:U(E.updatedAt)})]})]})})]})})]})}var Z=e.i(47167),J=e.i(63209),Q=e.i(3116),ee=e.i(12426);let es=(0,c.default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),et=(0,c.default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),ea=(0,c.default)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var el=e.i(46696);let ei=Z.default.env.NEXT_PUBLIC_RECLAMATION_API_BASE_URL||"http://localhost:8091";function er({filter:e}){let a,l,[i,r]=(0,t.useState)([]),[n,c]=(0,t.useState)([]),[d,o]=(0,t.useState)(!0),[x,m]=(0,t.useState)(""),[v,E]=(0,t.useState)({}),[k,P]=(0,t.useState)(""),[O,B]=(0,t.useState)(1),[H]=(0,t.useState)(10),[M,U]=(0,t.useState)("ALL"),[_,F]=(0,t.useState)("ALL"),[W,z]=(0,t.useState)("ALL"),[V,Y]=(0,t.useState)(!1),[q,X]=(0,t.useState)(!1),[K,Z]=(0,t.useState)(!1),[er,en]=(0,t.useState)(!1),[ec,ed]=(0,t.useState)(null),[eo,ex]=(0,t.useState)(""),[em,eh]=(0,t.useState)(""),[ep,eu]=(0,t.useState)("LOW"),[eg,ej]=(0,t.useState)([]),[eN,ey]=(0,t.useState)(!1);(0,t.useEffect)(()=>{ev()},[e]),(0,t.useEffect)(()=>{eb()},[i,k,e,M,_,W]);let ev=async()=>{try{o(!0),m("");let s=[];s="open-reclamations"===e?await h.apiClient.adminReclamations.getByStatus("OPEN"):"in-review-reclamations"===e?await h.apiClient.adminReclamations.getByStatus("IN_REVIEW"):"resolved-reclamations"===e?await h.apiClient.adminReclamations.getByStatus("RESOLVED"):"rejected-reclamations"===e?await h.apiClient.adminReclamations.getByStatus("REJECTED"):await h.apiClient.adminReclamations.getAll(),r(s)}catch(e){m(e.message||"Failed to fetch reclamations"),el.toast.error("Failed to load reclamations")}finally{o(!1)}},eb=()=>{let e=[...i];k&&(e=e.filter(e=>e.id.toString().includes(k)||e.bookingId.toString().includes(k)||e.type.toLowerCase().includes(k.toLowerCase())||e.title&&e.title.toLowerCase().includes(k.toLowerCase()))),"ALL"!==M&&(e=e.filter(e=>e.complainantRole===M)),"ALL"!==_&&(e=e.filter(e=>e.severity===_)),"ALL"!==W&&(e=e.filter(e=>e.type===W)),c(e),B(1)},ef=async e=>{ed(e),Y(!0),ey(!0),ej([]);try{console.log("ðŸ“¸ Loading attachments for reclamation:",e.id);let s=await h.apiClient.adminReclamations.getAttachments(e.id);console.log("ðŸ“¸ Attachments loaded:",s),ej(s||[])}catch(e){console.error("âŒ Failed to load attachments:",e),el.toast.error("Failed to load images: "+(e.message||"Unknown error")),ej([])}finally{ey(!1)}},eC=async e=>{try{E({...v,[`review-${e}`]:!0}),await h.apiClient.adminReclamations.review(e),el.toast.success("Reclamation moved to review"),await ev()}catch(e){el.toast.error(e.message||"Failed to review reclamation")}finally{E({...v,[`review-${e}`]:!1})}},ew=async()=>{if(ec)try{E({...v,[`severity-${ec.id}`]:!0}),await h.apiClient.adminReclamations.updateSeverity(ec.id,ep),el.toast.success("Severity updated successfully"),en(!1),await ev()}catch(e){el.toast.error(e.message||"Failed to update severity")}finally{E({...v,[`severity-${ec.id}`]:!1})}},eS=async e=>{if(ec)try{E({...v,[`resolve-${ec.id}`]:!0}),await h.apiClient.adminReclamations.resolve(ec.id,eo,e),el.toast.success(e?"Reclamation resolved successfully":"Reclamation rejected"),X(!1),ex(""),await ev()}catch(e){el.toast.error(e.message||"Failed to resolve reclamation")}finally{E({...v,[`resolve-${ec.id}`]:!1})}},eI=async()=>{if(ec)try{E({...v,[`reject-${ec.id}`]:!0}),await h.apiClient.adminReclamations.reject(ec.id,em),el.toast.success("Reclamation rejected"),Z(!1),eh(""),await ev()}catch(e){el.toast.error(e.message||"Failed to reject reclamation")}finally{E({...v,[`reject-${ec.id}`]:!1})}},eA=e=>(0,s.jsx)(g.Badge,{className:{OPEN:"bg-blue-100 text-blue-800",IN_REVIEW:"bg-yellow-100 text-yellow-800",RESOLVED:"bg-green-100 text-green-800",REJECTED:"bg-red-100 text-red-800"}[e]||"bg-gray-100 text-gray-800",children:e.replace("_"," ")}),eE=e=>(0,s.jsx)(g.Badge,{className:{LOW:"bg-green-100 text-green-800",MEDIUM:"bg-yellow-100 text-yellow-800",HIGH:"bg-orange-100 text-orange-800",CRITICAL:"bg-red-100 text-red-800"}[e]||"bg-gray-100 text-gray-800",children:e}),eD=e=>({ACCESS_ISSUE:"Access Issue",NOT_AS_DESCRIBED:"Not As Described",CLEANLINESS:"Cleanliness",SAFETY_HEALTH:"Safety & Health",PROPERTY_DAMAGE:"Property Damage",EXTRA_CLEANING:"Extra Cleaning",HOUSE_RULE_VIOLATION:"House Rule Violation",UNAUTHORIZED_GUESTS_OR_STAY:"Unauthorized Guests/Stay"})[e]||e,eR=(e,s,t,a,l)=>{if("GUEST"===t)switch(e){case"ACCESS_ISSUE":case"NOT_AS_DESCRIBED":return{refund:.9*(a||0)+(l||0),penaltyPoints:10};case"CLEANLINESS":let i={LOW:.05*(a||0),MEDIUM:.125*(a||0),HIGH:.325*(a||0),CRITICAL:.5*(a||0)};return{refund:({LOW:.9*i.LOW,MEDIUM:.9*i.MEDIUM,HIGH:.9*i.HIGH,CRITICAL:.9*i.CRITICAL})[s]||0,penaltyPoints:({LOW:0,MEDIUM:2,HIGH:5,CRITICAL:10})[s]||0};case"SAFETY_HEALTH":let r={LOW:.1*(a||0),MEDIUM:.3*(a||0),HIGH:.7*(a||0),CRITICAL:a||0};return{refund:({LOW:.9*r.LOW,MEDIUM:.9*r.MEDIUM,HIGH:.9*r.HIGH,CRITICAL:.9*r.CRITICAL})[s]||0,penaltyPoints:({LOW:3,MEDIUM:7,HIGH:15,CRITICAL:25})[s]||0};default:return{refund:0,penaltyPoints:0}}switch(e){case"PROPERTY_DAMAGE":return{refund:({LOW:.075*(l||0),MEDIUM:.3*(l||0),HIGH:.7*(l||0),CRITICAL:l||0})[s]||0,penaltyPoints:({LOW:2,MEDIUM:5,HIGH:10,CRITICAL:15})[s]||0};case"EXTRA_CLEANING":return{refund:({LOW:.075*(l||0),MEDIUM:.2*(l||0),HIGH:.4*(l||0),CRITICAL:.7*(l||0)})[s]||0,penaltyPoints:({LOW:1,MEDIUM:3,HIGH:5,CRITICAL:8})[s]||0};case"HOUSE_RULE_VIOLATION":return{refund:({LOW:0,MEDIUM:.15*(l||0),HIGH:.5*(l||0),CRITICAL:l||0})[s]||0,penaltyPoints:({LOW:2,MEDIUM:5,HIGH:10,CRITICAL:15})[s]||0};case"UNAUTHORIZED_GUESTS_OR_STAY":return{refund:({LOW:.1*(l||0),MEDIUM:.325*(l||0),HIGH:.7*(l||0),CRITICAL:l||0})[s]||0,penaltyPoints:({LOW:3,MEDIUM:7,HIGH:12,CRITICAL:20})[s]||0};default:return{refund:0,penaltyPoints:0}}},ek=Math.ceil(n.length/H),eP=(O-1)*H,eL=eP+H,eT=n.slice(eP,eL);return d?(0,s.jsx)(p.Card,{className:"p-6",children:(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)(A.Loader2,{className:"h-8 w-8 animate-spin text-teal-600"})})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(p.Card,{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Reclamations Management"}),(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(T.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,s.jsx)(N.Input,{placeholder:"Search reclamations...",value:k,onChange:e=>P(e.target.value),className:"pl-10 w-64"})]})})]}),(0,s.jsxs)("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Filter by Role"}),(0,s.jsxs)($.Select,{value:M,onValueChange:e=>U(e),children:[(0,s.jsx)($.SelectTrigger,{children:(0,s.jsx)($.SelectValue,{})}),(0,s.jsxs)($.SelectContent,{children:[(0,s.jsx)($.SelectItem,{value:"ALL",children:"All Roles"}),(0,s.jsx)($.SelectItem,{value:"GUEST",children:"Guest Complaints"}),(0,s.jsx)($.SelectItem,{value:"HOST",children:"Host Complaints"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Filter by Severity"}),(0,s.jsxs)($.Select,{value:_,onValueChange:e=>F(e),children:[(0,s.jsx)($.SelectTrigger,{children:(0,s.jsx)($.SelectValue,{})}),(0,s.jsxs)($.SelectContent,{children:[(0,s.jsx)($.SelectItem,{value:"ALL",children:"All Severities"}),(0,s.jsx)($.SelectItem,{value:"LOW",children:"Low"}),(0,s.jsx)($.SelectItem,{value:"MEDIUM",children:"Medium"}),(0,s.jsx)($.SelectItem,{value:"HIGH",children:"High"}),(0,s.jsx)($.SelectItem,{value:"CRITICAL",children:"Critical"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Filter by Type"}),(0,s.jsxs)($.Select,{value:W,onValueChange:z,children:[(0,s.jsx)($.SelectTrigger,{children:(0,s.jsx)($.SelectValue,{})}),(0,s.jsxs)($.SelectContent,{children:[(0,s.jsx)($.SelectItem,{value:"ALL",children:"All Types"}),["ACCESS_ISSUE","NOT_AS_DESCRIBED","CLEANLINESS","SAFETY_HEALTH","PROPERTY_DAMAGE","EXTRA_CLEANING","HOUSE_RULE_VIOLATION","UNAUTHORIZED_GUESTS_OR_STAY"].map(e=>(0,s.jsx)($.SelectItem,{value:e,children:eD(e)},e))]})]})]}),(0,s.jsx)("div",{className:"flex items-end",children:(0,s.jsxs)(u.Button,{variant:"outline",onClick:()=>{U("ALL"),F("ALL"),z("ALL"),P("")},className:"w-full",children:[(0,s.jsx)(es,{className:"w-4 h-4 mr-2"}),"Clear Filters"]})})]}),x&&(0,s.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:x}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)(b,{children:[(0,s.jsx)(f,{children:(0,s.jsxs)(w,{children:[(0,s.jsx)(S,{children:"ID"}),(0,s.jsx)(S,{children:"Booking ID"}),(0,s.jsx)(S,{children:"Type"}),(0,s.jsx)(S,{children:"Complainant"}),(0,s.jsx)(S,{children:"Status"}),(0,s.jsx)(S,{children:"Severity"}),(0,s.jsx)(S,{children:"Refund"}),(0,s.jsx)(S,{children:"Penalty"}),(0,s.jsx)(S,{children:"Created"}),(0,s.jsx)(S,{children:"Actions"})]})}),(0,s.jsx)(C,{children:0===eT.length?(0,s.jsx)(w,{children:(0,s.jsx)(I,{colSpan:10,className:"text-center py-8 text-gray-500",children:"No reclamations found"})}):eT.map(e=>(0,s.jsxs)(w,{children:[(0,s.jsx)(I,{className:"font-medium",children:e.id}),(0,s.jsx)(I,{children:e.bookingId}),(0,s.jsx)(I,{children:(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:eD(e.type)}),(0,s.jsx)(g.Badge,{variant:"outline",className:`text-xs ${"GUEST"===e.complainantRole?"border-blue-500 text-blue-700 bg-blue-50":"border-purple-500 text-purple-700 bg-purple-50"}`,children:e.complainantRole})]})}),(0,s.jsx)(I,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(G.User,{className:"w-4 h-4 text-gray-400"}),(0,s.jsxs)("span",{className:"text-sm",children:["#",e.complainantId]})]})}),(0,s.jsx)(I,{children:eA(e.status)}),(0,s.jsx)(I,{children:eE(e.severity)}),(0,s.jsx)(I,{children:e.refundAmount?(0,s.jsxs)("div",{className:"flex items-center gap-1 text-green-600 font-semibold",children:[(0,s.jsx)(ee.DollarSign,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:[e.refundAmount.toFixed(2)," MAD"]})]}):"OPEN"===e.status||"IN_REVIEW"===e.status?(0,s.jsxs)("div",{className:"flex items-center gap-1 text-gray-500 text-xs",children:[(0,s.jsx)(et,{className:"w-3 h-3"}),(0,s.jsx)("span",{children:"Calculated on resolve"})]}):(0,s.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,s.jsx)(I,{children:void 0!==e.penaltyPoints&&null!==e.penaltyPoints?(0,s.jsxs)(g.Badge,{variant:"outline",className:e.penaltyPoints>=15?"border-red-500 text-red-700 bg-red-50":e.penaltyPoints>=10?"border-orange-500 text-orange-700 bg-orange-50":"",children:[e.penaltyPoints," pts"]}):"OPEN"===e.status||"IN_REVIEW"===e.status?(0,s.jsxs)("div",{className:"flex items-center gap-1 text-gray-500 text-xs",children:[(0,s.jsx)(et,{className:"w-3 h-3"}),(0,s.jsx)("span",{children:"Calculated on resolve"})]}):(0,s.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,s.jsx)(I,{children:(0,s.jsx)("span",{className:"text-sm text-gray-600",children:new Date(e.createdAt).toLocaleDateString()})}),(0,s.jsx)(I,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,s.jsx)(u.Button,{variant:"ghost",size:"sm",onClick:()=>ef(e),title:"View Details",children:(0,s.jsx)(L.Eye,{className:"w-4 h-4"})}),"OPEN"===e.status&&(0,s.jsxs)(s.Fragment,{children:["ACCESS_ISSUE"!==e.type&&"NOT_AS_DESCRIBED"!==e.type&&(0,s.jsxs)(u.Button,{variant:"outline",size:"sm",onClick:()=>{ed(e),en(!0),eu(e.severity)},disabled:v[`severity-${e.id}`],className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50 border-orange-300",title:"Update Severity",children:[v[`severity-${e.id}`]?(0,s.jsx)(A.Loader2,{className:"w-4 h-4 animate-spin mr-1"}):(0,s.jsx)(J.AlertCircle,{className:"w-4 h-4 mr-1"}),(0,s.jsx)("span",{className:"text-xs",children:"Severity"})]}),(0,s.jsxs)(u.Button,{variant:"outline",size:"sm",onClick:()=>eC(e.id),disabled:v[`review-${e.id}`],className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 border-blue-300",title:"Move to Review (IN_REVIEW)",children:[v[`review-${e.id}`]?(0,s.jsx)(A.Loader2,{className:"w-4 h-4 animate-spin mr-1"}):(0,s.jsx)(Q.Clock,{className:"w-4 h-4 mr-1"}),(0,s.jsx)("span",{className:"text-xs",children:"Review"})]})]}),"IN_REVIEW"===e.status&&(0,s.jsxs)(s.Fragment,{children:["ACCESS_ISSUE"!==e.type&&"NOT_AS_DESCRIBED"!==e.type&&(0,s.jsxs)(u.Button,{variant:"outline",size:"sm",onClick:()=>{ed(e),en(!0),eu(e.severity)},disabled:v[`severity-${e.id}`],className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50 border-orange-300",title:"Update Severity",children:[v[`severity-${e.id}`]?(0,s.jsx)(A.Loader2,{className:"w-4 h-4 animate-spin mr-1"}):(0,s.jsx)(J.AlertCircle,{className:"w-4 h-4 mr-1"}),(0,s.jsx)("span",{className:"text-xs",children:"Severity"})]}),(0,s.jsxs)(u.Button,{variant:"outline",size:"sm",onClick:()=>{ed(e),X(!0),ex("")},disabled:v[`resolve-${e.id}`],className:"text-green-600 hover:text-green-700 hover:bg-green-50 border-green-300",title:"Approve Reclamation",children:[(0,s.jsx)(D.CheckCircle,{className:"w-4 h-4 mr-1"}),(0,s.jsx)("span",{className:"text-xs",children:"Approve"})]}),(0,s.jsxs)(u.Button,{variant:"outline",size:"sm",onClick:()=>{ed(e),Z(!0),eh("")},disabled:v[`reject-${e.id}`],className:"text-red-600 hover:text-red-700 hover:bg-red-50 border-red-300",title:"Reject Reclamation",children:[(0,s.jsx)(R.XCircle,{className:"w-4 h-4 mr-1"}),(0,s.jsx)("span",{className:"text-xs",children:"Reject"})]})]})]})})]},e.id))})]})}),ek>1&&(0,s.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",eP+1," to ",Math.min(eL,n.length)," of"," ",n.length," reclamations"]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(u.Button,{variant:"outline",size:"sm",onClick:()=>B(e=>Math.max(1,e-1)),disabled:1===O,children:"Previous"}),(0,s.jsx)(u.Button,{variant:"outline",size:"sm",onClick:()=>B(e=>Math.min(ek,e+1)),disabled:O===ek,children:"Next"})]})]})]}),(0,s.jsx)(j.Dialog,{open:V,onOpenChange:e=>{Y(e),e||ej([])},children:(0,s.jsxs)(j.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)(j.DialogHeader,{children:(0,s.jsx)(j.DialogTitle,{children:"Reclamation Details"})}),ec&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"ID"}),(0,s.jsx)("p",{className:"text-sm text-gray-900",children:ec.id})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Booking ID"}),(0,s.jsx)("p",{className:"text-sm text-gray-900",children:ec.bookingId})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Type"}),(0,s.jsx)("p",{className:"text-sm text-gray-900",children:eD(ec.type)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),(0,s.jsx)("div",{children:eA(ec.status)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Severity"}),(0,s.jsx)("div",{children:eE(ec.severity)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Complainant"}),(0,s.jsxs)("p",{className:"text-sm text-gray-900",children:[ec.complainantRole," (#",ec.complainantId,")"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Target User"}),(0,s.jsxs)("p",{className:"text-sm text-gray-900",children:["#",ec.targetUserId]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Created At"}),(0,s.jsx)("p",{className:"text-sm text-gray-900",children:new Date(ec.createdAt).toLocaleString()})]})]}),ec.title&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Title"}),(0,s.jsx)("p",{className:"text-sm text-gray-900",children:ec.title})]}),ec.description&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Description"}),(0,s.jsx)("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:ec.description})]}),("OPEN"===ec.status||"IN_REVIEW"===ec.status)&&(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-start gap-2 mb-2",children:[(0,s.jsx)(et,{className:"w-5 h-5 text-blue-600 mt-0.5"}),(0,s.jsx)("label",{className:"text-sm font-semibold text-blue-900",children:"Expected Penalty (if approved)"})]}),(a=eR(ec.type,ec.severity,ec.complainantRole,void 0,void 0),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-xs text-blue-700",children:"Expected Refund:"}),(0,s.jsx)("p",{className:"text-sm text-blue-900 font-semibold",children:a.refund>0?`${a.refund.toFixed(2)} MAD`:"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-xs text-blue-700",children:"Expected Penalty Points:"}),(0,s.jsxs)("p",{className:"text-sm text-blue-900 font-semibold",children:[a.penaltyPoints," points"]})]})]})),(0,s.jsx)("p",{className:"text-xs text-blue-600 mt-2",children:"Note: Actual amounts depend on booking rent/deposit values"})]}),ec.refundAmount&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Refund Amount"}),(0,s.jsxs)("p",{className:"text-sm text-green-600 font-semibold",children:[ec.refundAmount.toFixed(2)," MAD"]})]}),void 0!==ec.penaltyPoints&&null!==ec.penaltyPoints&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Penalty Points"}),(0,s.jsxs)("p",{className:`text-sm font-semibold ${ec.penaltyPoints>=15?"text-red-600":ec.penaltyPoints>=10?"text-orange-600":"text-red-600"}`,children:[ec.penaltyPoints," points"]}),ec.penaltyPoints>=15&&(0,s.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"âš ï¸ High penalty - may trigger account suspension"})]}),ec.resolutionNotes&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Resolution Notes"}),(0,s.jsx)("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:ec.resolutionNotes})]}),("OPEN"===ec.status||"IN_REVIEW"===ec.status)&&(0,s.jsxs)("div",{className:"flex items-center gap-3 pt-4 border-t border-gray-200",children:["ACCESS_ISSUE"!==ec.type&&"NOT_AS_DESCRIBED"!==ec.type&&(0,s.jsxs)(u.Button,{onClick:()=>{Y(!1),en(!0),eu(ec.severity)},variant:"outline",className:"border-orange-300 text-orange-600 hover:bg-orange-50",children:[(0,s.jsx)(J.AlertCircle,{className:"w-4 h-4 mr-2"}),"Update Severity"]}),"OPEN"===ec.status&&(0,s.jsxs)(u.Button,{onClick:async()=>{Y(!1),await eC(ec.id)},variant:"outline",className:"border-blue-300 text-blue-600 hover:bg-blue-50",disabled:v[`review-${ec.id}`],children:[v[`review-${ec.id}`]?(0,s.jsx)(A.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}):(0,s.jsx)(Q.Clock,{className:"w-4 h-4 mr-2"}),"Move to Review"]}),"IN_REVIEW"===ec.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(u.Button,{onClick:()=>{Y(!1),X(!0),ex("")},className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:[(0,s.jsx)(D.CheckCircle,{className:"w-4 h-4 mr-2"}),"Approve Reclamation"]}),(0,s.jsxs)(u.Button,{onClick:()=>{Y(!1),Z(!0),eh("")},variant:"destructive",className:"flex-1",children:[(0,s.jsx)(R.XCircle,{className:"w-4 h-4 mr-2"}),"Reject Reclamation"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Attachments"}),eN?(0,s.jsxs)("div",{className:"flex items-center justify-center py-4",children:[(0,s.jsx)(A.Loader2,{className:"w-5 h-5 animate-spin text-gray-400"}),(0,s.jsx)("span",{className:"ml-2 text-sm text-gray-500",children:"Loading images..."})]}):eg.length>0?(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:eg.map((e,t)=>{let a=e.filePath;e.filePath.includes("/")&&(a=e.filePath.split("/").pop()||e.filePath),a=a.replace(/\\/g,"/").split("/").pop()||a;let l=`${ei}/api/admin/reclamations/files/${ec.id}/${encodeURIComponent(a)}`;return console.log("ðŸ–¼ï¸ Image URL:",l,"from filePath:",e.filePath),(0,s.jsx)("div",{className:"relative group",children:(0,s.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-gray-50 hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"relative cursor-pointer",onClick:()=>window.open(l,"_blank"),title:"Click to view full size",children:[(0,s.jsx)("img",{src:l,alt:e.fileName||`Attachment ${t+1}`,className:"w-full h-48 object-cover hover:opacity-90 transition-opacity",onError:s=>{let t=s.target;console.error("âŒ Failed to load image:",l,"from filePath:",e.filePath),t.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Crect fill='%23ddd' width='100' height='100'/%3E%3Ctext fill='%23999' font-family='sans-serif' font-size='14' x='50%25' y='50%25' text-anchor='middle' dy='.3em'%3EImage not found%3C/text%3E%3C/svg%3E"},onLoad:()=>{console.log("âœ… Image loaded successfully:",l)}}),(0,s.jsx)("div",{className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:"Click to enlarge"})]}),(0,s.jsxs)("div",{className:"p-2 bg-white border-t border-gray-200",children:[(0,s.jsx)("p",{className:"text-xs text-gray-600 truncate",title:e.fileName,children:e.fileName||`Image ${t+1}`}),e.fileSize&&(0,s.jsxs)("p",{className:"text-xs text-gray-400",children:[(e.fileSize/1024).toFixed(2)," KB"]})]})]})},e.id||t)})}):(0,s.jsxs)("div",{className:"text-center py-4 text-gray-500 text-sm",children:[(0,s.jsx)(ea,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,s.jsx)("p",{children:"No images attached to this reclamation"})]})]})]})]})}),(0,s.jsx)(j.Dialog,{open:er,onOpenChange:en,children:(0,s.jsxs)(j.DialogContent,{children:[(0,s.jsxs)(j.DialogHeader,{children:[(0,s.jsx)(j.DialogTitle,{children:"Update Severity"}),(0,s.jsx)(j.DialogDescription,{children:ec&&("ACCESS_ISSUE"===ec.type||"NOT_AS_DESCRIBED"===ec.type)?(0,s.jsxs)("span",{className:"text-red-600 font-semibold",children:["âš ï¸ Severity cannot be changed for ",eD(ec.type)," - these types have fixed penalties"]}):"Change the severity level of this reclamation"})]}),ec&&("ACCESS_ISSUE"===ec.type||"NOT_AS_DESCRIBED"===ec.type)?(0,s.jsx)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,s.jsxs)("p",{className:"text-sm text-yellow-800",children:["This reclamation type (",eD(ec.type),") has a fixed penalty:",(0,s.jsx)("br",{}),"â€¢ ",(0,s.jsx)("strong",{children:"10 penalty points"})," deducted from host",(0,s.jsx)("br",{}),"â€¢ ",(0,s.jsx)("strong",{children:"Full refund"})," (Rent + Deposit) to guest",(0,s.jsx)("br",{}),"Severity level does not affect the penalty for this type."]})}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Severity"}),(0,s.jsxs)($.Select,{value:ep,onValueChange:e=>eu(e),children:[(0,s.jsx)($.SelectTrigger,{children:(0,s.jsx)($.SelectValue,{})}),(0,s.jsxs)($.SelectContent,{children:[(0,s.jsx)($.SelectItem,{value:"LOW",children:"LOW"}),(0,s.jsx)($.SelectItem,{value:"MEDIUM",children:"MEDIUM"}),(0,s.jsx)($.SelectItem,{value:"HIGH",children:"HIGH"}),(0,s.jsx)($.SelectItem,{value:"CRITICAL",children:"CRITICAL"})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(u.Button,{variant:"outline",onClick:()=>en(!1),children:"Cancel"}),(0,s.jsx)(u.Button,{onClick:ew,disabled:v[`severity-${ec?.id}`],children:v[`severity-${ec?.id}`]?(0,s.jsx)(A.Loader2,{className:"w-4 h-4 animate-spin"}):"Update"})]})]})]})}),(0,s.jsx)(j.Dialog,{open:q,onOpenChange:X,children:(0,s.jsxs)(j.DialogContent,{children:[(0,s.jsxs)(j.DialogHeader,{children:[(0,s.jsx)(j.DialogTitle,{children:"Resolve Reclamation"}),(0,s.jsx)(j.DialogDescription,{children:"Approve or reject this reclamation. If approved, penalties will be calculated automatically based on type and severity."})]}),ec&&(0,s.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:(0,s.jsxs)("div",{className:"flex items-start gap-2 mb-2",children:[(0,s.jsx)(J.AlertCircle,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-yellow-900",children:"Penalty Preview"}),(0,s.jsxs)("p",{className:"text-xs text-yellow-700 mt-1",children:["Type: ",(0,s.jsx)("strong",{children:eD(ec.type)})," | Severity: ",(0,s.jsx)("strong",{children:ec.severity})," | Role: ",(0,s.jsx)("strong",{children:ec.complainantRole})]}),(l=eR(ec.type,ec.severity,ec.complainantRole),(0,s.jsx)("div",{className:"mt-2 text-xs",children:(0,s.jsxs)("p",{className:"text-yellow-800",children:["Expected: ",(0,s.jsx)("strong",{children:l.refund>0?`${l.refund.toFixed(2)} MAD refund`:"No refund"})," and ",(0,s.jsxs)("strong",{children:[l.penaltyPoints," penalty points"]})]})}))]})]})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Resolution Notes"}),(0,s.jsx)(y.Textarea,{value:eo,onChange:e=>ex(e.target.value),placeholder:"Enter resolution notes...",rows:4})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(u.Button,{variant:"outline",onClick:()=>{X(!1),ex("")},children:"Cancel"}),(0,s.jsx)(u.Button,{variant:"destructive",onClick:()=>eS(!1),disabled:v[`resolve-${ec?.id}`],children:v[`resolve-${ec?.id}`]?(0,s.jsx)(A.Loader2,{className:"w-4 h-4 animate-spin"}):"Reject"}),(0,s.jsx)(u.Button,{onClick:()=>eS(!0),disabled:v[`resolve-${ec?.id}`],className:"bg-green-600 hover:bg-green-700",children:v[`resolve-${ec?.id}`]?(0,s.jsx)(A.Loader2,{className:"w-4 h-4 animate-spin"}):"Approve"})]})]})]})}),(0,s.jsx)(j.Dialog,{open:K,onOpenChange:Z,children:(0,s.jsxs)(j.DialogContent,{children:[(0,s.jsxs)(j.DialogHeader,{children:[(0,s.jsx)(j.DialogTitle,{children:"Reject Reclamation"}),(0,s.jsx)(j.DialogDescription,{children:"Reject this reclamation and provide a reason"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Rejection Notes"}),(0,s.jsx)(y.Textarea,{value:em,onChange:e=>eh(e.target.value),placeholder:"Enter rejection reason...",rows:4})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(u.Button,{variant:"outline",onClick:()=>{Z(!1),eh("")},children:"Cancel"}),(0,s.jsx)(u.Button,{variant:"destructive",onClick:eI,disabled:v[`reject-${ec?.id}`],children:v[`reject-${ec?.id}`]?(0,s.jsx)(A.Loader2,{className:"w-4 h-4 animate-spin"}):"Reject"})]})]})]})})]})}function en(){let{user:e,isLoading:i}=(0,a.useAuth)(),r=(0,l.useRouter)(),[n,c]=(0,t.useState)("all-properties");return((0,t.useEffect)(()=>{e||i?e&&!e.roles?.includes("ADMIN")&&r.push("/"):r.push("/login")},[e,i,r]),i)?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(A.Loader2,{className:"h-12 w-12 animate-spin text-teal-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading admin dashboard..."})]})}):e?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsx)("div",{className:"mb-6"}),(0,s.jsx)("div",{className:"relative z-10",children:(0,s.jsx)(m,{activeSection:n,onSectionChange:e=>{c(e)}})}),(0,s.jsxs)("div",{className:"mt-8",children:[("all-properties"===n||"pending-approval"===n||"approved"===n||"suspended"===n||"disapproved"===n)&&(0,s.jsx)(W,{filter:"pending-approval"===n?"pending-approval":"approved"===n?"approved":"suspended"===n?"suspended":"disapproved"===n?"disapproved":"all-properties"}),("all-users"===n||"admins"===n||"hosts"===n||"tenants"===n||"disabled"===n)&&(0,s.jsx)(X,{filter:"admins"===n?"admins":"hosts"===n?"hosts":"tenants"===n?"tenants":"disabled"===n?"disabled":"all-users"}),("all-bookings"===n||"pending-payment"===n||"active"===n||"completed"===n||"cancelled"===n)&&(0,s.jsx)(K,{filter:"pending-payment"===n?"pending-payment":"active"===n?"active":"completed"===n?"completed":"cancelled"===n?"cancelled":"all-bookings"}),("all-reclamations"===n||"open-reclamations"===n||"in-review-reclamations"===n||"resolved-reclamations"===n||"rejected-reclamations"===n)&&(0,s.jsx)(er,{filter:"open-reclamations"===n?"open-reclamations":"in-review-reclamations"===n?"in-review-reclamations":"resolved-reclamations"===n?"resolved-reclamations":"rejected-reclamations"===n?"rejected-reclamations":"all-reclamations"}),"all-properties"!==n&&"pending-approval"!==n&&"suspended"!==n&&"all-users"!==n&&"admins"!==n&&"hosts"!==n&&"tenants"!==n&&"disabled"!==n&&"all-bookings"!==n&&"pending-payment"!==n&&"active"!==n&&"completed"!==n&&"cancelled"!==n&&"all-reclamations"!==n&&"open-reclamations"!==n&&"in-review-reclamations"!==n&&"resolved-reclamations"!==n&&"rejected-reclamations"!==n&&(0,s.jsx)(p.Card,{className:"p-6",children:(0,s.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:["overview"===n&&"Overview","all-users"===n&&"All Users","tenants"===n&&"Tenants","hosts"===n&&"Hosts","disabled"===n&&"Disabled Accounts","all-bookings"===n&&"All Bookings","pending-payment"===n&&"Pending Payment","active"===n&&"Active Bookings","completed"===n&&"Completed Bookings","cancelled"===n&&"Cancelled Bookings","all-transactions"===n&&"All Transactions","pending"===n&&"Pending Transactions","success"===n&&"Successful Transactions","failed"===n&&"Failed Transactions","settings"===n&&"Blockchain Settings","escrows"===n&&"Active Escrows","contracts"===n&&"Contract Information","revenue"===n&&"Revenue Statistics","reports"===n&&"Reports","all-disputes"===n&&"All Disputes","resolved"===n&&"Resolved Disputes"]})})]})]})}):null}e.s(["default",()=>en],23261)}]);