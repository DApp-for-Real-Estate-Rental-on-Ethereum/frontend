(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var r=e.i(43476),a=e.i(71645),t=e.i(47163);let s=a.forwardRef(({className:e,...a},s)=>(0,r.jsx)("div",{ref:s,className:(0,t.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));s.displayName="Card";let n=a.forwardRef(({className:e,...a},s)=>(0,r.jsx)("div",{ref:s,className:(0,t.cn)("flex flex-col space-y-1.5 p-6",e),...a}));n.displayName="CardHeader";let o=a.forwardRef(({className:e,...a},s)=>(0,r.jsx)("div",{ref:s,className:(0,t.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));o.displayName="CardTitle";let l=a.forwardRef(({className:e,...a},s)=>(0,r.jsx)("div",{ref:s,className:(0,t.cn)("text-sm text-muted-foreground",e),...a}));l.displayName="CardDescription";let i=a.forwardRef(({className:e,...a},s)=>(0,r.jsx)("div",{ref:s,className:(0,t.cn)("p-6 pt-0",e),...a}));i.displayName="CardContent",a.forwardRef(({className:e,...a},s)=>(0,r.jsx)("div",{ref:s,className:(0,t.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter",e.s(["Card",()=>s,"CardContent",()=>i,"CardDescription",()=>l,"CardHeader",()=>n,"CardTitle",()=>o])},82306,e=>{"use strict";var r=e.i(43476),a=e.i(71645),t=e.i(25715),s=e.i(18566),n=e.i(22016),o=e.i(57688),l=e.i(67881),i=e.i(70065),d=e.i(71667);function c(){let e=(0,s.useRouter)(),{login:c}=(0,t.useAuth)(),[m,u]=(0,a.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phoneNumber:"",birthday:""}),[f,g]=(0,a.useState)(""),[x,p]=(0,a.useState)(!1),h=e=>{let{name:r,value:a}=e.target;u(e=>({...e,[r]:a}))},b=async r=>{if(r.preventDefault(),g(""),m.password!==m.confirmPassword)return void g("Passwords do not match");if(!/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=!]).{8,20}$/.test(m.password))return void g("Password must be 8-20 characters long and include at least one uppercase letter, one lowercase letter, one number, and one special character (@#$%^&+=!)");let a=m.phoneNumber.replace(/\D/g,"");if(!/^\d{10,15}$/.test(a))return void g("Phone number must be 10 to 15 digits");if(m.birthday){let e=new Date(m.birthday),r=new Date,a=r.getFullYear()-e.getFullYear(),t=r.getMonth()-e.getMonth();if((t<0||0===t&&r.getDate()<e.getDate())&&(a-=1),a<18)return void g("You must be at least 18 years old to register")}if(!m.birthday)return void g("Birthday is required");p(!0);try{await d.apiClient.auth.register({firstName:m.firstName,lastName:m.lastName,email:m.email,password:m.password,birthday:m.birthday,phoneNumber:a}),e.push(`/verify?email=${encodeURIComponent(m.email)}`)}catch(r){let e="Registration failed. Please try again.";r instanceof Error?(e=r.message,(r.message.includes("Backend server is not available")||r.message.includes("Cannot connect to backend"))&&(e="Cannot connect to the server. Please make sure the backend service is running. If you're in development mode, you can use mock data by setting NEXT_PUBLIC_USE_MOCK_API=true"),r.errorData&&(console.error("Full error details:",{errorData:r.errorData,responseText:r.responseText,status:r.status}),r.errorData.message?e=r.errorData.message:r.errorData.error?e=r.errorData.error:r.errorData.raw&&(e=r.errorData.raw)),r.responseText&&console.error("Raw response text:",r.responseText)):r?.response?.data?.message?e=r.response.data.message:"string"==typeof r&&(e=r),g(e)}finally{p(!1)}};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:(0,r.jsx)(i.Card,{className:"w-full max-w-md",children:(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsx)("div",{className:"flex justify-center mb-8",children:(0,r.jsx)(o.default,{src:"/logo.svg",alt:"DeRent5",width:120,height:40,className:"h-12 w-auto"})}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-2",children:"Create Your Account"}),(0,r.jsx)("p",{className:"text-center text-gray-600 mb-8",children:"Join DeRent5 and start your journey"}),(0,r.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),(0,r.jsx)("input",{type:"text",name:"firstName",value:m.firstName,onChange:h,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600",placeholder:"John",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),(0,r.jsx)("input",{type:"text",name:"lastName",value:m.lastName,onChange:h,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600",placeholder:"Doe",required:!0})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,r.jsx)("input",{type:"email",name:"email",value:m.email,onChange:h,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600",placeholder:"your@email.com",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,r.jsx)("input",{type:"tel",name:"phoneNumber",value:m.phoneNumber,onChange:h,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600",placeholder:"+212 6XX XXX XXX"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Birthday"}),(0,r.jsx)("input",{type:"date",name:"birthday",value:m.birthday,onChange:h,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,r.jsx)("input",{type:"password",name:"password",value:m.password,onChange:h,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600",placeholder:"••••••••",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),(0,r.jsx)("input",{type:"password",name:"confirmPassword",value:m.confirmPassword,onChange:h,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600",placeholder:"••••••••",required:!0})]}),f&&(0,r.jsx)("div",{className:"p-3 bg-red-50 text-red-700 rounded-lg text-sm",children:f}),(0,r.jsx)(l.Button,{type:"submit",className:"w-full bg-teal-600 hover:bg-teal-700 text-white",disabled:x,children:x?"Creating account...":"Sign Up"})]}),(0,r.jsxs)("p",{className:"text-center text-sm text-gray-600 mt-6",children:["Already have an account?"," ",(0,r.jsx)(n.default,{href:"/login",className:"text-teal-600 hover:underline",children:"Sign in"})]})]})})})}e.s(["default",()=>c])}]);