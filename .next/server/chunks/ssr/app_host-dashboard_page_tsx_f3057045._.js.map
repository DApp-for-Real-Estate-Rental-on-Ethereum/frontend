{"version":3,"sources":["../../../../components/host-dashboard/HostNavBar.tsx","../../../../components/host-dashboard/CurrentBookings.tsx","../../../../components/host-dashboard/CheckoutRequests.tsx","../../../../components/host-dashboard/PendingNegotiations.tsx","../../../../components/host-dashboard/EditPropertyModal.tsx","../../../../components/host-dashboard/PropertiesList.tsx","../../../../components/host-dashboard/PaidBookings.tsx","../../../../components/host-dashboard/Calendar.tsx","../../../../app/host-dashboard/page.tsx","../../../../node_modules/lucide-react/src/icons/send.ts","../../../../node_modules/lucide-react/src/icons/handshake.ts"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { Calendar, Building2, AlertTriangle, ChevronDown } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport { useRouter } from \"next/navigation\"\n\ninterface HostNavBarProps {\n  activeSection: string\n  onSectionChange: (section: string) => void\n}\n\nexport function HostNavBar({ activeSection, onSectionChange }: HostNavBarProps) {\n  const router = useRouter()\n  const [openDropdown, setOpenDropdown] = useState<string | null>(null)\n\n  const sections = [\n    {\n      id: \"bookings\",\n      label: \"Bookings\",\n      icon: Calendar,\n      subSections: [\n        { id: \"paid\", label: \"Paid Bookings\" },\n        { id: \"negotiations\", label: \"Pending Approvals\" },\n        { id: \"current\", label: \"Current Bookings\" },\n        { id: \"checkout-requests\", label: \"Checkout Requests\" },\n        { id: \"calendar\", label: \"Calendar\" },\n      ],\n    },\n    {\n      id: \"properties\",\n      label: \"Properties\",\n      icon: Building2,\n      subSections: [\n        { id: \"my-properties\", label: \"All Properties\" },\n        { id: \"draft\", label: \"Draft\" },\n        { id: \"pending-approval\", label: \"Pending Approval\" },\n        { id: \"approved\", label: \"Approved\" },\n        { id: \"disapproved\", label: \"Disapproved\" },\n        { id: \"suspended\", label: \"Suspended\" },\n        { id: \"hidden\", label: \"Hidden\" },\n        { id: \"add-property\", label: \"Add New Property\" },\n      ],\n    },\n    {\n      id: \"reclamations\",\n      label: \"Reclamations\",\n      icon: AlertTriangle,\n      subSections: [\n        { id: \"my-complaints\", label: \"My Complaints\" },\n        { id: \"complaints-against-me\", label: \"Complaints Against Me\" },\n      ],\n    },\n  ]\n\n  const handleSectionClick = (sectionId: string) => {\n    if (openDropdown === sectionId) {\n      setOpenDropdown(null)\n    } else {\n      setOpenDropdown(sectionId)\n    }\n  }\n\n  const handleSubSectionClick = (subSectionId: string) => {\n    // If \"Add New Property\", redirect to /post-property page\n    if (subSectionId === \"add-property\") {\n      router.push(\"/post-property\")\n      setOpenDropdown(null)\n      return\n    }\n    onSectionChange(subSectionId)\n    setOpenDropdown(null)\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-md border border-gray-200 mb-6 overflow-visible\">\n      <div className=\"flex items-stretch divide-x divide-gray-200\">\n        {sections.map((section) => {\n          const Icon = section.icon\n          const isActive = section.subSections.some((sub) => sub.id === activeSection)\n          const isOpen = openDropdown === section.id\n\n          return (\n            <div key={section.id} className=\"flex-1 relative overflow-visible\">\n              <button\n                onClick={() => handleSectionClick(section.id)}\n                className={`w-full px-4 py-3 text-center transition-colors ${\n                  isActive\n                    ? \"bg-teal-600 text-white\"\n                    : \"hover:bg-gray-50\"\n                }`}\n              >\n                <div className=\"flex flex-col items-center gap-1.5\">\n                  <Icon className={`w-4 h-4 ${isActive ? \"text-white\" : \"text-gray-600\"}`} />\n                  <span className={`text-xs font-semibold ${isActive ? \"text-white\" : \"text-gray-900\"}`}>\n                    {section.label}\n                  </span>\n                  <ChevronDown\n                    className={`w-3 h-3 transition-transform ${isOpen ? \"rotate-180\" : \"\"} ${\n                      isActive ? \"text-white\" : \"text-gray-600\"\n                    }`}\n                  />\n                </div>\n              </button>\n\n              {/* Dropdown Menu */}\n              {isOpen && (\n                <div className=\"absolute top-full left-0 right-0 bg-white border border-gray-200 shadow-xl z-[100] rounded-b-lg mt-1\">\n                  <div className=\"py-1\">\n                    {section.subSections.map((subSection) => (\n                      <button\n                        key={subSection.id}\n                        onClick={() => handleSubSectionClick(subSection.id)}\n                        className={`w-full px-4 py-2.5 text-left text-xs transition-colors ${\n                          activeSection === subSection.id\n                            ? \"bg-teal-50 text-teal-700 font-semibold\"\n                            : \"text-gray-700 hover:bg-gray-50\"\n                        }`}\n                      >\n                        {subSection.label}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n\n","\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { useAuth } from \"@/lib/hooks/use-auth\"\nimport { apiClient } from \"@/lib/services/api\"\nimport { Card } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Loader2, Calendar, Clock, CheckCircle, MapPin, Eye, AlertTriangle, X, Phone } from \"lucide-react\"\nimport Image from \"next/image\"\nimport type { Property } from \"@/lib/types\"\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\nimport { toast } from \"sonner\"\n\ninterface Booking {\n  id: number\n  userId: number\n  propertyId: number | string\n  checkInDate: string\n  checkOutDate: string\n  totalPrice: number\n  status: string\n  longStayDiscountPercent?: number\n}\n\ninterface BookingWithProperty extends Booking {\n  property?: Property\n}\n\ninterface CurrentBookingsProps {\n  ownerId: string | number\n  onUpdate?: () => void\n}\n\nexport function CurrentBookings({ ownerId, onUpdate }: CurrentBookingsProps) {\n  const router = useRouter()\n  const { user } = useAuth()\n  const [bookings, setBookings] = useState<BookingWithProperty[]>([])\n  const [isLoading, setIsLoading] = useState(true)\n  const [error, setError] = useState(\"\")\n  const [actionLoading, setActionLoading] = useState<{ [key: number]: boolean }>({})\n  const [viewModalOpen, setViewModalOpen] = useState(false)\n  const [viewingBooking, setViewingBooking] = useState<BookingWithProperty | null>(null)\n  const [reclamations, setReclamations] = useState<{ [key: number]: any }>({})\n  // State for tenant risk scores\n  const [tenantRiskScores, setTenantRiskScores] = useState<{ [key: number]: any }>({})\n  const [loadingRiskScores, setLoadingRiskScores] = useState<{ [key: number]: boolean }>({})\n  const [tenantPhoneNumbers, setTenantPhoneNumbers] = useState<{ [key: number]: string | null }>({})\n  const [loadingTenantPhones, setLoadingTenantPhones] = useState<{ [key: number]: boolean }>({})\n\n  useEffect(() => {\n    fetchBookings()\n  }, [ownerId])\n\n  useEffect(() => {\n    // Fetch reclamations for all bookings\n    const bookingsWithConfirmed = bookings.filter((b) =>\n      b.status === \"CONFIRMED\" ||\n      b.status === \"TENANT_CHECKED_OUT\" ||\n      b.status === \"COMPLETED\"\n    )\n\n    if (bookings.length > 0) {\n      fetchReclamations()\n    }\n\n    // Fetch tenant phone numbers\n    if (bookingsWithConfirmed.length > 0) {\n      fetchTenantPhoneNumbers(bookingsWithConfirmed)\n      fetchRiskScores(bookingsWithConfirmed)\n    }\n  }, [bookings])\n\n  const fetchRiskScores = async (bookings: BookingWithProperty[]) => {\n    try {\n      const uniqueTenantIds = Array.from(new Set(bookings.map(b => b.userId)));\n\n      uniqueTenantIds.forEach(async (tenantId) => {\n        if (!tenantId) return;\n\n        try {\n          setLoadingRiskScores(prev => ({ ...prev, [tenantId]: true }));\n          // @ts-ignore - risk service added recently\n          if (apiClient.risk && apiClient.risk.getTenantRiskScore) {\n            // @ts-ignore\n            const score = await apiClient.risk.getTenantRiskScore(Number(tenantId));\n            setTenantRiskScores(prev => ({ ...prev, [tenantId]: score }));\n          }\n        } catch (err) {\n          console.error(`Failed to fetch risk score for tenant ${tenantId}`, err);\n        } finally {\n          setLoadingRiskScores(prev => ({ ...prev, [tenantId]: false }));\n        }\n      });\n    } catch (err) {\n      console.error(\"Error fetching risk scores\", err);\n    }\n  }\n\n  const getRiskBadge = (riskData: any) => {\n    if (!riskData) return null;\n\n    const { risk_band, trust_score } = riskData;\n\n    let colorClass = \"bg-gray-100 text-gray-800 border-gray-200\";\n    let icon = <CheckCircle className=\"w-3 h-3 mr-1\" />;\n\n    switch (risk_band) {\n      case \"LOW\":\n        colorClass = \"bg-green-100 text-green-800 border-green-200\";\n        break;\n      case \"MEDIUM\":\n        colorClass = \"bg-yellow-100 text-yellow-800 border-yellow-200\";\n        icon = <AlertTriangle className=\"w-3 h-3 mr-1\" />;\n        break;\n      case \"HIGH\":\n        colorClass = \"bg-orange-100 text-orange-800 border-orange-200\";\n        icon = <AlertTriangle className=\"w-3 h-3 mr-1\" />;\n        break;\n      case \"CRITICAL\":\n        colorClass = \"bg-red-100 text-red-800 border-red-200\";\n        icon = <X className=\"w-3 h-3 mr-1\" />;\n        break;\n    }\n\n    return (\n      <Badge className={`${colorClass} ml-2 flex items-center`}>\n        {icon}\n        Trust: {trust_score}/100 ({risk_band})\n      </Badge>\n    );\n  }\n\n  const fetchBookings = async () => {\n    try {\n      setIsLoading(true)\n      setError(\"\")\n      const data = await apiClient.bookings.getCurrentBookingsByOwner(parseInt(String(ownerId)))\n\n      // Fetch property details for each booking\n      const bookingsWithProperties = await Promise.all(\n        data.map(async (booking: Booking) => {\n          try {\n            const property = await apiClient.properties.getById(String(booking.propertyId))\n            return { ...booking, property }\n          } catch {\n            return { ...booking, property: undefined }\n          }\n        })\n      )\n\n      setBookings(bookingsWithProperties)\n    } catch (err: any) {\n      setError(err.message || \"Failed to load current bookings\")\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleCheckout = async (bookingId: number) => {\n    if (!window.confirm(\"Are you sure the tenant has checked out?\")) {\n      return\n    }\n\n    setActionLoading((prev) => ({ ...prev, [bookingId]: true }))\n    setError(\"\")\n\n    try {\n      // Find the booking to check its status\n      const booking = bookings.find(b => b.id === bookingId)\n\n      if (!booking) {\n        setError(\"Booking not found\")\n        return\n      }\n\n      // Only proceed if status is TENANT_CHECKED_OUT (tenant already checked out)\n      if (booking.status !== \"TENANT_CHECKED_OUT\") {\n        setError(`Cannot confirm checkout. Booking status must be TENANT_CHECKED_OUT, but it is ${booking.status}`)\n        return\n      }\n\n      const ownerIdNum = parseInt(String(ownerId))\n      if (isNaN(ownerIdNum)) {\n        throw new Error(\"Invalid owner ID. Please refresh the page and try again.\")\n      }\n\n      // Use the dedicated owner endpoint to confirm checkout\n      await apiClient.bookings.ownerConfirmCheckout(bookingId, ownerIdNum)\n      toast.success(\"Checkout confirmed successfully\")\n\n      // Then, complete booking on blockchain (distributes funds)\n      try {\n        console.log(\"üîó Attempting to complete booking on blockchain...\")\n        await apiClient.payments.completeBooking(bookingId)\n        console.log(\"‚úÖ Booking completed successfully on blockchain\")\n        toast.success(\"Funds distributed successfully on blockchain\")\n      } catch (blockchainErr: any) {\n        // Extract user-friendly error message\n        let errorMessage = blockchainErr?.message || blockchainErr?.toString() || \"Unknown error\"\n\n        // Simplify error messages for common issues\n        if (errorMessage.includes(\"Contract not found\") || errorMessage.includes(\"Please deploy\")) {\n          errorMessage = \"Blockchain contract not found. Please contact support to deploy the contract.\"\n        } else if (errorMessage.includes(\"Cannot verify contract\")) {\n          errorMessage = \"Cannot connect to blockchain. Please ensure Hardhat node is running.\"\n        } else if (errorMessage.includes(\"Authorization failed\") || errorMessage.includes(\"Not admin\")) {\n          errorMessage = \"Authorization failed. Please check blockchain configuration.\"\n        } else if (errorMessage.length > 100) {\n          // Truncate very long error messages\n          errorMessage = errorMessage.substring(0, 100) + \"...\"\n        }\n\n        // Only log detailed error in development\n        if (process.env.NODE_ENV === 'development') {\n          console.error(\"‚ùå Blockchain completion error:\", blockchainErr)\n        } else {\n          console.error(\"‚ùå Blockchain completion failed:\", errorMessage)\n        }\n\n        toast.error(`Blockchain transaction failed: ${errorMessage}`)\n        setError(`Checkout confirmed, but blockchain transaction failed: ${errorMessage}`)\n        // Don't throw - allow the operation to continue even if blockchain fails\n      }\n\n      await fetchBookings()\n      if (onUpdate) onUpdate()\n    } catch (err: any) {\n      setError(err.message || \"Failed to confirm checkout\")\n    } finally {\n      setActionLoading((prev) => ({ ...prev, [bookingId]: false }))\n    }\n  }\n\n  const fetchReclamations = async () => {\n    if (!user?.id) return\n\n    try {\n      const reclamationsMap: { [key: number]: any } = {}\n      // Use current user ID (could be admin or host) to fetch reclamations\n      const currentUserId = parseInt(String(user.id))\n      await Promise.all(\n        bookings.map(async (booking) => {\n          try {\n            // Try to get reclamation by current user (admin or host)\n            const reclamation = await apiClient.reclamations.getByBookingIdAndComplainant(\n              booking.id,\n              currentUserId\n            )\n            if (reclamation) {\n              reclamationsMap[booking.id] = reclamation\n            }\n          } catch (err) {\n            // Reclamation not found, ignore\n          }\n        })\n      )\n      setReclamations(reclamationsMap)\n    } catch (err) {\n      // Ignore errors\n    }\n  }\n\n  const handleReclamation = (bookingId: number) => {\n    router.push(`/reclamation/${bookingId}?isHost=true`)\n  }\n\n  const fetchTenantPhoneNumbers = async (bookings: BookingWithProperty[]) => {\n    try {\n      const phoneNumbersMap: { [key: number]: string | null } = {}\n\n      await Promise.all(\n        bookings.map(async (booking) => {\n          try {\n            setLoadingTenantPhones((prev) => ({ ...prev, [booking.id]: true }))\n\n            // Get tenant info by userId\n            const tenantId = booking.userId\n            try {\n              const tenantInfo = await apiClient.users.getById(tenantId)\n              if (tenantInfo && tenantInfo.phoneNumber) {\n                const phoneStr = String(tenantInfo.phoneNumber)\n                phoneNumbersMap[booking.id] = phoneStr\n              } else {\n                phoneNumbersMap[booking.id] = null\n              }\n            } catch (err) {\n              phoneNumbersMap[booking.id] = null\n            }\n          } catch (err) {\n            phoneNumbersMap[booking.id] = null\n          } finally {\n            setLoadingTenantPhones((prev) => ({ ...prev, [booking.id]: false }))\n          }\n        })\n      )\n\n      setTenantPhoneNumbers((prev) => ({ ...prev, ...phoneNumbersMap }))\n    } catch (err) {\n    }\n  }\n\n  const handleRemoveReclamation = async (bookingId: number, reclamationId: number) => {\n    if (!window.confirm(\"Are you sure you want to remove this reclamation?\")) {\n      return\n    }\n\n    if (!user?.id) {\n      setError(\"User not found\")\n      return\n    }\n\n    setActionLoading((prev) => ({ ...prev, [bookingId]: true }))\n    setError(\"\")\n\n    try {\n      // Use current user ID (could be admin or host) to delete reclamation\n      const currentUserId = parseInt(String(user.id))\n      await apiClient.reclamations.delete(reclamationId, currentUserId)\n      // Remove from local state\n      setReclamations((prev) => {\n        const newReclamations = { ...prev }\n        delete newReclamations[bookingId]\n        return newReclamations\n      })\n      if (onUpdate) onUpdate()\n    } catch (err: any) {\n      setError(err.message || \"Failed to remove reclamation\")\n    } finally {\n      setActionLoading((prev) => ({ ...prev, [bookingId]: false }))\n    }\n  }\n\n  const formatDate = (dateString: string) => {\n    if (!dateString) return \"N/A\"\n    try {\n      const date = new Date(dateString)\n      return date.toLocaleDateString(\"en-US\", { year: \"numeric\", month: \"short\", day: \"numeric\" })\n    } catch {\n      return dateString\n    }\n  }\n\n  const calculateNights = (checkIn: string, checkOut: string) => {\n    if (!checkIn || !checkOut) return 0\n    try {\n      const checkInDate = new Date(checkIn)\n      const checkOutDate = new Date(checkOut)\n      const diffTime = Math.abs(checkOutDate.getTime() - checkInDate.getTime())\n      return Math.ceil(diffTime / (1000 * 60 * 60 * 24))\n    } catch {\n      return 0\n    }\n  }\n\n  const getPropertyImage = (property?: Property) => {\n    if (!property?.propertyImages || property.propertyImages.length === 0) {\n      return null\n    }\n    const coverImage = property.propertyImages.find((img) => img.cover)\n    return coverImage ? coverImage.url : property.propertyImages[0].url\n  }\n\n  const getImageUrl = (url: string | null | undefined) => {\n    if (!url) return \"/houses_placeholder.png\"\n    if (url.startsWith(\"http://\") || url.startsWith(\"https://\")) {\n      return url\n    }\n    if (url.startsWith(\"/uploads\")) {\n      return `http://localhost:8081${url}`\n    }\n    return url\n  }\n\n  const getStatusBadge = (status: string) => {\n    switch (status.toUpperCase()) {\n      case \"CONFIRMED\":\n        return <Badge className=\"bg-green-100 text-green-800 border-green-200\">Confirmed</Badge>\n      case \"TENANT_CHECKED_OUT\":\n        return <Badge className=\"bg-purple-100 text-purple-800 border-purple-200\">Checked Out</Badge>\n      case \"COMPLETED\":\n        return <Badge className=\"bg-gray-100 text-gray-800 border-gray-200\">Completed</Badge>\n      default:\n        return <Badge className=\"bg-gray-100 text-gray-800 border-gray-200\">{status}</Badge>\n    }\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <Loader2 className=\"h-12 w-12 animate-spin text-teal-600\" />\n        <p className=\"ml-4 text-gray-600\">Loading current bookings...</p>\n      </div>\n    )\n  }\n\n  if (error) {\n    return (\n      <Card className=\"p-6 border-red-200 bg-red-50\">\n        <p className=\"text-red-700\">{error}</p>\n        <Button onClick={fetchBookings} variant=\"outline\" className=\"mt-4\">\n          Try Again\n        </Button>\n      </Card>\n    )\n  }\n\n  if (bookings.length === 0) {\n    return (\n      <Card className=\"p-12 text-center\">\n        <Calendar className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n        <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">No current bookings</h2>\n        <p className=\"text-gray-600\">You don't have any active bookings at the moment.</p>\n      </Card>\n    )\n  }\n\n  return (\n    <>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {bookings.map((booking) => {\n          const imageUrl = getPropertyImage(booking.property)\n          const nights = calculateNights(booking.checkInDate, booking.checkOutDate)\n          const riskData = tenantRiskScores[booking.userId];\n\n          return (\n            <Card key={booking.id} className=\"overflow-hidden hover:shadow-2xl transition-all duration-300\">\n              {/* Image Section */}\n              <div className=\"relative h-48 bg-gradient-to-br from-teal-100 to-teal-200 overflow-hidden\">\n                {imageUrl ? (\n                  <Image\n                    src={getImageUrl(imageUrl)}\n                    alt={booking.property?.title || \"Property\"}\n                    fill\n                    className=\"object-cover\"\n                    sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\"\n                  />\n                ) : (\n                  <div className=\"w-full h-full flex items-center justify-center\">\n                    <MapPin className=\"w-16 h-16 text-teal-300\" />\n                  </div>\n                )}\n                <div className=\"absolute top-4 right-4 flex gap-2\">\n                  {getStatusBadge(booking.status)}\n                </div>\n                <div className=\"absolute bottom-4 left-4 bg-white/95 backdrop-blur-sm rounded-xl px-4 py-2 shadow-lg\">\n                  <div className=\"flex items-baseline gap-1\">\n                    <span className=\"text-xl font-bold text-teal-600\">\n                      {booking.totalPrice?.toFixed(4) || \"N/A\"}\n                    </span>\n                    <span className=\"text-sm font-semibold text-gray-600\">MAD</span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Content Section */}\n              <div className=\"p-6\">\n                <h3 className=\"text-lg font-bold text-gray-900 mb-2 line-clamp-1\">\n                  {booking.property?.title || `Property ${booking.propertyId}`}\n                </h3>\n                {booking.property?.address && (\n                  <div className=\"flex items-center text-gray-600 text-sm mb-4\">\n                    <MapPin className=\"w-4 h-4 mr-1.5 text-teal-600 flex-shrink-0\" />\n                    <span className=\"line-clamp-1\">\n                      {booking.property.address.city}, {booking.property.address.country}\n                    </span>\n                  </div>\n                )}\n\n                {/* Risk Score Badge */}\n                {riskData && (\n                  <div className=\"mb-4\">\n                    <span className=\"text-xs font-semibold text-gray-500 uppercase tracking-wider block mb-1\">Tenant Risk</span>\n                    {getRiskBadge(riskData)}\n                  </div>\n                )}\n\n                <div className=\"space-y-2 mb-4 pb-4 border-b border-gray-200\">\n                  <div className=\"flex items-center justify-between text-sm\">\n                    <div className=\"flex items-center text-gray-600\">\n                      <Calendar className=\"w-4 h-4 mr-2 text-teal-600\" />\n                      <span>Check-in</span>\n                    </div>\n                    <span className=\"font-semibold text-gray-900\">{formatDate(booking.checkInDate)}</span>\n                  </div>\n                  <div className=\"flex items-center justify-between text-sm\">\n                    <div className=\"flex items-center text-gray-600\">\n                      <Calendar className=\"w-4 h-4 mr-2 text-teal-600\" />\n                      <span>Check-out</span>\n                    </div>\n                    <span className=\"font-semibold text-gray-900\">{formatDate(booking.checkOutDate)}</span>\n                  </div>\n                  <div className=\"flex items-center justify-between text-sm\">\n                    <div className=\"flex items-center text-gray-600\">\n                      <Clock className=\"w-4 h-4 mr-2 text-teal-600\" />\n                      <span>Duration</span>\n                    </div>\n                    <span className=\"font-semibold text-gray-900\">{nights} {nights === 1 ? \"night\" : \"nights\"}</span>\n                  </div>\n                  {/* Tenant Phone Number - Show for CONFIRMED, TENANT_CHECKED_OUT, and COMPLETED bookings */}\n                  {(booking.status === \"CONFIRMED\" ||\n                    booking.status === \"TENANT_CHECKED_OUT\" ||\n                    booking.status === \"COMPLETED\") && (\n                      <div className=\"flex items-center justify-between text-sm pt-2 border-t border-gray-200\">\n                        <div className=\"flex items-center text-gray-600\">\n                          <Phone className=\"w-4 h-4 mr-2 text-teal-600\" />\n                          <span>Tenant Phone</span>\n                        </div>\n                        <span className=\"font-semibold text-gray-900\">\n                          {loadingTenantPhones[booking.id] ? (\n                            <Loader2 className=\"w-4 h-4 animate-spin inline\" />\n                          ) : tenantPhoneNumbers[booking.id] ? (\n                            tenantPhoneNumbers[booking.id]\n                          ) : (\n                            \"N/A\"\n                          )}\n                        </span>\n                      </div>\n                    )}\n                </div>\n\n                {/* Actions */}\n                <div className=\"flex flex-col gap-2\">\n                  {booking.status === \"TENANT_CHECKED_OUT\" && (\n                    <>\n                      <Button\n                        onClick={() => handleCheckout(booking.id)}\n                        disabled={actionLoading[booking.id]}\n                        className=\"w-full bg-green-600 hover:bg-green-700 text-white\"\n                      >\n                        {actionLoading[booking.id] ? (\n                          <>\n                            <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                            Processing...\n                          </>\n                        ) : (\n                          <>\n                            <CheckCircle className=\"w-4 h-4 mr-2\" />\n                            Confirm Checkout\n                          </>\n                        )}\n                      </Button>\n                      {reclamations[booking.id] ? (\n                        <Button\n                          onClick={() => handleRemoveReclamation(booking.id, reclamations[booking.id].id)}\n                          disabled={actionLoading[booking.id]}\n                          variant=\"outline\"\n                          className=\"w-full border-red-300 text-red-700 hover:bg-red-50\"\n                        >\n                          {actionLoading[booking.id] ? (\n                            <>\n                              <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                              Processing...\n                            </>\n                          ) : (\n                            <>\n                              <X className=\"w-4 h-4 mr-2\" />\n                              Remove Reclamation\n                            </>\n                          )}\n                        </Button>\n                      ) : (\n                        <Button\n                          onClick={() => handleReclamation(booking.id)}\n                          variant=\"outline\"\n                          className=\"w-full border-orange-300 text-orange-700 hover:bg-orange-50\"\n                        >\n                          <AlertTriangle className=\"w-4 h-4 mr-2\" />\n                          Reclamation\n                        </Button>\n                      )}\n                    </>\n                  )}\n                  {booking.status === \"CONFIRMED\" && (\n                    <>\n                      <div className=\"w-full p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-center mb-2\">\n                        <p className=\"text-sm font-medium text-yellow-800\">\n                          ‚è≥ Waiting for tenant to check out\n                        </p>\n                      </div>\n                      {reclamations[booking.id] ? (\n                        <Button\n                          onClick={() => handleRemoveReclamation(booking.id, reclamations[booking.id].id)}\n                          disabled={actionLoading[booking.id]}\n                          variant=\"outline\"\n                          className=\"w-full border-red-300 text-red-700 hover:bg-red-50\"\n                        >\n                          {actionLoading[booking.id] ? (\n                            <>\n                              <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                              Processing...\n                            </>\n                          ) : (\n                            <>\n                              <X className=\"w-4 h-4 mr-2\" />\n                              Remove Reclamation\n                            </>\n                          )}\n                        </Button>\n                      ) : (\n                        <Button\n                          onClick={() => handleReclamation(booking.id)}\n                          variant=\"outline\"\n                          className=\"w-full border-orange-300 text-orange-700 hover:bg-orange-50\"\n                        >\n                          <AlertTriangle className=\"w-4 h-4 mr-2\" />\n                          Reclamation\n                        </Button>\n                      )}\n                    </>\n                  )}\n                  <Button\n                    onClick={() => {\n                      setViewingBooking(booking)\n                      setViewModalOpen(true)\n                    }}\n                    variant=\"outline\"\n                    className=\"w-full\"\n                  >\n                    <Eye className=\"w-4 h-4 mr-2\" />\n                    View Details\n                  </Button>\n                </div>\n              </div>\n            </Card>\n          )\n        })}\n      </div>\n\n      {/* View Modal */}\n      <Dialog open={viewModalOpen} onOpenChange={setViewModalOpen}>\n        <DialogContent className=\"max-w-3xl max-h-[90vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle className=\"text-2xl font-bold text-gray-900\">Booking Details</DialogTitle>\n          </DialogHeader>\n\n          {viewingBooking && (\n            <div className=\"space-y-6 mt-4\">\n              {/* Property Image */}\n              {viewingBooking.property && getPropertyImage(viewingBooking.property) && (\n                <div className=\"relative h-48 bg-gradient-to-br from-teal-100 to-teal-200 rounded-lg overflow-hidden\">\n                  <Image\n                    src={getImageUrl(getPropertyImage(viewingBooking.property))}\n                    alt={viewingBooking.property.title || \"Property\"}\n                    fill\n                    className=\"object-cover\"\n                    sizes=\"(max-width: 768px) 100vw, 80vw\"\n                  />\n                </div>\n              )}\n\n              {/* Property Info */}\n              {viewingBooking.property && (\n                <div className=\"p-4 bg-gray-50 rounded-lg\">\n                  <h3 className=\"text-xl font-bold text-gray-900 mb-2\">{viewingBooking.property.title}</h3>\n                  {viewingBooking.property.address && (\n                    <div className=\"flex items-center text-gray-600\">\n                      <MapPin className=\"w-4 h-4 mr-2 text-teal-600\" />\n                      <span>{viewingBooking.property.address.city}, {viewingBooking.property.address.country}</span>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* Booking Details */}\n              <div className=\"space-y-4\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div className=\"p-4 bg-gray-50 rounded-lg\">\n                    <p className=\"text-sm text-gray-600 mb-1\">Check-in</p>\n                    <p className=\"text-base font-semibold text-gray-900\">{formatDate(viewingBooking.checkInDate)}</p>\n                  </div>\n                  <div className=\"p-4 bg-gray-50 rounded-lg\">\n                    <p className=\"text-sm text-gray-600 mb-1\">Check-out</p>\n                    <p className=\"text-base font-semibold text-gray-900\">{formatDate(viewingBooking.checkOutDate)}</p>\n                  </div>\n                </div>\n                <div className=\"p-4 bg-teal-50 rounded-lg\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-sm font-medium text-gray-700\">Duration</span>\n                    <span className=\"text-lg font-bold text-teal-700\">\n                      {calculateNights(viewingBooking.checkInDate, viewingBooking.checkOutDate)} {calculateNights(viewingBooking.checkInDate, viewingBooking.checkOutDate) === 1 ? \"night\" : \"nights\"}\n                    </span>\n                  </div>\n                </div>\n                <div className=\"p-6 bg-gradient-to-br from-teal-50 to-teal-100 rounded-lg border-2 border-teal-200\">\n                  <div className=\"flex items-baseline justify-between\">\n                    <span className=\"text-sm font-medium text-gray-700\">Total Price</span>\n                    <span className=\"text-xl font-bold text-teal-700\">\n                      {viewingBooking.totalPrice?.toFixed(0) || \"N/A\"} MAD\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Actions */}\n              {viewingBooking.status === \"TENANT_CHECKED_OUT\" && (\n                <>\n                  <Button\n                    onClick={async () => {\n                      setViewModalOpen(false)\n                      await handleCheckout(viewingBooking.id)\n                    }}\n                    disabled={actionLoading[viewingBooking.id]}\n                    className=\"w-full bg-green-600 hover:bg-green-700 text-white\"\n                  >\n                    {actionLoading[viewingBooking.id] ? (\n                      <>\n                        <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                        Processing...\n                      </>\n                    ) : (\n                      <>\n                        <CheckCircle className=\"w-4 h-4 mr-2\" />\n                        Confirm Checkout\n                      </>\n                    )}\n                  </Button>\n                  {reclamations[viewingBooking.id] ? (\n                    <Button\n                      onClick={async () => {\n                        setViewModalOpen(false)\n                        await handleRemoveReclamation(viewingBooking.id, reclamations[viewingBooking.id].id)\n                      }}\n                      disabled={actionLoading[viewingBooking.id]}\n                      variant=\"outline\"\n                      className=\"w-full border-red-300 text-red-700 hover:bg-red-50\"\n                    >\n                      {actionLoading[viewingBooking.id] ? (\n                        <>\n                          <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                          Processing...\n                        </>\n                      ) : (\n                        <>\n                          <X className=\"w-4 h-4 mr-2\" />\n                          Remove Reclamation\n                        </>\n                      )}\n                    </Button>\n                  ) : (\n                    <Button\n                      onClick={() => {\n                        setViewModalOpen(false)\n                        handleReclamation(viewingBooking.id)\n                      }}\n                      variant=\"outline\"\n                      className=\"w-full border-orange-300 text-orange-700 hover:bg-orange-50\"\n                    >\n                      <AlertTriangle className=\"w-4 h-4 mr-2\" />\n                      Reclamation\n                    </Button>\n                  )}\n                </>\n              )}\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n    </>\n  )\n}\n\n","\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { useAuth } from \"@/lib/hooks/use-auth\"\nimport { apiClient } from \"@/lib/services/api\"\nimport { Card } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Loader2, Calendar, Clock, CheckCircle, MapPin, Eye, AlertTriangle, X } from \"lucide-react\"\nimport Image from \"next/image\"\nimport type { Property } from \"@/lib/types\"\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\nimport { toast } from \"sonner\"\n\ninterface Booking {\n  id: number\n  userId: number\n  propertyId: number | string\n  checkInDate: string\n  checkOutDate: string\n  totalPrice: number\n  status: string\n  longStayDiscountPercent?: number\n}\n\ninterface BookingWithProperty extends Booking {\n  property?: Property\n}\n\ninterface CheckoutRequestsProps {\n  ownerId: string | number\n  onUpdate?: () => void\n}\n\nexport function CheckoutRequests({ ownerId, onUpdate }: CheckoutRequestsProps) {\n  const router = useRouter()\n  const { user } = useAuth()\n  const [bookings, setBookings] = useState<BookingWithProperty[]>([])\n  const [isLoading, setIsLoading] = useState(true)\n  const [error, setError] = useState(\"\")\n  const [actionLoading, setActionLoading] = useState<{ [key: number]: boolean }>({})\n  const [viewModalOpen, setViewModalOpen] = useState(false)\n  const [viewingBooking, setViewingBooking] = useState<BookingWithProperty | null>(null)\n  const [reclamations, setReclamations] = useState<{ [key: number]: any }>({})\n\n  useEffect(() => {\n    fetchBookings()\n  }, [ownerId])\n\n  useEffect(() => {\n    if (bookings.length > 0) {\n      fetchReclamations()\n    }\n  }, [bookings])\n\n  const fetchBookings = async () => {\n    try {\n      setIsLoading(true)\n      setError(\"\")\n      const data = await apiClient.bookings.getCurrentBookingsByOwner(parseInt(String(ownerId)))\n\n      const checkoutRequests = data.filter((booking: Booking) => {\n        return booking.status === \"TENANT_CHECKED_OUT\"\n      })\n\n      // Fetch property details for each booking\n      const bookingsWithProperties = await Promise.all(\n        checkoutRequests.map(async (booking: Booking) => {\n          try {\n            const property = await apiClient.properties.getById(String(booking.propertyId))\n            return { ...booking, property }\n          } catch {\n            return { ...booking, property: undefined }\n          }\n        })\n      )\n\n      setBookings(bookingsWithProperties)\n    } catch (err: any) {\n      setError(err.message || \"Failed to load checkout requests\")\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleCheckout = async (bookingId: number) => {\n    if (!window.confirm(\"Are you sure the tenant has checked out?\")) {\n      return\n    }\n\n    setActionLoading((prev) => ({ ...prev, [bookingId]: true }))\n    setError(\"\")\n\n    try {\n      const booking = bookings.find(b => b.id === bookingId)\n\n      if (!booking) {\n        setError(\"Booking not found\")\n        return\n      }\n\n      if (booking.status !== \"TENANT_CHECKED_OUT\") {\n        const errorMsg = `Cannot confirm checkout. Booking status must be TENANT_CHECKED_OUT, but it is ${booking.status}`\n        setError(errorMsg)\n        toast.error(errorMsg)\n        return\n      }\n\n      // Note: We already filtered to only show TENANT_CHECKED_OUT bookings, so status should be correct\n\n      const ownerIdNum = parseInt(String(ownerId))\n      if (isNaN(ownerIdNum)) {\n        throw new Error(\"Invalid owner ID. Please refresh the page and try again.\")\n      }\n\n      // Use the dedicated owner endpoint\n      await apiClient.bookings.ownerConfirmCheckout(bookingId, ownerIdNum)\n\n      try {\n        await apiClient.payments.completeBooking(bookingId)\n        toast.success(\"Booking completed successfully on blockchain\")\n      } catch (blockchainErr: any) {\n        toast.warning(\"Booking marked as completed, but blockchain transaction failed. Please contact support.\")\n      }\n\n      toast.success(\"Checkout confirmed successfully\")\n      await fetchBookings()\n      if (onUpdate) onUpdate()\n    } catch (err: any) {\n      const errorMsg = err.message || \"Failed to confirm checkout\"\n      setError(errorMsg)\n      toast.error(errorMsg)\n    } finally {\n      setActionLoading((prev) => ({ ...prev, [bookingId]: false }))\n    }\n  }\n\n  const fetchReclamations = async () => {\n    if (!user?.id) return\n\n    try {\n      const reclamationsMap: { [key: number]: any } = {}\n      const currentUserId = parseInt(String(user.id))\n      await Promise.all(\n        bookings.map(async (booking) => {\n          try {\n            const reclamation = await apiClient.reclamations.getByBookingIdAndComplainant(\n              booking.id,\n              currentUserId\n            )\n            if (reclamation) {\n              reclamationsMap[booking.id] = reclamation\n            }\n          } catch (err) {\n            // Reclamation not found, ignore\n          }\n        })\n      )\n      setReclamations(reclamationsMap)\n    } catch (err) {\n      // Ignore errors\n    }\n  }\n\n  const handleReclamation = (bookingId: number) => {\n    router.push(`/reclamation/${bookingId}?isHost=true`)\n  }\n\n  const handleRemoveReclamation = async (bookingId: number, reclamationId: number) => {\n    if (!window.confirm(\"Are you sure you want to remove this reclamation?\")) {\n      return\n    }\n\n    if (!user?.id) {\n      setError(\"User not found\")\n      return\n    }\n\n    setActionLoading((prev) => ({ ...prev, [bookingId]: true }))\n    setError(\"\")\n\n    try {\n      const currentUserId = parseInt(String(user.id))\n      await apiClient.reclamations.delete(reclamationId, currentUserId)\n      setReclamations((prev) => {\n        const newReclamations = { ...prev }\n        delete newReclamations[bookingId]\n        return newReclamations\n      })\n      toast.success(\"Reclamation removed successfully\")\n      if (onUpdate) onUpdate()\n    } catch (err: any) {\n      setError(err.message || \"Failed to remove reclamation\")\n      toast.error(err.message || \"Failed to remove reclamation\")\n    } finally {\n      setActionLoading((prev) => ({ ...prev, [bookingId]: false }))\n    }\n  }\n\n  const formatDate = (dateString: string) => {\n    if (!dateString) return \"N/A\"\n    try {\n      const date = new Date(dateString)\n      return date.toLocaleDateString(\"en-US\", { year: \"numeric\", month: \"short\", day: \"numeric\" })\n    } catch {\n      return dateString\n    }\n  }\n\n  const calculateNights = (checkIn: string, checkOut: string) => {\n    if (!checkIn || !checkOut) return 0\n    try {\n      const checkInDate = new Date(checkIn)\n      const checkOutDate = new Date(checkOut)\n      const diffTime = Math.abs(checkOutDate.getTime() - checkInDate.getTime())\n      return Math.ceil(diffTime / (1000 * 60 * 60 * 24))\n    } catch {\n      return 0\n    }\n  }\n\n  const getPropertyImage = (property?: Property) => {\n    if (!property?.propertyImages || property.propertyImages.length === 0) {\n      return null\n    }\n    const coverImage = property.propertyImages.find((img) => img.cover)\n    return coverImage ? coverImage.url : property.propertyImages[0].url\n  }\n\n  const getImageUrl = (url: string | null | undefined) => {\n    if (!url) return \"/houses_placeholder.png\"\n    if (url.startsWith(\"http://\") || url.startsWith(\"https://\")) {\n      return url\n    }\n    if (url.startsWith(\"/uploads\")) {\n      return `http://localhost:8081${url}`\n    }\n    return url\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <Loader2 className=\"h-12 w-12 animate-spin text-teal-600\" />\n        <p className=\"ml-4 text-gray-600\">Loading checkout requests...</p>\n      </div>\n    )\n  }\n\n  if (error && !bookings.length) {\n    return (\n      <Card className=\"p-6 border-red-200 bg-red-50\">\n        <p className=\"text-red-700\">{error}</p>\n        <Button onClick={fetchBookings} variant=\"outline\" className=\"mt-4\">\n          Try Again\n        </Button>\n      </Card>\n    )\n  }\n\n  if (bookings.length === 0) {\n    return (\n      <Card className=\"p-12 text-center\">\n        <CheckCircle className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n        <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">No checkout requests</h2>\n        <p className=\"text-gray-600\">You don't have any bookings waiting for checkout confirmation.</p>\n      </Card>\n    )\n  }\n\n  return (\n    <>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {bookings.map((booking) => {\n          const imageUrl = getPropertyImage(booking.property)\n          const nights = calculateNights(booking.checkInDate, booking.checkOutDate)\n\n          return (\n            <Card key={booking.id} className=\"overflow-hidden hover:shadow-2xl transition-all duration-300 border-2 border-purple-200\">\n              <div className=\"relative h-48 bg-gradient-to-br from-purple-100 to-purple-200 overflow-hidden\">\n                {imageUrl ? (\n                  <Image\n                    src={getImageUrl(imageUrl)}\n                    alt={booking.property?.title || \"Property\"}\n                    fill\n                    className=\"object-cover\"\n                    sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\"\n                  />\n                ) : (\n                  <div className=\"w-full h-full flex items-center justify-center\">\n                    <MapPin className=\"w-16 h-16 text-purple-300\" />\n                  </div>\n                )}\n                <div className=\"absolute top-4 right-4\">\n                  <Badge className=\"bg-purple-100 text-purple-800 border-purple-200\">Awaiting Confirmation</Badge>\n                </div>\n                <div className=\"absolute bottom-4 left-4 bg-white/95 backdrop-blur-sm rounded-xl px-4 py-2 shadow-lg\">\n                  <div className=\"flex items-baseline gap-1\">\n                    <span className=\"text-xl font-bold text-purple-600\">\n                      {booking.totalPrice?.toFixed(4) || \"N/A\"}\n                    </span>\n                    <span className=\"text-sm font-semibold text-gray-600\">MAD</span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"p-6\">\n                <h3 className=\"text-lg font-bold text-gray-900 mb-2 line-clamp-1\">\n                  {booking.property?.title || `Property ${booking.propertyId}`}\n                </h3>\n                {booking.property?.address && (\n                  <div className=\"flex items-center text-gray-600 text-sm mb-4\">\n                    <MapPin className=\"w-4 h-4 mr-1.5 text-purple-600 flex-shrink-0\" />\n                    <span className=\"line-clamp-1\">\n                      {booking.property.address.city}, {booking.property.address.country}\n                    </span>\n                  </div>\n                )}\n\n                <div className=\"space-y-2 mb-4 pb-4 border-b border-gray-200\">\n                  <div className=\"flex items-center justify-between text-sm\">\n                    <div className=\"flex items-center text-gray-600\">\n                      <Calendar className=\"w-4 h-4 mr-2 text-purple-600\" />\n                      <span>Check-in</span>\n                    </div>\n                    <span className=\"font-semibold text-gray-900\">{formatDate(booking.checkInDate)}</span>\n                  </div>\n                  <div className=\"flex items-center justify-between text-sm\">\n                    <div className=\"flex items-center text-gray-600\">\n                      <Calendar className=\"w-4 h-4 mr-2 text-purple-600\" />\n                      <span>Check-out</span>\n                    </div>\n                    <span className=\"font-semibold text-gray-900\">{formatDate(booking.checkOutDate)}</span>\n                  </div>\n                  <div className=\"flex items-center justify-between text-sm\">\n                    <div className=\"flex items-center text-gray-600\">\n                      <Clock className=\"w-4 h-4 mr-2 text-purple-600\" />\n                      <span>Duration</span>\n                    </div>\n                    <span className=\"font-semibold text-gray-900\">{nights} {nights === 1 ? \"night\" : \"nights\"}</span>\n                  </div>\n                </div>\n\n                <div className=\"flex flex-col gap-2\">\n                  <Button\n                    onClick={() => handleCheckout(booking.id)}\n                    disabled={actionLoading[booking.id]}\n                    className=\"w-full bg-green-600 hover:bg-green-700 text-white\"\n                  >\n                    {actionLoading[booking.id] ? (\n                      <>\n                        <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                        Processing...\n                      </>\n                    ) : (\n                      <>\n                        <CheckCircle className=\"w-4 h-4 mr-2\" />\n                        Confirm Checkout\n                      </>\n                    )}\n                  </Button>\n                  {reclamations[booking.id] ? (\n                    <Button\n                      onClick={() => handleRemoveReclamation(booking.id, reclamations[booking.id].id)}\n                      disabled={actionLoading[booking.id]}\n                      variant=\"outline\"\n                      className=\"w-full border-red-300 text-red-700 hover:bg-red-50\"\n                    >\n                      {actionLoading[booking.id] ? (\n                        <>\n                          <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                          Processing...\n                        </>\n                      ) : (\n                        <>\n                          <X className=\"w-4 h-4 mr-2\" />\n                          Remove Reclamation\n                        </>\n                      )}\n                    </Button>\n                  ) : (\n                    <Button\n                      onClick={() => handleReclamation(booking.id)}\n                      variant=\"outline\"\n                      className=\"w-full border-orange-300 text-orange-700 hover:bg-orange-50\"\n                    >\n                      <AlertTriangle className=\"w-4 h-4 mr-2\" />\n                      Reclamation\n                    </Button>\n                  )}\n                  <Button\n                    onClick={() => {\n                      setViewingBooking(booking)\n                      setViewModalOpen(true)\n                    }}\n                    variant=\"outline\"\n                    className=\"w-full\"\n                  >\n                    <Eye className=\"w-4 h-4 mr-2\" />\n                    View Details\n                  </Button>\n                </div>\n              </div>\n            </Card>\n          )\n        })}\n      </div>\n\n      <Dialog open={viewModalOpen} onOpenChange={setViewModalOpen}>\n        <DialogContent className=\"max-w-3xl max-h-[90vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle className=\"text-2xl font-bold text-gray-900\">Checkout Request Details</DialogTitle>\n          </DialogHeader>\n\n          {viewingBooking && (\n            <div className=\"space-y-6 mt-4\">\n              {viewingBooking.property && getPropertyImage(viewingBooking.property) && (\n                <div className=\"relative h-48 bg-gradient-to-br from-purple-100 to-purple-200 rounded-lg overflow-hidden\">\n                  <Image\n                    src={getImageUrl(getPropertyImage(viewingBooking.property))}\n                    alt={viewingBooking.property.title || \"Property\"}\n                    fill\n                    className=\"object-cover\"\n                    sizes=\"(max-width: 768px) 100vw, 80vw\"\n                  />\n                </div>\n              )}\n\n              {viewingBooking.property && (\n                <div className=\"p-4 bg-gray-50 rounded-lg\">\n                  <h3 className=\"text-xl font-bold text-gray-900 mb-2\">{viewingBooking.property.title}</h3>\n                  {viewingBooking.property.address && (\n                    <div className=\"flex items-center text-gray-600\">\n                      <MapPin className=\"w-4 h-4 mr-2 text-purple-600\" />\n                      <span>{viewingBooking.property.address.city}, {viewingBooking.property.address.country}</span>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              <div className=\"space-y-4\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div className=\"p-4 bg-gray-50 rounded-lg\">\n                    <p className=\"text-sm text-gray-600 mb-1\">Check-in</p>\n                    <p className=\"text-base font-semibold text-gray-900\">{formatDate(viewingBooking.checkInDate)}</p>\n                  </div>\n                  <div className=\"p-4 bg-gray-50 rounded-lg\">\n                    <p className=\"text-sm text-gray-600 mb-1\">Check-out</p>\n                    <p className=\"text-base font-semibold text-gray-900\">{formatDate(viewingBooking.checkOutDate)}</p>\n                  </div>\n                </div>\n                <div className=\"p-4 bg-purple-50 rounded-lg\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-sm font-medium text-gray-700\">Duration</span>\n                    <span className=\"text-lg font-bold text-purple-700\">\n                      {calculateNights(viewingBooking.checkInDate, viewingBooking.checkOutDate)} {calculateNights(viewingBooking.checkInDate, viewingBooking.checkOutDate) === 1 ? \"night\" : \"nights\"}\n                    </span>\n                  </div>\n                </div>\n                <div className=\"p-6 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg border-2 border-purple-200\">\n                  <div className=\"flex items-baseline justify-between\">\n                    <span className=\"text-sm font-medium text-gray-700\">Total Price</span>\n                    <span className=\"text-xl font-bold text-purple-700\">\n                      {viewingBooking.totalPrice?.toFixed(0) || \"N/A\"} MAD\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"space-y-3\">\n                <Button\n                  onClick={async () => {\n                    setViewModalOpen(false)\n                    await handleCheckout(viewingBooking.id)\n                  }}\n                  disabled={actionLoading[viewingBooking.id]}\n                  className=\"w-full bg-green-600 hover:bg-green-700 text-white\"\n                >\n                  {actionLoading[viewingBooking.id] ? (\n                    <>\n                      <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                      Processing...\n                    </>\n                  ) : (\n                    <>\n                      <CheckCircle className=\"w-4 h-4 mr-2\" />\n                      Confirm Checkout\n                    </>\n                  )}\n                </Button>\n                {reclamations[viewingBooking.id] ? (\n                  <Button\n                    onClick={async () => {\n                      setViewModalOpen(false)\n                      await handleRemoveReclamation(viewingBooking.id, reclamations[viewingBooking.id].id)\n                    }}\n                    disabled={actionLoading[viewingBooking.id]}\n                    variant=\"outline\"\n                    className=\"w-full border-red-300 text-red-700 hover:bg-red-50\"\n                  >\n                    {actionLoading[viewingBooking.id] ? (\n                      <>\n                        <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                        Processing...\n                      </>\n                    ) : (\n                      <>\n                        <X className=\"w-4 h-4 mr-2\" />\n                        Remove Reclamation\n                      </>\n                    )}\n                  </Button>\n                ) : (\n                  <Button\n                    onClick={() => {\n                      setViewModalOpen(false)\n                      handleReclamation(viewingBooking.id)\n                    }}\n                    variant=\"outline\"\n                    className=\"w-full border-orange-300 text-orange-700 hover:bg-orange-50\"\n                  >\n                    <AlertTriangle className=\"w-4 h-4 mr-2\" />\n                    Reclamation\n                  </Button>\n                )}\n              </div>\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n    </>\n  )\n}\n\n","\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { apiClient } from \"@/lib/services/api\"\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Loader2, Calendar, Clock, CheckCircle, XCircle, MapPin, Eye, Handshake } from \"lucide-react\"\r\nimport Image from \"next/image\"\r\nimport type { Property } from \"@/lib/types\"\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\r\n\r\ninterface Booking {\r\n  id: number\r\n  userId: number\r\n  propertyId: number | string\r\n  checkInDate: string\r\n  checkOutDate: string\r\n  totalPrice: number\r\n  status: string\r\n  requestedNegotiationPercent?: number\r\n  negotiationExpiresAt?: string\r\n}\r\n\r\ninterface BookingWithProperty extends Booking {\r\n  property?: Property\r\n}\r\n\r\ninterface PendingNegotiationsProps {\r\n  ownerId: string | number\r\n  onUpdate?: () => void\r\n}\r\n\r\nexport function PendingNegotiations({ ownerId, onUpdate }: PendingNegotiationsProps) {\r\n  const [bookings, setBookings] = useState<BookingWithProperty[]>([])\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [error, setError] = useState(\"\")\r\n  const [actionLoading, setActionLoading] = useState<{ [key: number]: boolean }>({})\r\n  const [viewModalOpen, setViewModalOpen] = useState(false)\r\n  const [viewingBooking, setViewingBooking] = useState<BookingWithProperty | null>(null)\r\n\r\n  useEffect(() => {\r\n    fetchBookings()\r\n  }, [ownerId])\r\n\r\n  const fetchBookings = async () => {\r\n    try {\r\n      setIsLoading(true)\r\n      setError(\"\")\r\n      const data = await apiClient.bookings.getPendingNegotiations(parseInt(String(ownerId)))\r\n\r\n      // Fetch property details for each booking\r\n      const bookingsWithProperties = await Promise.all(\r\n        data.map(async (booking: Booking) => {\r\n          try {\r\n            const property = await apiClient.properties.getById(String(booking.propertyId))\r\n            return { ...booking, property }\r\n          } catch {\r\n            return { ...booking, property: undefined }\r\n          }\r\n        })\r\n      )\r\n\r\n      setBookings(bookingsWithProperties)\r\n    } catch (err: any) {\r\n      setError(err.message || \"Failed to load pending negotiations\")\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleAccept = async (bookingId: number) => {\r\n    if (!window.confirm(\"Are you sure you want to accept this negotiation?\")) {\r\n      return\r\n    }\r\n\r\n    setActionLoading((prev) => ({ ...prev, [bookingId]: true }))\r\n    setError(\"\")\r\n\r\n    try {\r\n      await apiClient.bookings.acceptNegotiation(bookingId, parseInt(String(ownerId)))\r\n      await fetchBookings()\r\n      if (onUpdate) onUpdate()\r\n    } catch (err: any) {\r\n      setError(err.message || \"Failed to accept negotiation\")\r\n    } finally {\r\n      setActionLoading((prev) => ({ ...prev, [bookingId]: false }))\r\n    }\r\n  }\r\n\r\n  const handleReject = async (bookingId: number) => {\r\n    if (!window.confirm(\"Are you sure you want to reject this negotiation? The tenant can change the price.\")) {\r\n      return\r\n    }\r\n\r\n    setActionLoading((prev) => ({ ...prev, [bookingId]: true }))\r\n    setError(\"\")\r\n\r\n    try {\r\n      await apiClient.bookings.rejectNegotiation(bookingId, parseInt(String(ownerId)))\r\n      await fetchBookings()\r\n      if (onUpdate) onUpdate()\r\n    } catch (err: any) {\r\n      setError(err.message || \"Failed to reject negotiation\")\r\n    } finally {\r\n      setActionLoading((prev) => ({ ...prev, [bookingId]: false }))\r\n    }\r\n  }\r\n\r\n  const formatDate = (dateString: string) => {\r\n    if (!dateString) return \"N/A\"\r\n    try {\r\n      const date = new Date(dateString)\r\n      return date.toLocaleDateString(\"en-US\", { year: \"numeric\", month: \"short\", day: \"numeric\" })\r\n    } catch {\r\n      return dateString\r\n    }\r\n  }\r\n\r\n  const calculateNights = (checkIn: string, checkOut: string) => {\r\n    if (!checkIn || !checkOut) return 0\r\n    try {\r\n      const checkInDate = new Date(checkIn)\r\n      const checkOutDate = new Date(checkOut)\r\n      const diffTime = Math.abs(checkOutDate.getTime() - checkInDate.getTime())\r\n      return Math.ceil(diffTime / (1000 * 60 * 60 * 24))\r\n    } catch {\r\n      return 0\r\n    }\r\n  }\r\n\r\n  const getPropertyImage = (property?: Property) => {\r\n    if (!property?.propertyImages || property.propertyImages.length === 0) {\r\n      return null\r\n    }\r\n    const coverImage = property.propertyImages.find((img) => img.cover)\r\n    return coverImage ? coverImage.url : property.propertyImages[0].url\r\n  }\r\n\r\n  const getImageUrl = (url: string | null | undefined) => {\r\n    if (!url) return \"/houses_placeholder.png\"\r\n    if (url.startsWith(\"http://\") || url.startsWith(\"https://\")) {\r\n      return url\r\n    }\r\n    if (url.startsWith(\"/uploads\")) {\r\n      return `http://localhost:8081${url}`\r\n    }\r\n    return url\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-12\">\r\n        <Loader2 className=\"h-12 w-12 animate-spin text-teal-600\" />\r\n        <p className=\"ml-4 text-gray-600\">Loading pending negotiations...</p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Card className=\"p-6 border-red-200 bg-red-50\">\r\n        <p className=\"text-red-700\">{error}</p>\r\n        <Button onClick={fetchBookings} variant=\"outline\" className=\"mt-4\">\r\n          Try Again\r\n        </Button>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  if (bookings.length === 0) {\r\n    return (\r\n      <Card className=\"p-12 text-center\">\r\n        <Handshake className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\r\n        <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">No pending negotiations</h2>\r\n        <p className=\"text-gray-600\">You don't have any pending negotiation requests.</p>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        {bookings.map((booking) => {\r\n          const imageUrl = getPropertyImage(booking.property)\r\n          const nights = calculateNights(booking.checkInDate, booking.checkOutDate)\r\n\r\n          return (\r\n            <Card key={booking.id} className=\"overflow-hidden hover:shadow-2xl transition-all duration-300\">\r\n              {/* Image Section */}\r\n              <div className=\"relative h-48 bg-gradient-to-br from-yellow-100 to-yellow-200 overflow-hidden\">\r\n                {imageUrl ? (\r\n                  <Image\r\n                    src={getImageUrl(imageUrl)}\r\n                    alt={booking.property?.title || \"Property\"}\r\n                    fill\r\n                    className=\"object-cover\"\r\n                    sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\"\r\n                  />\r\n                ) : (\r\n                  <div className=\"w-full h-full flex items-center justify-center\">\r\n                    <MapPin className=\"w-16 h-16 text-yellow-300\" />\r\n                  </div>\r\n                )}\r\n                <div className=\"absolute top-4 right-4\">\r\n                  <Badge className=\"bg-yellow-100 text-yellow-800 border-yellow-200\">Negotiation</Badge>\r\n                </div>\r\n                <div className=\"absolute bottom-4 left-4 bg-white/95 backdrop-blur-sm rounded-xl px-4 py-2 shadow-lg\">\r\n                  <div className=\"flex items-baseline gap-1\">\r\n                    <span className=\"text-xl font-bold text-yellow-600\">\r\n                      {booking.totalPrice?.toFixed(4) || \"N/A\"}\r\n                    </span>\r\n                    <span className=\"text-sm font-semibold text-gray-600\">ETH</span>\r\n                  </div>\r\n                  {booking.requestedNegotiationPercent && (\r\n                    <p className=\"text-xs text-yellow-600 font-medium mt-1\">\r\n                      {booking.requestedNegotiationPercent}% discount\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Content Section */}\r\n              <div className=\"p-6\">\r\n                <h3 className=\"text-lg font-bold text-gray-900 mb-2 line-clamp-1\">\r\n                  {booking.property?.title || `Property ${booking.propertyId}`}\r\n                </h3>\r\n                {booking.property?.address && (\r\n                  <div className=\"flex items-center text-gray-600 text-sm mb-4\">\r\n                    <MapPin className=\"w-4 h-4 mr-1.5 text-teal-600 flex-shrink-0\" />\r\n                    <span className=\"line-clamp-1\">\r\n                      {booking.property.address.city}, {booking.property.address.country}\r\n                    </span>\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"space-y-2 mb-4 pb-4 border-b border-gray-200\">\r\n                  <div className=\"flex items-center justify-between text-sm\">\r\n                    <div className=\"flex items-center text-gray-600\">\r\n                      <Calendar className=\"w-4 h-4 mr-2 text-teal-600\" />\r\n                      <span>Check-in</span>\r\n                    </div>\r\n                    <span className=\"font-semibold text-gray-900\">{formatDate(booking.checkInDate)}</span>\r\n                  </div>\r\n                  <div className=\"flex items-center justify-between text-sm\">\r\n                    <div className=\"flex items-center text-gray-600\">\r\n                      <Calendar className=\"w-4 h-4 mr-2 text-teal-600\" />\r\n                      <span>Check-out</span>\r\n                    </div>\r\n                    <span className=\"font-semibold text-gray-900\">{formatDate(booking.checkOutDate)}</span>\r\n                  </div>\r\n                  <div className=\"flex items-center justify-between text-sm\">\r\n                    <div className=\"flex items-center text-gray-600\">\r\n                      <Clock className=\"w-4 h-4 mr-2 text-teal-600\" />\r\n                      <span>Duration</span>\r\n                    </div>\r\n                    <span className=\"font-semibold text-gray-900\">{nights} {nights === 1 ? \"night\" : \"nights\"}</span>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Actions */}\r\n                <div className=\"flex flex-col gap-2\">\r\n                  <div className=\"grid grid-cols-2 gap-2\">\r\n                    <Button\r\n                      onClick={() => handleAccept(booking.id)}\r\n                      disabled={actionLoading[booking.id]}\r\n                      className=\"flex-1 bg-green-600 hover:bg-green-700 text-white\"\r\n                    >\r\n                      {actionLoading[booking.id] ? (\r\n                        <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                      ) : (\r\n                        <>\r\n                          <CheckCircle className=\"w-4 h-4 mr-2\" />\r\n                          Accept\r\n                        </>\r\n                      )}\r\n                    </Button>\r\n                    <Button\r\n                      onClick={() => handleReject(booking.id)}\r\n                      disabled={actionLoading[booking.id]}\r\n                      variant=\"destructive\"\r\n                      className=\"flex-1\"\r\n                    >\r\n                      {actionLoading[booking.id] ? (\r\n                        <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                      ) : (\r\n                        <>\r\n                          <XCircle className=\"w-4 h-4 mr-2\" />\r\n                          Reject\r\n                        </>\r\n                      )}\r\n                    </Button>\r\n                  </div>\r\n                  <Button\r\n                    onClick={() => {\r\n                      setViewingBooking(booking)\r\n                      setViewModalOpen(true)\r\n                    }}\r\n                    variant=\"outline\"\r\n                    className=\"w-full\"\r\n                  >\r\n                    <Eye className=\"w-4 h-4 mr-2\" />\r\n                    View Details\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </Card>\r\n          )\r\n        })}\r\n      </div>\r\n\r\n      {/* View Modal */}\r\n      <Dialog open={viewModalOpen} onOpenChange={setViewModalOpen}>\r\n        <DialogContent className=\"max-w-3xl max-h-[90vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"text-2xl font-bold text-gray-900\">Negotiation Details</DialogTitle>\r\n          </DialogHeader>\r\n\r\n          {viewingBooking && (\r\n            <div className=\"space-y-6 mt-4\">\r\n              {/* Property Image */}\r\n              {viewingBooking.property && getPropertyImage(viewingBooking.property) && (\r\n                <div className=\"relative h-48 bg-gradient-to-br from-yellow-100 to-yellow-200 rounded-lg overflow-hidden\">\r\n                  <Image\r\n                    src={getImageUrl(getPropertyImage(viewingBooking.property))}\r\n                    alt={viewingBooking.property.title || \"Property\"}\r\n                    fill\r\n                    className=\"object-cover\"\r\n                    sizes=\"(max-width: 768px) 100vw, 80vw\"\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              {/* Property Info */}\r\n              {viewingBooking.property && (\r\n                <div className=\"p-4 bg-gray-50 rounded-lg\">\r\n                  <h3 className=\"text-xl font-bold text-gray-900 mb-2\">{viewingBooking.property.title}</h3>\r\n                  {viewingBooking.property.address && (\r\n                    <div className=\"flex items-center text-gray-600\">\r\n                      <MapPin className=\"w-4 h-4 mr-2 text-teal-600\" />\r\n                      <span>{viewingBooking.property.address.city}, {viewingBooking.property.address.country}</span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {/* Booking Details */}\r\n              <div className=\"space-y-4\">\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div className=\"p-4 bg-gray-50 rounded-lg\">\r\n                    <p className=\"text-sm text-gray-600 mb-1\">Check-in</p>\r\n                    <p className=\"text-base font-semibold text-gray-900\">{formatDate(viewingBooking.checkInDate)}</p>\r\n                  </div>\r\n                  <div className=\"p-4 bg-gray-50 rounded-lg\">\r\n                    <p className=\"text-sm text-gray-600 mb-1\">Check-out</p>\r\n                    <p className=\"text-base font-semibold text-gray-900\">{formatDate(viewingBooking.checkOutDate)}</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"p-4 bg-teal-50 rounded-lg\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"text-sm font-medium text-gray-700\">Duration</span>\r\n                    <span className=\"text-lg font-bold text-teal-700\">\r\n                      {calculateNights(viewingBooking.checkInDate, viewingBooking.checkOutDate)} {calculateNights(viewingBooking.checkInDate, viewingBooking.checkOutDate) === 1 ? \"night\" : \"nights\"}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"p-6 bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg border-2 border-yellow-200\">\r\n                  <div className=\"flex items-baseline justify-between mb-2\">\r\n                    <span className=\"text-sm font-medium text-gray-700\">Negotiated Price</span>\r\n                    <span className=\"text-xl font-bold text-yellow-700\">\r\n                      {viewingBooking.totalPrice?.toFixed(4) || \"N/A\"} ETH\r\n                    </span>\r\n                  </div>\r\n                  {viewingBooking.requestedNegotiationPercent && (\r\n                    <div className=\"flex items-center justify-between mt-2 pt-2 border-t border-yellow-200\">\r\n                      <span className=\"text-sm text-gray-600\">Negotiation</span>\r\n                      <span className=\"text-sm font-semibold text-yellow-600\">\r\n                        {viewingBooking.requestedNegotiationPercent}%\r\n                      </span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Actions */}\r\n              <div className=\"grid grid-cols-2 gap-3\">\r\n                <Button\r\n                  onClick={async () => {\r\n                    setViewModalOpen(false)\r\n                    await handleAccept(viewingBooking.id)\r\n                  }}\r\n                  disabled={actionLoading[viewingBooking.id]}\r\n                  className=\"bg-green-600 hover:bg-green-700 text-white\"\r\n                >\r\n                  {actionLoading[viewingBooking.id] ? (\r\n                    <>\r\n                      <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                      Processing...\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <CheckCircle className=\"w-4 h-4 mr-2\" />\r\n                      Accept\r\n                    </>\r\n                  )}\r\n                </Button>\r\n                <Button\r\n                  onClick={async () => {\r\n                    setViewModalOpen(false)\r\n                    await handleReject(viewingBooking.id)\r\n                  }}\r\n                  disabled={actionLoading[viewingBooking.id]}\r\n                  variant=\"destructive\"\r\n                >\r\n                  {actionLoading[viewingBooking.id] ? (\r\n                    <>\r\n                      <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                      Processing...\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <XCircle className=\"w-4 h-4 mr-2\" />\r\n                      Reject\r\n                    </>\r\n                  )}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  )\r\n}\r\n\r\n","\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { apiClient } from \"@/lib/services/api\"\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Loader2 } from \"lucide-react\"\r\nimport { AddPropertyForm } from \"./AddPropertyForm\"\r\nimport type { Property } from \"@/lib/types\"\r\n\r\ninterface EditPropertyModalProps {\r\n  propertyId: string\r\n  onClose: () => void\r\n  onSuccess: () => void\r\n}\r\n\r\nexport function EditPropertyModal({ propertyId, onClose, onSuccess }: EditPropertyModalProps) {\r\n  const [property, setProperty] = useState<Property | null>(null)\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [error, setError] = useState(\"\")\r\n\r\n  useEffect(() => {\r\n    const fetchProperty = async () => {\r\n      try {\r\n        setIsLoading(true)\r\n        setError(\"\")\r\n        const data = await apiClient.properties.getById(propertyId)\r\n        setProperty(data)\r\n      } catch (err: any) {\r\n        setError(err.message || \"Failed to load property\")\r\n      } finally {\r\n        setIsLoading(false)\r\n      }\r\n    }\r\n\r\n    if (propertyId) {\r\n      fetchProperty()\r\n    }\r\n  }, [propertyId])\r\n\r\n  const handleSuccess = () => {\r\n    onSuccess()\r\n  }\r\n\r\n  return (\r\n    <Dialog open={true} onOpenChange={onClose}>\r\n      <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"text-2xl font-bold text-gray-900\">Edit Property</DialogTitle>\r\n        </DialogHeader>\r\n\r\n        {isLoading ? (\r\n          <div className=\"flex items-center justify-center py-12\">\r\n            <Loader2 className=\"h-8 w-8 animate-spin text-teal-600\" />\r\n            <p className=\"ml-4 text-gray-600\">Loading property data...</p>\r\n          </div>\r\n        ) : error ? (\r\n          <div className=\"p-6 border border-red-200 bg-red-50 rounded-lg\">\r\n            <p className=\"text-red-700 mb-4\">{error}</p>\r\n            <Button onClick={onClose} variant=\"outline\">\r\n              Close\r\n            </Button>\r\n          </div>\r\n        ) : property ? (\r\n          <AddPropertyForm\r\n            key={propertyId}\r\n            propertyId={propertyId}\r\n            propertyData={property}\r\n            isEditMode={true}\r\n            onSuccess={handleSuccess}\r\n          />\r\n        ) : null}\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n\r\n","\"use client\"\n\nimport React, { useState, useEffect } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { apiClient } from \"@/lib/services/api\"\nimport { Card } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\nimport { Loader2, MapPin, Edit, Trash2, Plus, Eye, Bed, Bath, Users, Wifi, Star, Send, X, EyeOff } from \"lucide-react\"\nimport Image from \"next/image\"\nimport type { Property } from \"@/lib/types\"\nimport { AddPropertyForm } from \"./AddPropertyForm\"\nimport { EditPropertyModal } from \"./EditPropertyModal\"\n\ninterface PropertiesListProps {\n  userId: string | number\n  onUpdate?: () => void\n  filter?: \"all\" | \"draft\" | \"pending-approval\" | \"approved\" | \"disapproved\" | \"suspended\" | \"hidden\"\n}\n\nexport function PropertiesList({ userId, onUpdate, filter = \"all\" }: PropertiesListProps) {\n  const router = useRouter()\n  const [properties, setProperties] = useState<Property[]>([])\n  const [filteredProperties, setFilteredProperties] = useState<Property[]>([])\n  const [isLoading, setIsLoading] = useState(true)\n  const [error, setError] = useState(\"\")\n  const [actionLoading, setActionLoading] = useState<{ [key: string]: boolean }>({})\n  const [editModalOpen, setEditModalOpen] = useState(false)\n  const [editingPropertyId, setEditingPropertyId] = useState<string | null>(null)\n  const [viewModalOpen, setViewModalOpen] = useState(false)\n  const [viewingProperty, setViewingProperty] = useState<Property | null>(null)\n  const [addModalOpen, setAddModalOpen] = useState(false)\n  const [showAllDescription, setShowAllDescription] = useState(false)\n  const [showAllAmenities, setShowAllAmenities] = useState(false)\n  const [aiCheckInDate, setAiCheckInDate] = useState(\"\")\n  const [aiCheckOutDate, setAiCheckOutDate] = useState(\"\")\n  const [aiLoading, setAiLoading] = useState(false)\n  const [aiError, setAiError] = useState(\"\")\n  const [aiResult, setAiResult] = useState<{\n    predictedPriceMad: number\n    predictedPriceUsd: number\n    confidenceIntervalLower: number\n    confidenceIntervalUpper: number\n    city: string\n    season: string\n    modelVersion: string\n    predictionTimestamp: string\n    currentPriceMad?: number\n    priceDifferencePercent?: number\n    recommendation?: string\n  } | null>(null)\n\n  useEffect(() => {\n    fetchProperties()\n  }, [userId])\n\n  useEffect(() => {\n    filterProperties()\n  }, [properties, filter])\n\n  // Reset AI suggestion state when closing / changing viewed property\n  useEffect(() => {\n    if (!viewModalOpen) {\n      setAiCheckInDate(\"\")\n      setAiCheckOutDate(\"\")\n      setAiResult(null)\n      setAiError(\"\")\n      setAiLoading(false)\n    }\n  }, [viewModalOpen])\n\n  const fetchProperties = async () => {\n    try {\n      setIsLoading(true)\n      setError(\"\")\n      const data = await apiClient.properties.getMyProperties()\n\n      // Ensure data is an array\n      if (!Array.isArray(data)) {\n        setError(\"Invalid response format from server\")\n        setProperties([])\n        return\n      }\n\n      setProperties(data)\n    } catch (err: any) {\n      setError(err.message || \"Failed to load properties\")\n      setProperties([]) // Set empty array on error\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const filterProperties = () => {\n    let filtered = [...properties]\n\n    // Filter by status\n    if (filter === \"draft\") {\n      filtered = filtered.filter((p) => p.status === \"DRAFT\")\n    } else if (filter === \"pending-approval\") {\n      filtered = filtered.filter((p) => p.status === \"PENDING_APPROVAL\")\n    } else if (filter === \"approved\") {\n      filtered = filtered.filter((p) => p.status === \"APPROVED\")\n    } else if (filter === \"disapproved\") {\n      filtered = filtered.filter((p) => p.status === \"DISAPPROVED\")\n    } else if (filter === \"suspended\") {\n      filtered = filtered.filter((p) => p.status === \"SUSPENDED\")\n    } else if (filter === \"hidden\") {\n      filtered = filtered.filter((p) => p.status === \"HIDDEN\")\n    }\n    // \"all\" shows all properties\n\n    setFilteredProperties(filtered)\n  }\n\n  const handleDelete = async (propertyId: string) => {\n    // Delete functionality is currently disabled\n    // TODO: Implement proper delete functionality\n    alert(\"Delete functionality is currently disabled.\")\n    return\n\n    // Original code (commented out for now):\n    // if (!window.confirm(\"Are you sure you want to delete this property? This action cannot be undone.\")) {\n    //   return\n    // }\n\n    // setActionLoading((prev) => ({ ...prev, [propertyId]: true }))\n    // setError(\"\")\n\n    // try {\n    //   await apiClient.properties.delete(propertyId)\n    //   await fetchProperties()\n    //   if (onUpdate) onUpdate()\n    // } catch (err: any) {\n    //   setError(err.message || \"Failed to delete property\")\n    // } finally {\n    //   setActionLoading((prev) => ({ ...prev, [propertyId]: false }))\n    // }\n  }\n\n  const handleSubmitForApproval = async (propertyId: string) => {\n    setActionLoading((prev) => ({ ...prev, [`submit-${propertyId}`]: true }))\n    setError(\"\")\n\n    try {\n      await apiClient.properties.submitForApproval(propertyId)\n      await fetchProperties()\n      if (onUpdate) onUpdate()\n    } catch (err: any) {\n      setError(err.message || \"Failed to submit property for approval\")\n    } finally {\n      setActionLoading((prev) => ({ ...prev, [`submit-${propertyId}`]: false }))\n    }\n  }\n\n  const handleCancelRequest = async (propertyId: string) => {\n    if (!window.confirm(\"Are you sure you want to cancel the approval request? The property will be moved back to draft.\")) {\n      return\n    }\n\n    setActionLoading((prev) => ({ ...prev, [`cancel-${propertyId}`]: true }))\n    setError(\"\")\n\n    try {\n      await apiClient.properties.cancelApprovalRequest(propertyId)\n      await fetchProperties()\n      if (onUpdate) onUpdate()\n    } catch (err: any) {\n      setError(err.message || \"Failed to cancel approval request\")\n    } finally {\n      setActionLoading((prev) => ({ ...prev, [`cancel-${propertyId}`]: false }))\n    }\n  }\n\n  const handleHide = async (propertyId: string, isHidden: boolean) => {\n    setActionLoading((prev) => ({ ...prev, [`hide-${propertyId}`]: true }))\n    setError(\"\")\n\n    try {\n      await apiClient.properties.hide(propertyId, isHidden)\n      await fetchProperties()\n      if (onUpdate) onUpdate()\n    } catch (err: any) {\n      setError(err.message || `Failed to ${isHidden ? \"hide\" : \"show\"} property`)\n    } finally {\n      setActionLoading((prev) => ({ ...prev, [`hide-${propertyId}`]: false }))\n    }\n  }\n\n\n  const handleEdit = (propertyId: string) => {\n    setEditingPropertyId(propertyId)\n    setEditModalOpen(true)\n  }\n\n  const handleEditSuccess = () => {\n    setEditModalOpen(false)\n    setEditingPropertyId(null)\n    fetchProperties().then(() => {\n      // Properties refreshed\n    })\n    if (onUpdate) {\n      onUpdate()\n    }\n  }\n\n  const getActionButtons = (property: Property) => {\n    const status = property.status.toUpperCase()\n    const buttons: React.JSX.Element[] = []\n\n    // Common buttons for all statuses\n    buttons.push(\n      <Button\n        key=\"edit\"\n        onClick={() => handleEdit(property.id)}\n        variant=\"outline\"\n        size=\"sm\"\n        className=\"text-xs\"\n      >\n        <Edit className=\"w-3 h-3 mr-1\" />\n        Edit\n      </Button>\n    )\n\n    buttons.push(\n      <Button\n        key=\"view\"\n        onClick={() => {\n          setViewingProperty(property)\n          setViewModalOpen(true)\n        }}\n        variant=\"outline\"\n        size=\"sm\"\n        className=\"text-xs\"\n      >\n        <Eye className=\"w-3 h-3 mr-1\" />\n        View\n      </Button>\n    )\n\n    // Status-specific buttons\n    if (status === \"DRAFT\") {\n      buttons.push(\n        <Button\n          key=\"submit\"\n          onClick={() => handleSubmitForApproval(property.id)}\n          disabled={actionLoading[`submit-${property.id}`]}\n          className=\"bg-teal-600 hover:bg-teal-700 text-white text-xs\"\n          size=\"sm\"\n        >\n          {actionLoading[`submit-${property.id}`] ? (\n            <Loader2 className=\"w-3 h-3 mr-1 animate-spin\" />\n          ) : (\n            <Send className=\"w-3 h-3 mr-1\" />\n          )}\n          Submit for Approval\n        </Button>\n      )\n    } else if (status === \"PENDING_APPROVAL\") {\n      buttons.push(\n        <Button\n          key=\"cancel\"\n          onClick={() => handleCancelRequest(property.id)}\n          disabled={actionLoading[`cancel-${property.id}`]}\n          variant=\"outline\"\n          size=\"sm\"\n          className=\"text-xs\"\n        >\n          {actionLoading[`cancel-${property.id}`] ? (\n            <Loader2 className=\"w-3 h-3 mr-1 animate-spin\" />\n          ) : (\n            <X className=\"w-3 h-3 mr-1\" />\n          )}\n          Cancel Request\n        </Button>\n      )\n    } else if (status === \"APPROVED\") {\n      buttons.push(\n        <Button\n          key=\"hide\"\n          onClick={() => handleHide(property.id, true)}\n          disabled={actionLoading[`hide-${property.id}`]}\n          variant=\"outline\"\n          size=\"sm\"\n          className=\"text-xs\"\n        >\n          {actionLoading[`hide-${property.id}`] ? (\n            <Loader2 className=\"w-3 h-3 mr-1 animate-spin\" />\n          ) : (\n            <EyeOff className=\"w-3 h-3 mr-1\" />\n          )}\n          Hide\n        </Button>\n      )\n    } else if (status === \"DISAPPROVED\") {\n      buttons.push(\n        <Button\n          key=\"resubmit\"\n          onClick={() => handleSubmitForApproval(property.id)}\n          disabled={actionLoading[`submit-${property.id}`]}\n          className=\"bg-teal-600 hover:bg-teal-700 text-white text-xs\"\n          size=\"sm\"\n        >\n          {actionLoading[`submit-${property.id}`] ? (\n            <Loader2 className=\"w-3 h-3 mr-1 animate-spin\" />\n          ) : (\n            <Send className=\"w-3 h-3 mr-1\" />\n          )}\n          Resubmit for Approval\n        </Button>\n      )\n    } else if (status === \"HIDDEN\") {\n      buttons.push(\n        <Button\n          key=\"show\"\n          onClick={() => handleHide(property.id, false)}\n          disabled={actionLoading[`hide-${property.id}`]}\n          className=\"bg-teal-600 hover:bg-teal-700 text-white text-xs\"\n          size=\"sm\"\n        >\n          {actionLoading[`hide-${property.id}`] ? (\n            <Loader2 className=\"w-3 h-3 mr-1 animate-spin\" />\n          ) : (\n            <Eye className=\"w-3 h-3 mr-1\" />\n          )}\n          Show\n        </Button>\n      )\n    }\n\n    // Delete button for all statuses\n    buttons.push(\n      <Button\n        key=\"delete\"\n        onClick={() => handleDelete(property.id)}\n        disabled={actionLoading[property.id]}\n        variant=\"destructive\"\n        size=\"sm\"\n        className=\"text-xs\"\n      >\n        {actionLoading[property.id] ? (\n          <Loader2 className=\"w-3 h-3 mr-1 animate-spin\" />\n        ) : (\n          <Trash2 className=\"w-3 h-3 mr-1\" />\n        )}\n        Delete\n      </Button>\n    )\n\n    return buttons\n  }\n\n\n  const getPropertyImage = (property: Property) => {\n    if (!property.propertyImages || property.propertyImages.length === 0) {\n      return null\n    }\n    const coverImage = property.propertyImages.find((img) => img.cover)\n    return coverImage ? coverImage.url : property.propertyImages[0].url\n  }\n\n  const getImageUrl = (url: string | null | undefined) => {\n    if (!url) return \"/houses_placeholder.png\"\n    if (url.startsWith(\"http://\") || url.startsWith(\"https://\")) {\n      return url\n    }\n    if (url.startsWith(\"/uploads\")) {\n      return `http://localhost:8081${url}`\n    }\n    return url\n  }\n\n  const getStatusBadge = (status: string) => {\n    const statusConfig: Record<string, { label: string; className: string }> = {\n      DRAFT: { label: \"Draft\", className: \"bg-gray-100 text-gray-800 border-gray-200\" },\n      PENDING_APPROVAL: { label: \"Pending Approval\", className: \"bg-yellow-100 text-yellow-800 border-yellow-200\" },\n      APPROVED: { label: \"Approved\", className: \"bg-green-100 text-green-800 border-green-200\" },\n      SUSPENDED: { label: \"Suspended\", className: \"bg-red-100 text-red-800 border-red-200\" },\n      HIDDEN: { label: \"Hidden\", className: \"bg-gray-100 text-gray-800 border-gray-200\" },\n      VISIBLE_ONLY_FOR_TENANTS: { label: \"Visible for Tenants\", className: \"bg-blue-100 text-blue-800 border-blue-200\" },\n      PENDING_DELETE: { label: \"Pending Delete\", className: \"bg-orange-100 text-orange-800 border-orange-200\" },\n      DISAPPROVED: { label: \"Disapproved\", className: \"bg-red-100 text-red-800 border-red-200\" },\n      WAITING_FOR_UPDATE: { label: \"Waiting for Update\", className: \"bg-yellow-100 text-yellow-800 border-yellow-200\" },\n    }\n\n    const config = statusConfig[status.toUpperCase()] || { label: status, className: \"bg-gray-100 text-gray-800 border-gray-200\" }\n    return <Badge className={config.className}>{config.label}</Badge>\n  }\n\n  const handleGetAiPriceSuggestion = async () => {\n    if (!viewingProperty) return\n    setAiError(\"\")\n    setAiResult(null)\n\n    if (!aiCheckInDate || !aiCheckOutDate) {\n      setAiError(\"Please select both check-in and check-out dates.\")\n      return\n    }\n\n    if (aiCheckInDate >= aiCheckOutDate) {\n      setAiError(\"Check-out date must be after check-in date.\")\n      return\n    }\n\n    try {\n      setAiLoading(true)\n      const result = await apiClient.properties.predictPrice(\n        viewingProperty.id,\n        aiCheckInDate,\n        aiCheckOutDate,\n      )\n      setAiResult(result)\n    } catch (err: any) {\n      setAiError(err?.message || \"Failed to get AI price suggestion\")\n    } finally {\n      setAiLoading(false)\n    }\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <Loader2 className=\"h-12 w-12 animate-spin text-teal-600\" />\n        <p className=\"ml-4 text-gray-600\">Loading properties...</p>\n      </div>\n    )\n  }\n\n  if (error) {\n    return (\n      <Card className=\"p-6 border-red-200 bg-red-50\">\n        <p className=\"text-red-700\">{error}</p>\n        <Button onClick={fetchProperties} variant=\"outline\" className=\"mt-4\">\n          Try Again\n        </Button>\n      </Card>\n    )\n  }\n\n  return (\n    <div>\n      {filteredProperties.length === 0 ? (\n        <Card className=\"p-12 text-center\">\n          <MapPin className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">\n            {properties.length === 0 ? \"No properties yet\" : \"No properties found\"}\n          </h2>\n          <p className=\"text-gray-600 mb-6\">\n            {properties.length === 0\n              ? \"Start by adding your first property!\"\n              : `No properties with status: ${filter}`}\n          </p>\n        </Card>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {filteredProperties.map((property) => {\n            const imageUrl = getPropertyImage(property)\n\n            return (\n              <Card key={property.id} className=\"overflow-hidden hover:shadow-2xl transition-all duration-300\">\n                {/* Image Section */}\n                <div className=\"relative h-48 bg-gradient-to-br from-teal-100 to-teal-200 overflow-hidden\">\n                  {imageUrl ? (\n                    <Image\n                      src={getImageUrl(imageUrl)}\n                      alt={property.title}\n                      fill\n                      className=\"object-cover\"\n                      sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\"\n                    />\n                  ) : (\n                    <div className=\"w-full h-full flex items-center justify-center\">\n                      <MapPin className=\"w-16 h-16 text-teal-300\" />\n                    </div>\n                  )}\n                  <div className=\"absolute top-4 right-4\">\n                    {getStatusBadge(property.status)}\n                  </div>\n                  <div className=\"absolute bottom-4 left-4 bg-white/95 backdrop-blur-sm rounded-xl px-4 py-2 shadow-lg\">\n                    <div className=\"flex flex-col gap-1\">\n                      <div className=\"flex items-baseline gap-1\">\n                        <span className=\"text-xl font-bold text-teal-600\">\n                          {property.dailyPrice?.toFixed(4) || property.price?.toFixed(4) || \"N/A\"}\n                        </span>\n                        <span className=\"text-sm font-semibold text-gray-600\">MAD/day</span>\n                      </div>\n                      {property.depositAmount && property.depositAmount > 0 && (\n                        <div className=\"flex items-baseline gap-1\">\n                          <span className=\"text-sm font-semibold text-orange-600\">\n                            {property.depositAmount.toFixed(4)}\n                          </span>\n                          <span className=\"text-xs text-gray-500\">MAD deposit</span>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n\n                {/* Content Section */}\n                <div className=\"p-6\">\n                  <h3 className=\"text-lg font-bold text-gray-900 mb-2 line-clamp-1\">\n                    {property.title}\n                  </h3>\n                  {property.address && (\n                    <div className=\"flex items-center text-gray-600 text-sm mb-4\">\n                      <MapPin className=\"w-4 h-4 mr-1.5 text-teal-600 flex-shrink-0\" />\n                      <span className=\"line-clamp-1\">\n                        {property.address.city}, {property.address.country}\n                      </span>\n                    </div>\n                  )}\n\n                  <div className=\"space-y-2 mb-4 pb-4 border-b border-gray-200\">\n                    <div className=\"flex items-center justify-between text-sm\">\n                      <span className=\"text-gray-600\">Price</span>\n                      <span className=\"font-semibold text-teal-600\">\n                        {property.dailyPrice?.toFixed(0) || property.price?.toFixed(0) || \"N/A\"} MAD/day\n                      </span>\n                    </div>\n                    {property.depositAmount && property.depositAmount > 0 && (\n                      <div className=\"flex items-center justify-between text-sm\">\n                        <span className=\"text-gray-600\">Deposit</span>\n                        <span className=\"font-semibold text-orange-600\">\n                          {property.depositAmount.toFixed(0)} MAD\n                        </span>\n                      </div>\n                    )}\n                    <div className=\"flex items-center justify-between text-sm\">\n                      <span className=\"text-gray-600\">Capacity</span>\n                      <span className=\"font-semibold text-gray-900\">{property.capacity} guests</span>\n                    </div>\n                    {property.numberOfBedrooms && (\n                      <div className=\"flex items-center justify-between text-sm\">\n                        <span className=\"text-gray-600\">Bedrooms</span>\n                        <span className=\"font-semibold text-gray-900\">{property.numberOfBedrooms}</span>\n                      </div>\n                    )}\n                    {property.numberOfBathrooms && (\n                      <div className=\"flex items-center justify-between text-sm\">\n                        <span className=\"text-gray-600\">Bathrooms</span>\n                        <span className=\"font-semibold text-gray-900\">{property.numberOfBathrooms}</span>\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Actions */}\n                  <div className=\"flex flex-wrap gap-2\">\n                    {getActionButtons(property)}\n                  </div>\n                </div>\n              </Card>\n            )\n          })}\n        </div>\n      )}\n\n      {/* Add Property Modal */}\n      <Dialog open={addModalOpen} onOpenChange={setAddModalOpen}>\n        <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle className=\"text-2xl font-bold text-gray-900\">Add New Property</DialogTitle>\n          </DialogHeader>\n          <AddPropertyForm\n            isEditMode={false}\n            onSuccess={() => {\n              setAddModalOpen(false)\n              fetchProperties()\n              if (onUpdate) onUpdate()\n            }}\n          />\n        </DialogContent>\n      </Dialog>\n\n      {/* Edit Modal */}\n      {editModalOpen && editingPropertyId && (\n        <EditPropertyModal\n          propertyId={editingPropertyId}\n          onClose={() => {\n            setEditModalOpen(false)\n            setEditingPropertyId(null)\n          }}\n          onSuccess={handleEditSuccess}\n        />\n      )}\n\n      {/* View Modal */}\n      <Dialog open={viewModalOpen} onOpenChange={setViewModalOpen}>\n        <DialogContent className=\"max-w-5xl max-h-[90vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle className=\"text-2xl font-bold text-gray-900\">Property Details</DialogTitle>\n          </DialogHeader>\n\n          {viewingProperty && (\n            <div className=\"space-y-6 mt-4\">\n              {/* Image Gallery Grid */}\n              {(() => {\n                const getAllImages = (property: Property) => {\n                  if (!property.propertyImages || property.propertyImages.length === 0) {\n                    return []\n                  }\n                  const coverImage = property.propertyImages.find((img) => img.cover)\n                  const otherImages = property.propertyImages.filter((img) => !img.cover)\n                  if (coverImage) {\n                    return [coverImage, ...otherImages]\n                  }\n                  return property.propertyImages\n                }\n\n                const images = getAllImages(viewingProperty)\n                const mainImage = images[0]\n                const otherImages = images.slice(1, 5)\n\n                return images.length > 0 ? (\n                  <div className=\"grid grid-cols-4 grid-rows-2 gap-3 h-[400px]\">\n                    {/* Main Large Image */}\n                    <div className=\"col-span-2 row-span-2 relative rounded-l-2xl overflow-hidden bg-gray-200\">\n                      <Image\n                        src={getImageUrl(mainImage?.url)}\n                        alt={viewingProperty.title}\n                        fill\n                        className=\"object-cover hover:scale-105 transition-transform duration-300\"\n                        sizes=\"(max-width: 768px) 100vw, 50vw\"\n                      />\n                    </div>\n\n                    {/* Grid of 4 smaller images */}\n                    {otherImages.length > 0 ? (\n                      otherImages.map((image, i) => (\n                        <div\n                          key={image.id || i}\n                          className={`relative overflow-hidden bg-gray-200 ${i === 1 || i === 3 ? \"rounded-r-2xl\" : \"\"}`}\n                        >\n                          <Image\n                            src={getImageUrl(image.url)}\n                            alt={`${viewingProperty.title} ${i + 2}`}\n                            fill\n                            className=\"object-cover hover:scale-105 transition-transform duration-300\"\n                            sizes=\"(max-width: 768px) 50vw, 25vw\"\n                          />\n                        </div>\n                      ))\n                    ) : (\n                      // Fill remaining slots with placeholder if needed\n                      Array.from({ length: Math.min(4, 4 - otherImages.length) }).map((_, i) => (\n                        <div\n                          key={`placeholder-${i}`}\n                          className=\"relative overflow-hidden bg-gray-200 flex items-center justify-center\"\n                        >\n                          <span className=\"text-gray-400 text-sm\">No image</span>\n                        </div>\n                      ))\n                    )}\n                  </div>\n                ) : (\n                  <div className=\"relative w-full h-[400px] rounded-2xl overflow-hidden bg-gray-200 flex items-center justify-center\">\n                    <div className=\"text-center\">\n                      <MapPin className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n                      <p className=\"text-gray-500\">No images available</p>\n                    </div>\n                  </div>\n                )\n              })()}\n\n              {/* Property Info Bar */}\n              <div className=\"flex items-center gap-4 text-sm text-gray-600 pb-6 border-b flex-wrap\">\n                <span className=\"flex items-center gap-1\">\n                  <Users className=\"w-4 h-4 text-teal-600\" />\n                  {viewingProperty.capacity} guest{viewingProperty.capacity > 1 ? \"s\" : \"\"}\n                </span>\n                {viewingProperty.numberOfBedrooms && (\n                  <>\n                    <span>¬∑</span>\n                    <span className=\"flex items-center gap-1\">\n                      <Bed className=\"w-4 h-4 text-teal-600\" />\n                      {viewingProperty.numberOfBedrooms} bedroom{viewingProperty.numberOfBedrooms > 1 ? \"s\" : \"\"}\n                    </span>\n                  </>\n                )}\n                {viewingProperty.numberOfBeds && (\n                  <>\n                    <span>¬∑</span>\n                    <span>{viewingProperty.numberOfBeds} bed{viewingProperty.numberOfBeds > 1 ? \"s\" : \"\"}</span>\n                  </>\n                )}\n                {viewingProperty.numberOfBathrooms && (\n                  <>\n                    <span>¬∑</span>\n                    <span className=\"flex items-center gap-1\">\n                      <Bath className=\"w-4 h-4 text-teal-600\" />\n                      {viewingProperty.numberOfBathrooms} bath{viewingProperty.numberOfBathrooms > 1 ? \"s\" : \"\"}\n                    </span>\n                  </>\n                )}\n                <div className=\"ml-auto flex items-center gap-2\">\n                  <Star className=\"w-4 h-4 fill-yellow-400 text-yellow-400\" />\n                  <span className=\"text-lg font-semibold\">4.8</span>\n                  <span className=\"text-gray-500\">¬∑ 4 reviews</span>\n                </div>\n              </div>\n\n              {/* Price */}\n              <div className=\"pb-6 border-b\">\n                <div className=\"flex items-baseline gap-2\">\n                  <span className=\"text-3xl font-bold text-gray-900\">\n                    {viewingProperty.dailyPrice ? `${viewingProperty.dailyPrice}` : viewingProperty.price ? `${viewingProperty.price}` : \"N/A\"}\n                  </span>\n                  <span className=\"text-lg font-semibold text-teal-600\">MAD</span>\n                  <span className=\"text-sm text-gray-500\">/day</span>\n                </div>\n                <div className=\"mt-4 space-y-3\">\n                  <p className=\"text-sm font-semibold text-gray-800\">\n                    AI Price Suggestion (per night)\n                  </p>\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3 items-end\">\n                    <div className=\"space-y-1\">\n                      <label className=\"block text-xs font-medium text-gray-600\">\n                        Check-in date\n                      </label>\n                      <input\n                        type=\"date\"\n                        value={aiCheckInDate}\n                        onChange={(e) => setAiCheckInDate(e.target.value)}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-600\"\n                      />\n                    </div>\n                    <div className=\"space-y-1\">\n                      <label className=\"block text-xs font-medium text-gray-600\">\n                        Check-out date\n                      </label>\n                      <input\n                        type=\"date\"\n                        value={aiCheckOutDate}\n                        onChange={(e) => setAiCheckOutDate(e.target.value)}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-teal-600\"\n                      />\n                    </div>\n                    <button\n                      type=\"button\"\n                      onClick={handleGetAiPriceSuggestion}\n                      disabled={aiLoading}\n                      className=\"w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-teal-600 text-white text-sm font-semibold hover:bg-teal-700 disabled:opacity-60 disabled:cursor-not-allowed\"\n                    >\n                      {aiLoading ? (\n                        <>\n                          <Loader2 className=\"w-4 h-4 animate-spin\" />\n                          Getting suggestion...\n                        </>\n                      ) : (\n                        <>\n                          <Star className=\"w-4 h-4\" />\n                          Get AI suggestion\n                        </>\n                      )}\n                    </button>\n                  </div>\n                  {aiError && (\n                    <p className=\"text-xs text-red-600\">{aiError}</p>\n                  )}\n                  {aiResult && (\n                    <div className=\"mt-2 rounded-lg border border-teal-200 bg-teal-50 p-3 text-xs text-gray-800 space-y-1\">\n                      <div className=\"flex items-baseline gap-1\">\n                        <span className=\"font-semibold text-teal-700\">\n                          {aiResult.predictedPriceMad.toFixed(0)} MAD\n                        </span>\n                        <span className=\"text-gray-500\">‚âà {aiResult.predictedPriceUsd.toFixed(2)} USD / night</span>\n                      </div>\n                      <p className=\"text-gray-600\">\n                        Confidence interval: {aiResult.confidenceIntervalLower.toFixed(0)} ‚Äì{\" \"}\n                        {aiResult.confidenceIntervalUpper.toFixed(0)} MAD\n                      </p>\n                      {typeof aiResult.currentPriceMad === \"number\" && (\n                        <p className=\"text-gray-600\">\n                          Current price (platform): {aiResult.currentPriceMad.toFixed(0)} MAD{\" \"}\n                          {typeof aiResult.priceDifferencePercent === \"number\" && (\n                            <span className=\"ml-1\">\n                              ({aiResult.priceDifferencePercent.toFixed(2)}%)\n                            </span>\n                          )}\n                        </p>\n                      )}\n                      {aiResult.recommendation && (\n                        <p className=\"font-semibold text-teal-800\">\n                          Recommendation: {aiResult.recommendation}\n                        </p>\n                      )}\n                      <p className=\"text-gray-500\">\n                        Model {aiResult.modelVersion} ‚Ä¢ {aiResult.city}, {aiResult.season}\n                      </p>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Location */}\n              {viewingProperty.address && (\n                <div className=\"pb-6 border-b\">\n                  <div className=\"flex items-center gap-2 text-gray-700\">\n                    <MapPin className=\"w-5 h-5 text-teal-600\" />\n                    <div>\n                      <p className=\"font-semibold\">{viewingProperty.address.city}, {viewingProperty.address.country}</p>\n                      {viewingProperty.address.address && (\n                        <p className=\"text-sm text-gray-600\">{viewingProperty.address.address}</p>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Description */}\n              <div className=\"pb-6 border-b\">\n                <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">Description</h2>\n                <div className={`text-gray-700 leading-relaxed ${!showAllDescription ? 'line-clamp-6' : ''}`}>\n                  <p className=\"whitespace-pre-line\">{viewingProperty.description}</p>\n                </div>\n                {viewingProperty.description && viewingProperty.description.length > 200 && (\n                  <button\n                    onClick={() => setShowAllDescription(!showAllDescription)}\n                    className=\"mt-4 text-teal-600 font-semibold underline hover:text-teal-700\"\n                  >\n                    {showAllDescription ? 'Show less' : 'Show more'}\n                  </button>\n                )}\n              </div>\n\n              {/* Amenities */}\n              {viewingProperty.amenities && viewingProperty.amenities.length > 0 && (\n                <div className=\"pb-6 border-b\">\n                  <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">What this place offers</h2>\n                  <div className=\"grid grid-cols-2 gap-y-4\">\n                    {(showAllAmenities ? viewingProperty.amenities : viewingProperty.amenities.slice(0, 8)).map((amenity) => (\n                      <div key={amenity.id} className=\"flex items-center gap-3 text-gray-700\">\n                        <Wifi className=\"w-5 h-5 text-teal-600\" />\n                        <span>{amenity.name}</span>\n                      </div>\n                    ))}\n                  </div>\n                  {viewingProperty.amenities.length > 8 && (\n                    <button\n                      onClick={() => setShowAllAmenities(!showAllAmenities)}\n                      className=\"mt-4 px-6 py-2 border border-gray-900 rounded-lg hover:bg-gray-50 transition-colors\"\n                    >\n                      {showAllAmenities ? 'Show less amenities' : `Show all ${viewingProperty.amenities.length} amenities`}\n                    </button>\n                  )}\n                </div>\n              )}\n\n              {/* Property Type */}\n              {viewingProperty.type && (\n                <div className=\"pb-6 border-b\">\n                  <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">Property Type</h2>\n                  <p className=\"text-gray-700\">{viewingProperty.type.type}</p>\n                </div>\n              )}\n\n              {/* Status */}\n              <div className=\"pb-6\">\n                <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">Status</h2>\n                <div>{getStatusBadge(viewingProperty.status)}</div>\n              </div>\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n    </div>\n  )\n}\n\n","\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { apiClient } from \"@/lib/services/api\"\nimport { Card } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Loader2, Calendar, Clock, MapPin, Eye, CheckCircle, Phone } from \"lucide-react\"\nimport Image from \"next/image\"\nimport type { Property } from \"@/lib/types\"\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\n\ninterface Booking {\n  id: number\n  userId: number\n  propertyId: number | string\n  checkInDate: string\n  checkOutDate: string\n  totalPrice: number\n  status: string\n  longStayDiscountPercent?: number\n}\n\ninterface BookingWithProperty extends Booking {\n  property?: Property\n}\n\ninterface PaidBookingsProps {\n  ownerId: string | number\n}\n\nexport function PaidBookings({ ownerId }: PaidBookingsProps) {\n  const [bookings, setBookings] = useState<BookingWithProperty[]>([])\n  const [isLoading, setIsLoading] = useState(true)\n  const [error, setError] = useState(\"\")\n  const [viewModalOpen, setViewModalOpen] = useState(false)\n  const [viewingBooking, setViewingBooking] = useState<BookingWithProperty | null>(null)\n  const [tenantPhoneNumbers, setTenantPhoneNumbers] = useState<{ [key: number]: string | null }>({})\n  const [loadingTenantPhones, setLoadingTenantPhones] = useState<{ [key: number]: boolean }>({})\n\n  useEffect(() => {\n    fetchBookings()\n  }, [ownerId])\n\n  const fetchBookings = async () => {\n    try {\n      setIsLoading(true)\n      setError(\"\")\n      const data = await apiClient.bookings.getConfirmedBookingsByOwner(parseInt(String(ownerId)))\n\n      // Fetch property details for each booking\n      const bookingsWithProperties = await Promise.all(\n        data.map(async (booking: Booking) => {\n          try {\n            const property = await apiClient.properties.getById(String(booking.propertyId))\n            return { ...booking, property }\n          } catch {\n            return { ...booking, property: undefined }\n          }\n        })\n      )\n\n      setBookings(bookingsWithProperties)\n\n      // Fetch tenant phone numbers for CONFIRMED, TENANT_CHECKED_OUT, and COMPLETED bookings\n      const bookingsWithPhone = bookingsWithProperties.filter((b) =>\n        b.status === \"CONFIRMED\" ||\n        b.status === \"TENANT_CHECKED_OUT\" ||\n        b.status === \"COMPLETED\"\n      )\n      if (bookingsWithPhone.length > 0) {\n        await fetchTenantPhoneNumbers(bookingsWithPhone)\n      }\n    } catch (err: any) {\n      setError(err.message || \"Failed to load paid bookings\")\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const fetchTenantPhoneNumbers = async (bookings: BookingWithProperty[]) => {\n    try {\n      const phoneNumbersMap: { [key: number]: string | null } = {}\n\n      await Promise.all(\n        bookings.map(async (booking) => {\n          try {\n            setLoadingTenantPhones((prev) => ({ ...prev, [booking.id]: true }))\n\n            // Get tenant info by userId\n            const tenantId = booking.userId\n            try {\n              const tenantInfo = await apiClient.users.getById(tenantId)\n              if (tenantInfo && tenantInfo.phoneNumber) {\n                const phoneStr = String(tenantInfo.phoneNumber)\n                phoneNumbersMap[booking.id] = phoneStr\n              } else {\n                phoneNumbersMap[booking.id] = null\n              }\n            } catch (err) {\n              phoneNumbersMap[booking.id] = null\n            }\n          } catch (err) {\n            phoneNumbersMap[booking.id] = null\n          } finally {\n            setLoadingTenantPhones((prev) => ({ ...prev, [booking.id]: false }))\n          }\n        })\n      )\n\n      setTenantPhoneNumbers((prev) => ({ ...prev, ...phoneNumbersMap }))\n    } catch (err) {\n    }\n  }\n\n  const formatDate = (dateString: string) => {\n    if (!dateString) return \"N/A\"\n    try {\n      const date = new Date(dateString)\n      return date.toLocaleDateString(\"en-US\", { year: \"numeric\", month: \"short\", day: \"numeric\" })\n    } catch {\n      return dateString\n    }\n  }\n\n  const calculateNights = (checkIn: string, checkOut: string) => {\n    if (!checkIn || !checkOut) return 0\n    try {\n      const checkInDate = new Date(checkIn)\n      const checkOutDate = new Date(checkOut)\n      const diffTime = Math.abs(checkOutDate.getTime() - checkInDate.getTime())\n      return Math.ceil(diffTime / (1000 * 60 * 60 * 24))\n    } catch {\n      return 0\n    }\n  }\n\n  const getPropertyImage = (property?: Property) => {\n    if (!property?.propertyImages || property.propertyImages.length === 0) {\n      return null\n    }\n    const coverImage = property.propertyImages.find((img) => img.cover)\n    return coverImage ? coverImage.url : property.propertyImages[0].url\n  }\n\n  const getImageUrl = (url: string | null | undefined) => {\n    if (!url) return \"/houses_placeholder.png\"\n    if (url.startsWith(\"http://\") || url.startsWith(\"https://\")) {\n      return url\n    }\n    if (url.startsWith(\"/uploads\")) {\n      return `http://localhost:8081${url}`\n    }\n    return url\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <Loader2 className=\"h-12 w-12 animate-spin text-teal-600\" />\n        <p className=\"ml-4 text-gray-600\">Loading paid bookings...</p>\n      </div>\n    )\n  }\n\n  if (error) {\n    return (\n      <Card className=\"p-6 border-red-200 bg-red-50\">\n        <p className=\"text-red-700\">{error}</p>\n        <Button onClick={fetchBookings} variant=\"outline\" className=\"mt-4\">\n          Try Again\n        </Button>\n      </Card>\n    )\n  }\n\n  if (bookings.length === 0) {\n    return (\n      <Card className=\"p-12 text-center\">\n        <CheckCircle className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n        <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">No paid bookings</h2>\n        <p className=\"text-gray-600\">You don't have any confirmed paid bookings.</p>\n      </Card>\n    )\n  }\n\n  return (\n    <>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {bookings.map((booking) => {\n          const imageUrl = getPropertyImage(booking.property)\n          const nights = calculateNights(booking.checkInDate, booking.checkOutDate)\n\n          return (\n            <Card key={booking.id} className=\"overflow-hidden hover:shadow-2xl transition-all duration-300\">\n              {/* Image Section */}\n              <div className=\"relative h-48 bg-gradient-to-br from-green-100 to-green-200 overflow-hidden\">\n                {imageUrl ? (\n                  <Image\n                    src={getImageUrl(imageUrl)}\n                    alt={booking.property?.title || \"Property\"}\n                    fill\n                    className=\"object-cover\"\n                    sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\"\n                  />\n                ) : (\n                  <div className=\"w-full h-full flex items-center justify-center\">\n                    <MapPin className=\"w-16 h-16 text-green-300\" />\n                  </div>\n                )}\n                <div className=\"absolute top-4 right-4\">\n                  <Badge className=\"bg-green-100 text-green-800 border-green-200\">Paid</Badge>\n                </div>\n                <div className=\"absolute bottom-4 left-4 bg-white/95 backdrop-blur-sm rounded-xl px-4 py-2 shadow-lg\">\n                  <div className=\"flex items-baseline gap-1\">\n                    <span className=\"text-xl font-bold text-green-600\">\n                      {booking.totalPrice?.toFixed(4) || \"N/A\"}\n                    </span>\n                    <span className=\"text-sm font-semibold text-gray-600\">MAD</span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Content Section */}\n              <div className=\"p-6\">\n                <h3 className=\"text-lg font-bold text-gray-900 mb-2 line-clamp-1\">\n                  {booking.property?.title || `Property ${booking.propertyId}`}\n                </h3>\n                {booking.property?.address && (\n                  <div className=\"flex items-center text-gray-600 text-sm mb-4\">\n                    <MapPin className=\"w-4 h-4 mr-1.5 text-teal-600 flex-shrink-0\" />\n                    <span className=\"line-clamp-1\">\n                      {booking.property.address.city}, {booking.property.address.country}\n                    </span>\n                  </div>\n                )}\n\n                <div className=\"space-y-2 mb-4 pb-4 border-b border-gray-200\">\n                  <div className=\"flex items-center justify-between text-sm\">\n                    <div className=\"flex items-center text-gray-600\">\n                      <Calendar className=\"w-4 h-4 mr-2 text-teal-600\" />\n                      <span>Check-in</span>\n                    </div>\n                    <span className=\"font-semibold text-gray-900\">{formatDate(booking.checkInDate)}</span>\n                  </div>\n                  <div className=\"flex items-center justify-between text-sm\">\n                    <div className=\"flex items-center text-gray-600\">\n                      <Calendar className=\"w-4 h-4 mr-2 text-teal-600\" />\n                      <span>Check-out</span>\n                    </div>\n                    <span className=\"font-semibold text-gray-900\">{formatDate(booking.checkOutDate)}</span>\n                  </div>\n                  <div className=\"flex items-center justify-between text-sm\">\n                    <div className=\"flex items-center text-gray-600\">\n                      <Clock className=\"w-4 h-4 mr-2 text-teal-600\" />\n                      <span>Duration</span>\n                    </div>\n                    <span className=\"font-semibold text-gray-900\">{nights} {nights === 1 ? \"night\" : \"nights\"}</span>\n                  </div>\n                  {/* Tenant Phone Number - Show for CONFIRMED, TENANT_CHECKED_OUT, and COMPLETED bookings */}\n                  {(booking.status === \"CONFIRMED\" ||\n                    booking.status === \"TENANT_CHECKED_OUT\" ||\n                    booking.status === \"COMPLETED\") && (\n                      <div className=\"flex items-center justify-between text-sm pt-2 border-t border-gray-200\">\n                        <div className=\"flex items-center text-gray-600\">\n                          <Phone className=\"w-4 h-4 mr-2 text-teal-600\" />\n                          <span>Tenant Phone</span>\n                        </div>\n                        <span className=\"font-semibold text-gray-900\">\n                          {loadingTenantPhones[booking.id] ? (\n                            <Loader2 className=\"w-4 h-4 animate-spin inline\" />\n                          ) : tenantPhoneNumbers[booking.id] ? (\n                            tenantPhoneNumbers[booking.id]\n                          ) : (\n                            \"N/A\"\n                          )}\n                        </span>\n                      </div>\n                    )}\n                </div>\n\n                {/* Actions */}\n                <div className=\"flex flex-col gap-2\">\n                  <Button\n                    onClick={() => {\n                      setViewingBooking(booking)\n                      setViewModalOpen(true)\n                    }}\n                    variant=\"outline\"\n                    className=\"w-full\"\n                  >\n                    <Eye className=\"w-4 h-4 mr-2\" />\n                    View Details\n                  </Button>\n                </div>\n              </div>\n            </Card>\n          )\n        })}\n      </div>\n\n      {/* View Modal */}\n      <Dialog open={viewModalOpen} onOpenChange={setViewModalOpen}>\n        <DialogContent className=\"max-w-3xl max-h-[90vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle className=\"text-2xl font-bold text-gray-900\">Booking Details</DialogTitle>\n          </DialogHeader>\n\n          {viewingBooking && (\n            <div className=\"space-y-6 mt-4\">\n              {/* Property Image */}\n              {viewingBooking.property && getPropertyImage(viewingBooking.property) && (\n                <div className=\"relative h-48 bg-gradient-to-br from-green-100 to-green-200 rounded-lg overflow-hidden\">\n                  <Image\n                    src={getImageUrl(getPropertyImage(viewingBooking.property))}\n                    alt={viewingBooking.property.title || \"Property\"}\n                    fill\n                    className=\"object-cover\"\n                    sizes=\"(max-width: 768px) 100vw, 80vw\"\n                  />\n                </div>\n              )}\n\n              {/* Property Info */}\n              {viewingBooking.property && (\n                <div className=\"p-4 bg-gray-50 rounded-lg\">\n                  <h3 className=\"text-xl font-bold text-gray-900 mb-2\">{viewingBooking.property.title}</h3>\n                  {viewingBooking.property.address && (\n                    <div className=\"flex items-center text-gray-600\">\n                      <MapPin className=\"w-4 h-4 mr-2 text-teal-600\" />\n                      <span>{viewingBooking.property.address.city}, {viewingBooking.property.address.country}</span>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* Booking Details */}\n              <div className=\"space-y-4\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div className=\"p-4 bg-gray-50 rounded-lg\">\n                    <p className=\"text-sm text-gray-600 mb-1\">Check-in</p>\n                    <p className=\"text-base font-semibold text-gray-900\">{formatDate(viewingBooking.checkInDate)}</p>\n                  </div>\n                  <div className=\"p-4 bg-gray-50 rounded-lg\">\n                    <p className=\"text-sm text-gray-600 mb-1\">Check-out</p>\n                    <p className=\"text-base font-semibold text-gray-900\">{formatDate(viewingBooking.checkOutDate)}</p>\n                  </div>\n                </div>\n                <div className=\"p-4 bg-teal-50 rounded-lg\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-sm font-medium text-gray-700\">Duration</span>\n                    <span className=\"text-lg font-bold text-teal-700\">\n                      {calculateNights(viewingBooking.checkInDate, viewingBooking.checkOutDate)} {calculateNights(viewingBooking.checkInDate, viewingBooking.checkOutDate) === 1 ? \"night\" : \"nights\"}\n                    </span>\n                  </div>\n                </div>\n                <div className=\"p-6 bg-gradient-to-br from-green-50 to-green-100 rounded-lg border-2 border-green-200\">\n                  <div className=\"flex items-baseline justify-between\">\n                    <span className=\"text-sm font-medium text-gray-700\">Total Price</span>\n                    <span className=\"text-xl font-bold text-green-700\">\n                      {viewingBooking.totalPrice?.toFixed(0) || \"N/A\"} MAD\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n    </>\n  )\n}\n\n","\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { apiClient } from \"@/lib/services/api\"\nimport { Card } from \"@/components/ui/card\"\nimport { Loader2, Calendar as CalendarIcon, MapPin } from \"lucide-react\"\nimport type { Property } from \"@/lib/types\"\n\ninterface Booking {\n  id: number\n  userId: number\n  propertyId: number | string\n  checkInDate: string\n  checkOutDate: string\n  totalPrice: number\n  status: string\n}\n\ninterface BookingWithProperty extends Booking {\n  property?: Property\n}\n\ninterface CalendarProps {\n  ownerId: string | number\n}\n\nexport function Calendar({ ownerId }: CalendarProps) {\n  const [bookings, setBookings] = useState<BookingWithProperty[]>([])\n  const [isLoading, setIsLoading] = useState(true)\n  const [error, setError] = useState(\"\")\n  const [currentMonth, setCurrentMonth] = useState(new Date())\n\n  useEffect(() => {\n    fetchBookings()\n  }, [ownerId])\n\n  const fetchBookings = async () => {\n    try {\n      setIsLoading(true)\n      setError(\"\")\n      const data = await apiClient.bookings.getConfirmedBookingsByOwner(parseInt(String(ownerId)))\n      \n      // Fetch property details for each booking\n      const bookingsWithProperties = await Promise.all(\n        data.map(async (booking: Booking) => {\n          try {\n            const property = await apiClient.properties.getById(String(booking.propertyId))\n            return { ...booking, property }\n          } catch {\n            return { ...booking, property: undefined }\n          }\n        })\n      )\n      \n      setBookings(bookingsWithProperties)\n    } catch (err: any) {\n      setError(err.message || \"Failed to load calendar\")\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const formatDate = (dateString: string) => {\n    if (!dateString) return \"N/A\"\n    try {\n      const date = new Date(dateString)\n      return date.toLocaleDateString(\"en-US\", { year: \"numeric\", month: \"short\", day: \"numeric\" })\n    } catch {\n      return dateString\n    }\n  }\n\n  const getDaysInMonth = (date: Date) => {\n    const year = date.getFullYear()\n    const month = date.getMonth()\n    const firstDay = new Date(year, month, 1)\n    const lastDay = new Date(year, month + 1, 0)\n    const daysInMonth = lastDay.getDate()\n    const startingDayOfWeek = firstDay.getDay()\n    \n    return { daysInMonth, startingDayOfWeek, year, month }\n  }\n\n  const isDateInRange = (date: Date, checkIn: string, checkOut: string) => {\n    const checkInDate = new Date(checkIn)\n    const checkOutDate = new Date(checkOut)\n    checkInDate.setHours(0, 0, 0, 0)\n    checkOutDate.setHours(0, 0, 0, 0)\n    date.setHours(0, 0, 0, 0)\n    \n    return date >= checkInDate && date <= checkOutDate\n  }\n\n  const getBookingsForDate = (date: Date) => {\n    return bookings.filter(booking => \n      isDateInRange(date, booking.checkInDate, booking.checkOutDate)\n    )\n  }\n\n  const navigateMonth = (direction: \"prev\" | \"next\") => {\n    setCurrentMonth(prev => {\n      const newDate = new Date(prev)\n      if (direction === \"prev\") {\n        newDate.setMonth(prev.getMonth() - 1)\n      } else {\n        newDate.setMonth(prev.getMonth() + 1)\n      }\n      return newDate\n    })\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <Loader2 className=\"h-12 w-12 animate-spin text-teal-600\" />\n        <p className=\"ml-4 text-gray-600\">Loading calendar...</p>\n      </div>\n    )\n  }\n\n  if (error) {\n    return (\n      <Card className=\"p-6 border-red-200 bg-red-50\">\n        <p className=\"text-red-700\">{error}</p>\n      </Card>\n    )\n  }\n\n  const { daysInMonth, startingDayOfWeek, year, month } = getDaysInMonth(currentMonth)\n  const monthName = currentMonth.toLocaleDateString(\"en-US\", { month: \"long\", year: \"numeric\" })\n  const days = Array.from({ length: daysInMonth }, (_, i) => i + 1)\n  const weekDays = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"]\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Calendar Header */}\n      <div className=\"flex items-center justify-between\">\n        <button\n          onClick={() => navigateMonth(\"prev\")}\n          className=\"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors\"\n        >\n          ‚Üê Prev\n        </button>\n        <h3 className=\"text-xl font-bold text-gray-900\">{monthName}</h3>\n        <button\n          onClick={() => navigateMonth(\"next\")}\n          className=\"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors\"\n        >\n          Next ‚Üí\n        </button>\n      </div>\n\n      {/* Calendar Grid */}\n      <Card className=\"p-6\">\n        <div className=\"grid grid-cols-7 gap-2\">\n          {/* Week day headers */}\n          {weekDays.map(day => (\n            <div key={day} className=\"text-center font-semibold text-gray-700 py-2\">\n              {day}\n            </div>\n          ))}\n          \n          {/* Empty cells for days before month starts */}\n          {Array.from({ length: startingDayOfWeek }).map((_, i) => (\n            <div key={`empty-${i}`} className=\"aspect-square\" />\n          ))}\n          \n          {/* Days of the month */}\n          {days.map(day => {\n            const date = new Date(year, month, day)\n            const dayBookings = getBookingsForDate(date)\n            const isToday = \n              date.getDate() === new Date().getDate() &&\n              date.getMonth() === new Date().getMonth() &&\n              date.getFullYear() === new Date().getFullYear()\n            \n            return (\n              <div\n                key={day}\n                className={`aspect-square border rounded-lg p-2 ${\n                  isToday ? \"border-teal-500 bg-teal-50\" : \"border-gray-200\"\n                } ${dayBookings.length > 0 ? \"bg-green-50 border-green-300\" : \"\"}`}\n              >\n                <div className={`text-sm font-semibold mb-1 ${isToday ? \"text-teal-700\" : \"text-gray-900\"}`}>\n                  {day}\n                </div>\n                {dayBookings.length > 0 && (\n                  <div className=\"space-y-1\">\n                    {dayBookings.slice(0, 2).map(booking => (\n                      <div\n                        key={booking.id}\n                        className=\"text-xs bg-green-600 text-white px-1.5 py-0.5 rounded truncate\"\n                        title={booking.property?.title || `Booking ${booking.id}`}\n                      >\n                        {booking.property?.title || `B${booking.id}`}\n                      </div>\n                    ))}\n                    {dayBookings.length > 2 && (\n                      <div className=\"text-xs text-green-700 font-semibold\">\n                        +{dayBookings.length - 2} more\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </Card>\n\n      {/* Bookings List */}\n      {bookings.length > 0 && (\n        <Card className=\"p-6\">\n          <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Upcoming Bookings</h3>\n          <div className=\"space-y-3\">\n            {bookings\n              .sort((a, b) => new Date(a.checkInDate).getTime() - new Date(b.checkInDate).getTime())\n              .slice(0, 10)\n              .map(booking => (\n                <div\n                  key={booking.id}\n                  className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\"\n                >\n                  <div className=\"flex-1\">\n                    <div className=\"font-semibold text-gray-900\">\n                      {booking.property?.title || `Property ${booking.propertyId}`}\n                    </div>\n                    <div className=\"text-sm text-gray-600 flex items-center gap-4 mt-1\">\n                      <span className=\"flex items-center gap-1\">\n                        <CalendarIcon className=\"w-3 h-3\" />\n                        {formatDate(booking.checkInDate)} - {formatDate(booking.checkOutDate)}\n                      </span>\n                      {booking.property?.address && (\n                        <span className=\"flex items-center gap-1\">\n                          <MapPin className=\"w-3 h-3\" />\n                          {booking.property.address.city}\n                        </span>\n                      )}\n                    </div>\n                  </div>\n                  <div className=\"text-right\">\n                    <div className=\"font-bold text-teal-600\">\n                      {booking.totalPrice?.toFixed(0)} MAD\n                    </div>\n                  </div>\n                </div>\n              ))}\n          </div>\n        </Card>\n      )}\n\n      {bookings.length === 0 && (\n        <Card className=\"p-12 text-center\">\n          <CalendarIcon className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">No bookings</h2>\n          <p className=\"text-gray-600\">You don't have any confirmed bookings to display.</p>\n        </Card>\n      )}\n    </div>\n  )\n}\n\n","\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useAuth } from \"@/lib/hooks/use-auth\"\nimport { useRouter } from \"next/navigation\"\nimport { apiClient } from \"@/lib/services/api\"\nimport { HostNavBar } from \"@/components/host-dashboard/HostNavBar\"\nimport { StatsCards } from \"@/components/host-dashboard/StatsCards\"\nimport { CurrentBookings } from \"@/components/host-dashboard/CurrentBookings\"\nimport { CheckoutRequests } from \"@/components/host-dashboard/CheckoutRequests\"\nimport { PendingNegotiations } from \"@/components/host-dashboard/PendingNegotiations\"\nimport { CompletedBookings } from \"@/components/host-dashboard/CompletedBookings\"\nimport { PropertiesList } from \"@/components/host-dashboard/PropertiesList\"\nimport { PaidBookings } from \"@/components/host-dashboard/PaidBookings\"\nimport { Calendar } from \"@/components/host-dashboard/Calendar\"\nimport { HostReclamations } from \"@/components/host-dashboard/HostReclamations\"\nimport { Card } from \"@/components/ui/card\"\nimport { Loader2 } from \"lucide-react\"\n\nexport default function HostDashboardPage() {\n  const { user, isLoading: authLoading, token } = useAuth()\n  const router = useRouter()\n  const [activeSection, setActiveSection] = useState(\"paid\")\n  \n  // Stats data\n  const [propertiesCount, setPropertiesCount] = useState(0)\n  const [currentBookingsCount, setCurrentBookingsCount] = useState(0)\n  const [pendingNegotiationsCount, setPendingNegotiationsCount] = useState(0)\n  const [totalRevenue, setTotalRevenue] = useState(0)\n  const [isLoadingStats, setIsLoadingStats] = useState(true)\n\n  useEffect(() => {\n    if (!authLoading && !user) {\n      router.push(\"/login\")\n      return\n    }\n\n    // Check if user is a host or admin\n    if (!authLoading && user) {\n      const isAdmin = user.roles?.includes(\"ADMIN\")\n      const isPoster = user.roles?.includes(\"POSTER\")\n      const isHost = user.roles?.includes(\"HOST\")\n      \n      // Allow admin, poster, or host access\n      if (!isAdmin && !isPoster && !isHost) {\n        router.push(\"/\")\n        return\n      }\n    }\n\n    if (user && token) {\n      fetchStats()\n    }\n  }, [user, token, authLoading, router])\n\n  const fetchStats = async () => {\n    if (!user?.id) return\n\n    try {\n      setIsLoadingStats(true)\n      const userId = parseInt(String(user.id))\n\n      // Fetch all stats in parallel\n      const [properties, currentBookings, pendingNegotiations, allBookings] = await Promise.all([\n        apiClient.properties.getMyProperties().catch(() => []),\n        apiClient.bookings.getCurrentBookingsByOwner(userId).catch(() => []),\n        apiClient.bookings.getPendingNegotiations(userId).catch(() => []),\n        apiClient.bookings.getByOwnerId(userId).catch(() => []),\n      ])\n\n      setPropertiesCount(properties.length)\n      setCurrentBookingsCount(currentBookings.length)\n      setPendingNegotiationsCount(pendingNegotiations.length)\n\n      // Calculate total revenue from completed bookings\n      const completedBookings = allBookings.filter((b: any) => b.status === \"COMPLETED\")\n      const revenue = completedBookings.reduce((sum: number, booking: any) => {\n        return sum + (booking.totalPrice || 0)\n      }, 0)\n      setTotalRevenue(revenue)\n    } catch (error) {\n      console.error(\"Failed to fetch stats:\", error)\n    } finally {\n      setIsLoadingStats(false)\n    }\n  }\n\n  const handleSectionChange = (section: string) => {\n    setActiveSection(section)\n  }\n\n  const handleUpdate = () => {\n    // Refresh stats when bookings/properties are updated\n    fetchStats()\n  }\n\n  if (authLoading || isLoadingStats) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <Loader2 className=\"h-12 w-12 animate-spin text-teal-600 mx-auto mb-4\" />\n          <p className=\"text-gray-600\">Loading dashboard...</p>\n        </div>\n      </div>\n    )\n  }\n\n  if (!user) {\n    return null\n  }\n\n  const userId = user.id\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Header */}\n        <div className=\"mb-6\">\n        </div>\n\n        {/* Navigation Bar */}\n        <div className=\"relative z-10\">\n          <HostNavBar activeSection={activeSection} onSectionChange={handleSectionChange} />\n        </div>\n\n        {/* Content Section */}\n        <div className=\"mt-8\">\n          {activeSection === \"paid\" && (\n            <div>\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Paid Bookings</h2>\n              <PaidBookings ownerId={userId} />\n            </div>\n          )}\n\n          {activeSection === \"negotiations\" && (\n            <div>\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Pending Approvals</h2>\n              <PendingNegotiations ownerId={userId} onUpdate={handleUpdate} />\n            </div>\n          )}\n\n          {activeSection === \"current\" && (\n            <div>\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Current Bookings</h2>\n              <CurrentBookings ownerId={userId} onUpdate={handleUpdate} />\n            </div>\n          )}\n\n          {activeSection === \"checkout-requests\" && (\n            <div>\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Checkout Requests</h2>\n              <CheckoutRequests ownerId={userId} onUpdate={handleUpdate} />\n            </div>\n          )}\n\n          {activeSection === \"calendar\" && (\n            <div>\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Calendar</h2>\n              <Calendar ownerId={userId} />\n            </div>\n          )}\n\n          {(activeSection === \"my-properties\" || \n            activeSection === \"draft\" ||\n            activeSection === \"pending-approval\" ||\n            activeSection === \"approved\" ||\n            activeSection === \"disapproved\" ||\n            activeSection === \"suspended\" ||\n            activeSection === \"hidden\") && (\n            <div>\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">\n                {activeSection === \"my-properties\" && \"All Properties\"}\n                {activeSection === \"draft\" && \"Draft Properties\"}\n                {activeSection === \"pending-approval\" && \"Pending Approval\"}\n                {activeSection === \"approved\" && \"Approved Properties\"}\n                {activeSection === \"disapproved\" && \"Disapproved Properties\"}\n                {activeSection === \"suspended\" && \"Suspended Properties\"}\n                {activeSection === \"hidden\" && \"Hidden Properties\"}\n              </h2>\n              <PropertiesList \n                userId={userId} \n                onUpdate={handleUpdate}\n                filter={\n                  activeSection === \"draft\" ? \"draft\" :\n                  activeSection === \"pending-approval\" ? \"pending-approval\" :\n                  activeSection === \"approved\" ? \"approved\" :\n                  activeSection === \"disapproved\" ? \"disapproved\" :\n                  activeSection === \"suspended\" ? \"suspended\" :\n                  activeSection === \"hidden\" ? \"hidden\" :\n                  \"all\"\n                }\n              />\n            </div>\n          )}\n\n          {(activeSection === \"my-complaints\" || activeSection === \"complaints-against-me\") && (\n            <div>\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">\n                {activeSection === \"my-complaints\" && \"My Complaints\"}\n                {activeSection === \"complaints-against-me\" && \"Complaints Against Me\"}\n              </h2>\n              <HostReclamations\n                ownerId={userId}\n                filter={activeSection === \"my-complaints\" ? \"my-complaints\" : \"complaints-against-me\"}\n              />\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Send\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQuNTM2IDIxLjY4NmEuNS41IDAgMCAwIC45MzctLjAyNGw2LjUtMTlhLjQ5Ni40OTYgMCAwIDAtLjYzNS0uNjM1bC0xOSA2LjVhLjUuNSAwIDAgMC0uMDI0LjkzN2w3LjkzIDMuMThhMiAyIDAgMCAxIDEuMTEyIDEuMTF6IiAvPgogIDxwYXRoIGQ9Im0yMS44NTQgMi4xNDctMTAuOTQgMTAuOTM5IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/send\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Send = createLucideIcon('Send', [\n  [\n    'path',\n    {\n      d: 'M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z',\n      key: '1ffxy3',\n    },\n  ],\n  ['path', { d: 'm21.854 2.147-10.94 10.939', key: '12cjpa' }],\n]);\n\nexport default Send;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Handshake\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTEgMTcgMiAyYTEgMSAwIDEgMCAzLTMiIC8+CiAgPHBhdGggZD0ibTE0IDE0IDIuNSAyLjVhMSAxIDAgMSAwIDMtM2wtMy44OC0zLjg4YTMgMyAwIDAgMC00LjI0IDBsLS44OC44OGExIDEgMCAxIDEtMy0zbDIuODEtMi44MWE1Ljc5IDUuNzkgMCAwIDEgNy4wNi0uODdsLjQ3LjI4YTIgMiAwIDAgMCAxLjQyLjI1TDIxIDQiIC8+CiAgPHBhdGggZD0ibTIxIDMgMSAxMWgtMiIgLz4KICA8cGF0aCBkPSJNMyAzIDIgMTRsNi41IDYuNWExIDEgMCAxIDAgMy0zIiAvPgogIDxwYXRoIGQ9Ik0zIDRoOCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/handshake\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Handshake = createLucideIcon('Handshake', [\n  ['path', { d: 'm11 17 2 2a1 1 0 1 0 3-3', key: 'efffak' }],\n  [\n    'path',\n    {\n      d: 'm14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4',\n      key: '9pr0kb',\n    },\n  ],\n  ['path', { d: 'm21 3 1 11h-2', key: '1tisrp' }],\n  ['path', { d: 'M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3', key: '1uvwmv' }],\n  ['path', { d: 'M3 4h8', key: '1ep09j' }],\n]);\n\nexport default Handshake;\n"],"names":[],"mappings":"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","ignoreList":[9,10]}