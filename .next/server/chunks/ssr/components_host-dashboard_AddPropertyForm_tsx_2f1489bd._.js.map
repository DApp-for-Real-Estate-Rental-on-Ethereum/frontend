{"version":3,"sources":["../../../../components/host-dashboard/AddPropertyForm.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\nimport { useState, useEffect, useRef } from \"react\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport { useAuth } from \"@/lib/hooks/use-auth\"\r\nimport { apiClient } from \"@/lib/services/api\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { Upload, MapPin, Loader2 } from \"lucide-react\"\r\nimport { Switch } from \"@/components/ui/switch\"\r\n\r\ninterface AddPropertyFormProps {\r\n  onSuccess?: () => void\r\n  propertyId?: string\r\n  propertyData?: any\r\n  isEditMode?: boolean\r\n}\r\n\r\nexport function AddPropertyForm({ onSuccess, propertyId, propertyData, isEditMode = false }: AddPropertyFormProps) {\r\n  const router = useRouter()\r\n  const { user, isLoading: authLoading, token } = useAuth()\r\n  const [walletAddress, setWalletAddress] = useState<string | null>(null)\r\n  const [isCheckingWallet, setIsCheckingWallet] = useState(true)\r\n  \r\n  const [formData, setFormData] = useState({\r\n    title: \"\",\r\n    description: \"\",\r\n    typeId: \"1\",\r\n    dailyPrice: \"\",\r\n    depositAmount: \"\",\r\n    negotiationPercentage: \"\",\r\n    capacity: \"\",\r\n    numberOfBedrooms: \"\",\r\n    numberOfBathrooms: \"\",\r\n    numberOfBeds: \"\",\r\n    address: \"\",\r\n    city: \"\",\r\n    country: \"Morocco\",\r\n    zipCode: \"\",\r\n    latitude: \"\",\r\n    longitude: \"\",\r\n  })\r\n  const [isGettingLocation, setIsGettingLocation] = useState(false)\r\n  const [images, setImages] = useState<File[]>([])\r\n  const [imagePreview, setImagePreview] = useState<string[]>([])\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [error, setError] = useState(\"\")\r\n  const [discountPlans, setDiscountPlans] = useState({\r\n    fiveDays: false,\r\n    fifteenDays: false,\r\n    oneMonth: false,\r\n  })\r\n  \r\n  // Refs to prevent formData from being reset unnecessarily\r\n  const formDataInitializedRef = useRef(false)\r\n  const propertyDataIdRef = useRef<string | null>(null)\r\n\r\n  // Fetch wallet address from API if not in localStorage\r\n  useEffect(() => {\r\n    const fetchWalletAddress = async () => {\r\n      if (!user || !token || authLoading) {\r\n        setIsCheckingWallet(false)\r\n        return\r\n      }\r\n\r\n      if (user.walletAddress && user.walletAddress.trim() !== \"\") {\r\n        setWalletAddress(user.walletAddress)\r\n        setIsCheckingWallet(false)\r\n        return\r\n      }\r\n\r\n      try {\r\n        const userData = await apiClient.users.getMe()\r\n        const walletAddr = userData.walletAddress && userData.walletAddress.trim() !== \"\" ? userData.walletAddress : null\r\n        setWalletAddress(walletAddr)\r\n        \r\n        if (walletAddr) {\r\n          const updatedUser = { ...user, walletAddress: walletAddr }\r\n          localStorage.setItem(\"user\", JSON.stringify(updatedUser))\r\n          localStorage.setItem(process.env.NEXT_PUBLIC_USER_STORAGE_KEY || \"derent5_user_data\", JSON.stringify(updatedUser))\r\n          window.dispatchEvent(new Event(\"auth-state-changed\"))\r\n        }\r\n      } catch (error) {\r\n        setWalletAddress(null)\r\n      } finally {\r\n        setIsCheckingWallet(false)\r\n      }\r\n    }\r\n\r\n    fetchWalletAddress()\r\n  }, [user, token, authLoading])\r\n\r\n  // Load property data for edit mode - ONLY ONCE when propertyData is first loaded\r\n  useEffect(() => {\r\n    if (isEditMode && propertyData && propertyId) {\r\n      // Only initialize formData if this is a new property (different ID) or first time\r\n      const isNewProperty = propertyDataIdRef.current !== propertyId\r\n      \r\n      if (isNewProperty || !formDataInitializedRef.current) {\r\n        const initialFormData = {\r\n          title: propertyData.title || \"\",\r\n          description: propertyData.description || \"\",\r\n          typeId: propertyData.type?.id?.toString() || \"1\",\r\n          dailyPrice: propertyData.dailyPrice?.toString() || propertyData.price?.toString() || \"\",\r\n          depositAmount: propertyData.depositAmount?.toString() || \"\",\r\n          negotiationPercentage: propertyData.negotiationPercentage?.toString() || \"\",\r\n          capacity: propertyData.capacity?.toString() || \"\",\r\n          numberOfBedrooms: propertyData.numberOfBedrooms?.toString() || \"\",\r\n          numberOfBathrooms: propertyData.numberOfBathrooms?.toString() || \"\",\r\n          numberOfBeds: propertyData.numberOfBeds?.toString() || \"\",\r\n          address: propertyData.address?.address || propertyData.address?.street || \"\",\r\n          city: propertyData.address?.city || \"\",\r\n          country: propertyData.address?.country || \"Morocco\",\r\n          zipCode: propertyData.address?.zipCode?.toString() || \"\",\r\n          latitude: propertyData.address?.latitude?.toString() || \"\",\r\n          longitude: propertyData.address?.longitude?.toString() || \"\",\r\n        }\r\n        setFormData(initialFormData)\r\n        formDataInitializedRef.current = true\r\n        propertyDataIdRef.current = propertyId\r\n      }\r\n\r\n      // Set discount plans\r\n      if (propertyData.discountPlan) {\r\n        setDiscountPlans({\r\n          fiveDays: !!propertyData.discountPlan.fiveDays,\r\n          fifteenDays: !!propertyData.discountPlan.fifteenDays,\r\n          oneMonth: !!propertyData.discountPlan.oneMonth,\r\n        })\r\n      }\r\n\r\n      // Set image previews from existing images\r\n      if (propertyData.propertyImages && propertyData.propertyImages.length > 0) {\r\n        const previews = propertyData.propertyImages.map((img: any) => {\r\n          if (img.url.startsWith(\"http://\") || img.url.startsWith(\"https://\")) {\r\n            return img.url\r\n          }\r\n          if (img.url.startsWith(\"/uploads\")) {\r\n            return `http://localhost:8081${img.url}`\r\n          }\r\n          return img.url\r\n        })\r\n        setImagePreview(previews)\r\n      }\r\n    }\r\n  }, [isEditMode, propertyData, propertyId])\r\n  \r\n  // Reset initialization flag when propertyId changes\r\n  useEffect(() => {\r\n    if (propertyId && propertyDataIdRef.current !== propertyId) {\r\n      formDataInitializedRef.current = false\r\n      propertyDataIdRef.current = null\r\n    }\r\n  }, [propertyId])\r\n\r\n  if (authLoading || isCheckingWallet) {\r\n    return (\r\n      <Card className=\"p-12 text-center\">\r\n        <p className=\"text-gray-600\">Loading...</p>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  if (!user) {\r\n    return (\r\n      <Card className=\"p-12 text-center\">\r\n        <p className=\"text-gray-600 mb-4\">Please sign in to post a property.</p>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  const hasWallet = walletAddress || (user?.walletAddress && user.walletAddress.trim() !== \"\")\r\n  if (!hasWallet) {\r\n    return (\r\n      <Card className=\"p-12 text-center\">\r\n        <p className=\"text-gray-600 mb-4\">\r\n          You must connect your wallet before creating a property.\r\n          <br />\r\n          Please go to your profile and connect your wallet.\r\n        </p>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\r\n    const { name, value } = e.target\r\n    setFormData((prev) => {\r\n      const updated = { ...prev, [name]: value }\r\n      return updated\r\n    })\r\n  }\r\n\r\n  const handleImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const files = Array.from(e.target.files || [])\r\n    \r\n    // Combine with existing images (if any)\r\n    const totalFiles = [...images, ...files]\r\n    \r\n    // Validate total image count: must be between 5 and 10 (only for new properties)\r\n    if (!isEditMode && totalFiles.length > 10) {\r\n      setError(`You can upload at most 10 images total. Currently have ${images.length}, trying to add ${files.length}`)\r\n      e.target.value = \"\" // Reset input\r\n      return\r\n    }\r\n    \r\n    setImages(totalFiles)\r\n    setError(\"\") // Clear any previous errors\r\n\r\n    // Create previews for new files and combine with existing\r\n    const newPreviews = files.map((file) => {\r\n      return URL.createObjectURL(file)\r\n    })\r\n    setImagePreview([...imagePreview, ...newPreviews])\r\n    \r\n    // Reset input to allow selecting more files\r\n    e.target.value = \"\"\r\n  }\r\n\r\n  const removeImage = (index: number) => {\r\n    // Revoke object URL to prevent memory leak\r\n    URL.revokeObjectURL(imagePreview[index])\r\n    \r\n    const newImages = images.filter((_, i) => i !== index)\r\n    const newPreviews = imagePreview.filter((_, i) => i !== index)\r\n    \r\n    setImages(newImages)\r\n    setImagePreview(newPreviews)\r\n    setError(\"\") // Clear any errors when removing images\r\n  }\r\n\r\n  const getCurrentLocation = (retryCount = 0) => {\r\n    if (!navigator.geolocation) {\r\n      setError(\"Geolocation is not supported by your browser. Please enter address manually.\")\r\n      return\r\n    }\r\n\r\n    setIsGettingLocation(true)\r\n    setError(\"\")\r\n\r\n    // Try with high accuracy first, then fallback to lower accuracy\r\n    const options = retryCount === 0 \r\n      ? {\r\n          enableHighAccuracy: true,\r\n          timeout: 15000, // Increased timeout\r\n          maximumAge: 60000 // Accept cached position up to 1 minute old\r\n        }\r\n      : {\r\n          enableHighAccuracy: false, // Fallback: use less accurate but faster method\r\n          timeout: 10000,\r\n          maximumAge: 300000 // Accept cached position up to 5 minutes old\r\n        }\r\n\r\n    navigator.geolocation.getCurrentPosition(\r\n      async (position) => {\r\n        const { latitude, longitude, accuracy } = position.coords\r\n        \r\n        try {\r\n          // Use OpenStreetMap Nominatim API for reverse geocoding (free, no API key needed)\r\n          const response = await fetch(\r\n            `https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}&zoom=18&addressdetails=1`,\r\n            {\r\n              headers: {\r\n                'User-Agent': 'Derent Property App' // Required by Nominatim\r\n              }\r\n            }\r\n          )\r\n          \r\n          if (!response.ok) {\r\n            throw new Error(\"Failed to get address from coordinates\")\r\n          }\r\n\r\n          const data = await response.json()\r\n          const addressData = data.address || {}\r\n\r\n          // Update form data with location information\r\n          setFormData((prev) => ({\r\n            ...prev,\r\n            latitude: latitude.toString(),\r\n            longitude: longitude.toString(),\r\n            address: addressData.road || addressData.house_number \r\n              ? `${addressData.house_number || \"\"} ${addressData.road || \"\"}`.trim()\r\n              : prev.address,\r\n            city: addressData.city || addressData.town || addressData.village || addressData.municipality || addressData.county || prev.city,\r\n            country: addressData.country || prev.country,\r\n            zipCode: addressData.postcode || prev.zipCode,\r\n          }))\r\n\r\n          setError(\"\")\r\n        } catch (err) {\r\n          // Even if reverse geocoding fails, save the coordinates\r\n          setFormData((prev) => ({\r\n            ...prev,\r\n            latitude: latitude.toString(),\r\n            longitude: longitude.toString(),\r\n          }))\r\n          setError(\"Location detected but could not get address details. Please fill address manually.\")\r\n        } finally {\r\n          setIsGettingLocation(false)\r\n        }\r\n      },\r\n      (error) => {\r\n        setIsGettingLocation(false)\r\n        \r\n        if (retryCount === 0 && (error.code === error.POSITION_UNAVAILABLE || error.code === 2)) {\r\n          setTimeout(() => getCurrentLocation(1), 500)\r\n          return\r\n        }\r\n        \r\n        // Handle error codes (using constants or numeric values)\r\n        const errorCode = error.code\r\n        const errorMessage = error.message || \"\"\r\n        \r\n        if (errorCode === error.PERMISSION_DENIED || errorCode === 1) {\r\n          setError(\"Location access denied. Please enable location permissions in your browser settings and try again.\")\r\n        } else if (errorCode === error.POSITION_UNAVAILABLE || errorCode === 2) {\r\n          // Check if it's a desktop/laptop without GPS\r\n          const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)\r\n          const errorMsg = isMobile \r\n            ? \"Location unavailable. Please check if GPS is enabled on your device and try again, or enter address manually.\"\r\n            : \"Location unavailable. Desktop computers usually don't have GPS. Please enter address manually or use a mobile device.\"\r\n          setError(errorMsg)\r\n        } else if (errorCode === error.TIMEOUT || errorCode === 3) {\r\n          setError(\"Location request timed out. This may happen if GPS signal is weak. Please try again or enter address manually.\")\r\n        } else {\r\n          setError(`Unable to get location (Error code: ${errorCode}${errorMessage ? ` - ${errorMessage}` : \"\"}). Please enter address manually.`)\r\n        }\r\n      },\r\n      options\r\n    )\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setError(\"\")\r\n    setIsLoading(true)\r\n    \r\n    // Use formData state directly - it's always up-to-date via handleInputChange\r\n    // This ensures all fields are captured correctly\r\n    const formDataToUse = { ...formData }\r\n\r\n    try {\r\n      const currentWalletAddress = walletAddress || user?.walletAddress\r\n      if (!currentWalletAddress || currentWalletAddress.trim() === \"\") {\r\n        setError(\"You must connect your wallet before creating a property. Please go to your profile and connect your wallet.\")\r\n        setIsLoading(false)\r\n        return\r\n      }\r\n\r\n      // Validate image count: must be between 5 and 10 images (only for new properties)\r\n      if (!isEditMode) {\r\n        if (images.length === 0) {\r\n          setError(\"Please upload at least 5 images for your property.\")\r\n          setIsLoading(false)\r\n          return\r\n        }\r\n        if (images.length < 5) {\r\n          setError(`Please upload at least 5 images. Currently uploaded: ${images.length}`)\r\n          setIsLoading(false)\r\n          return\r\n        }\r\n        if (images.length > 10) {\r\n          setError(`You can upload at most 10 images. Currently uploaded: ${images.length}`)\r\n          setIsLoading(false)\r\n          return\r\n        }\r\n      }\r\n\r\n      if (isEditMode && images.length === 0 && (!propertyData?.propertyImages || propertyData.propertyImages.length === 0)) {\r\n        setError(\"Please upload at least one image for your property.\")\r\n        setIsLoading(false)\r\n        return\r\n      }\r\n\r\n      const dailyPrice = parseFloat(formDataToUse.dailyPrice)\r\n      const depositAmount = parseFloat(formDataToUse.depositAmount) || 0\r\n      const negotiationPercentage = parseFloat(formDataToUse.negotiationPercentage)\r\n      const capacity = Number.parseInt(formDataToUse.capacity)\r\n      const numberOfBedrooms = Number.parseInt(formDataToUse.numberOfBedrooms)\r\n      const numberOfBathrooms = Number.parseInt(formDataToUse.numberOfBathrooms)\r\n      const numberOfBeds = Number.parseInt(formDataToUse.numberOfBeds)\r\n\r\n      if (isNaN(dailyPrice) || dailyPrice <= 0) {\r\n        setError(\"Daily price must be a valid positive number.\")\r\n        setIsLoading(false)\r\n        return\r\n      }\r\n\r\n      if (isNaN(negotiationPercentage) || negotiationPercentage < 0 || negotiationPercentage > 100) {\r\n        setError(\"negotiation percentage must be between 0 and 100.\")\r\n        setIsLoading(false)\r\n        return\r\n      }\r\n\r\n      if (isNaN(capacity) || capacity < 1) {\r\n        setError(\"Capacity must be at least 1.\")\r\n        setIsLoading(false)\r\n        return\r\n      }\r\n\r\n      if (isNaN(numberOfBedrooms) || numberOfBedrooms < 1) {\r\n        setError(\"Number of bedrooms must be at least 1.\")\r\n        setIsLoading(false)\r\n        return\r\n      }\r\n\r\n      if (isNaN(numberOfBathrooms) || numberOfBathrooms < 1) {\r\n        setError(\"Number of bathrooms must be at least 1.\")\r\n        setIsLoading(false)\r\n        return\r\n      }\r\n\r\n      if (isNaN(numberOfBeds) || numberOfBeds < 1) {\r\n        setError(\"Number of beds must be at least 1.\")\r\n        setIsLoading(false)\r\n        return\r\n      }\r\n\r\n      if (isEditMode && propertyId) {\r\n        // Update mode - use update API\r\n        // Note: Backend UpdatePropertyRequest currently only supports: description, dailyPrice, capacity, amenities\r\n        // Backend requires amenities to be @NotNull, so we must send existing amenities\r\n        const existingAmenities = propertyData?.amenities || []\r\n        \r\n        // Ensure amenities have the correct structure (with id)\r\n        // Backend expects Set<Amenity> where each amenity has an id that exists in the database\r\n        const amenitiesToSend = existingAmenities\r\n          .filter((amenity: any) => {\r\n            const hasId = amenity && amenity.id\r\n            return hasId\r\n          })\r\n          .map((amenity: any) => ({\r\n            id: amenity.id,\r\n            name: amenity.name || amenity.amenityName || \"\",\r\n          }))\r\n        \r\n        // Ensure capacity is always provided (required by @NotNull)\r\n        if (!capacity || capacity < 1) {\r\n          setError(\"Capacity must be at least 1.\")\r\n          setIsLoading(false)\r\n          return\r\n        }\r\n\r\n        // Parse bedrooms, beds, and bathrooms (already parsed above, but keep for clarity)\r\n        // numberOfBedrooms, numberOfBeds, numberOfBathrooms already parsed above\r\n\r\n        // Validate bedrooms, beds, and bathrooms\r\n        if (isNaN(numberOfBedrooms) || numberOfBedrooms < 1) {\r\n          setError(\"Number of bedrooms must be at least 1.\")\r\n          setIsLoading(false)\r\n          return\r\n        }\r\n\r\n        if (isNaN(numberOfBeds) || numberOfBeds < 1) {\r\n          setError(\"Number of beds must be at least 1.\")\r\n          setIsLoading(false)\r\n          return\r\n        }\r\n\r\n        if (isNaN(numberOfBathrooms) || numberOfBathrooms < 1) {\r\n          setError(\"Number of bathrooms must be at least 1.\")\r\n          setIsLoading(false)\r\n          return\r\n        }\r\n\r\n        // Ensure amenities is never null - backend requires @NotNull\r\n        const finalAmenities = amenitiesToSend.length > 0 ? amenitiesToSend : (existingAmenities.length > 0 ? existingAmenities.map((a: any) => ({ id: a.id, name: a.name || a.amenityName || \"\" })) : [])\r\n        \r\n        const updateRequest: any = {\r\n          title: formDataToUse.title.trim(),\r\n          description: formDataToUse.description.trim(),\r\n          dailyPrice: dailyPrice,\r\n          capacity: capacity,\r\n          numberOfBedrooms: numberOfBedrooms,\r\n          numberOfBeds: numberOfBeds,\r\n          numberOfBathrooms: numberOfBathrooms,\r\n          typeId: Number.parseInt(formDataToUse.typeId),\r\n          address: formDataToUse.address.trim(),\r\n          city: formDataToUse.city.trim(),\r\n          country: formDataToUse.country.trim(),\r\n          zipCode: formDataToUse.zipCode ? formDataToUse.zipCode.trim() : null,\r\n          // Backend @NotNull validation requires amenities to be present (not null)\r\n          amenities: finalAmenities,\r\n        }\r\n        \r\n        try {\r\n          await apiClient.properties.update(propertyId, updateRequest)\r\n        } catch (err: any) {\r\n          throw err\r\n        }\r\n        \r\n        // Note: Other fields (title, address, bedrooms, etc.) are not supported by current backend API\r\n        // They would need to be added to UpdatePropertyRequest in the backend\r\n        \r\n        if (onSuccess) {\r\n          onSuccess()\r\n        }\r\n        \r\n        alert(\"Property updated successfully!\")\r\n        setIsLoading(false)\r\n        return\r\n      }\r\n\r\n      // Create mode\r\n      // coverImageName is optional string in backend DTO ‚Äì use undefined when no image\r\n      const coverImageName = images[0]?.name\r\n\r\n      const createRequest = {\r\n        title: formData.title.trim(),\r\n        description: formData.description.trim(),\r\n        typeId: Number.parseInt(formData.typeId),\r\n        dailyPrice: dailyPrice,\r\n        depositAmount: depositAmount,\r\n        negotiationPercentage: negotiationPercentage,\r\n        capacity: capacity,\r\n        numberOfBedrooms: numberOfBedrooms,\r\n        numberOfBathrooms: numberOfBathrooms,\r\n        numberOfBeds: numberOfBeds,\r\n        address: {\r\n          address: formData.address.trim(),\r\n          city: formData.city.trim(),\r\n          country: formData.country.trim(),\r\n          zipCode: formData.zipCode ? Number.parseInt(formData.zipCode) : undefined,\r\n          latitude: formData.latitude ? parseFloat(formData.latitude) : undefined,\r\n          longitude: formData.longitude ? parseFloat(formData.longitude) : undefined,\r\n        },\r\n        amenities: [],\r\n        coverImageName,\r\n        discountPlan: (discountPlans.fiveDays || discountPlans.fifteenDays || discountPlans.oneMonth) ? {\r\n          ...(discountPlans.fiveDays && { fiveDays: 10 }),\r\n          ...(discountPlans.fifteenDays && { fifteenDays: 15 }),\r\n          ...(discountPlans.oneMonth && { oneMonth: 20 }),\r\n        } : null,\r\n      }\r\n\r\n      const result = await apiClient.properties.create(createRequest, images)\r\n      \r\n      try {\r\n        const userData = await apiClient.users.getMe()\r\n        \r\n        const frontendRoles = (userData.roles || []).map((r: string) => {\r\n          if (r === \"HOST\") return \"POSTER\"\r\n          if (r === \"TENANT\") return \"USER\"\r\n          if (r === \"ADMIN\") return \"ADMIN\"\r\n          return r\r\n        })\r\n        \r\n        const updatedUser = {\r\n          ...user,\r\n          roles: frontendRoles.length > 0 ? frontendRoles : user?.roles || [\"USER\"],\r\n          walletAddress: userData.walletAddress || user?.walletAddress,\r\n        }\r\n        \r\n        localStorage.setItem(\"user\", JSON.stringify(updatedUser))\r\n        localStorage.setItem(process.env.NEXT_PUBLIC_USER_STORAGE_KEY || \"derent5_user_data\", JSON.stringify(updatedUser))\r\n        window.dispatchEvent(new Event(\"auth-state-changed\"))\r\n      } catch (error) {\r\n        console.error(\"Failed to refresh user data:\", error)\r\n      }\r\n      \r\n      // Call onSuccess callback if provided\r\n      if (onSuccess) {\r\n        onSuccess()\r\n      }\r\n      \r\n      // Reset form\r\n      setFormData({\r\n        title: \"\",\r\n        description: \"\",\r\n        typeId: \"1\",\r\n        dailyPrice: \"\",\r\n        depositAmount: \"\",\r\n        negotiationPercentage: \"\",\r\n        capacity: \"\",\r\n        numberOfBedrooms: \"\",\r\n        numberOfBathrooms: \"\",\r\n        numberOfBeds: \"\",\r\n        address: \"\",\r\n        city: \"\",\r\n        country: \"Morocco\",\r\n        zipCode: \"\",\r\n        latitude: \"\",\r\n        longitude: \"\",\r\n      })\r\n      setImages([])\r\n      setImagePreview([])\r\n      setDiscountPlans({\r\n        fiveDays: false,\r\n        fifteenDays: false,\r\n        oneMonth: false,\r\n      })\r\n      \r\n      // Show success message\r\n      setError(\"\")\r\n      alert(\"Property created successfully!\")\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : \"Failed to create property\")\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Card className=\"p-6\">\r\n      <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">\r\n        {isEditMode ? \"Edit Property\" : \"Add New Property\"}\r\n      </h2>\r\n      <p className=\"text-gray-600 mb-6\">\r\n        {isEditMode ? \"Update the details of your property\" : \"Fill in the details to post your property\"}\r\n      </p>\r\n      \r\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n        {error && <div className=\"p-4 bg-red-50 text-red-700 rounded-lg text-sm\">{error}</div>}\r\n\r\n        {/* Images Section */}\r\n        <div>\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">Upload Images</h3>\r\n          <div className=\"space-y-4\">\r\n            <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-teal-600 transition-colors\">\r\n              <Upload className=\"w-6 h-6 text-gray-400 mx-auto mb-2\" />\r\n              <label className=\"cursor-pointer\">\r\n                <span className=\"text-teal-600 hover:text-teal-700 font-medium\">Click to upload</span> or drag and drop\r\n                <input type=\"file\" multiple accept=\"image/*\" onChange={handleImageChange} className=\"hidden\" />\r\n              </label>\r\n              <p className=\"text-xs text-gray-500 mt-1\">\r\n                PNG, JPG, GIF up to 10MB {!isEditMode && \"(5-10 images required)\"}\r\n                {!isEditMode && images.length > 0 && images.length < 10 && \" - You can add more images\"}\r\n              </p>\r\n            </div>\r\n\r\n            {imagePreview.length > 0 && (\r\n              <div className=\"space-y-4\">\r\n                <div className=\"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3\">\r\n                  {imagePreview.map((preview, i) => (\r\n                    <div key={i} className=\"relative group\">\r\n                      <div className=\"relative h-24 rounded-lg overflow-hidden border-2 border-gray-200\">\r\n                        <img\r\n                          src={preview || \"/placeholder.svg\"}\r\n                          alt={`Preview ${i + 1}`}\r\n                          className=\"w-full h-full object-cover\"\r\n                        />\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => removeImage(i)}\r\n                          className=\"absolute top-1 right-1 bg-red-500 hover:bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                          title=\"Remove image\"\r\n                        >\r\n                          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                          </svg>\r\n                        </button>\r\n                      </div>\r\n                      <p className=\"text-xs text-center mt-1 text-gray-600\">Image {i + 1}</p>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                {!isEditMode && (\r\n                  <div className=\"flex items-center gap-2 text-sm\">\r\n                    <span className={`font-medium ${images.length < 5 ? \"text-red-600\" : images.length <= 10 ? \"text-green-600\" : \"text-gray-600\"}`}>\r\n                      {images.length} / 10 images\r\n                    </span>\r\n                    {images.length < 5 && (\r\n                      <span className=\"text-red-600 text-xs\">\r\n                        (Need {5 - images.length} more to proceed)\r\n                      </span>\r\n                    )}\r\n                    {images.length >= 5 && images.length <= 10 && (\r\n                      <span className=\"text-green-600 text-xs\">‚úì Ready to submit</span>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Basic Information */}\r\n        <div>\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">Basic Information</h3>\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Property Title *</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"title\"\r\n                value={formData.title}\r\n                onChange={handleInputChange}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600\"\r\n                placeholder=\"e.g. Modern Downtown Apartment\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Description *</label>\r\n              <textarea\r\n                name=\"description\"\r\n                value={formData.description}\r\n                onChange={handleInputChange}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600 h-24\"\r\n                placeholder=\"Describe your property in detail...\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Property Type *</label>\r\n                <select\r\n                  name=\"typeId\"\r\n                  value={formData.typeId}\r\n                  onChange={handleInputChange}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600\"\r\n                >\r\n                  <option value=\"1\">Apartment</option>\r\n                  <option value=\"2\">House</option>\r\n                  <option value=\"3\">Studio</option>\r\n                  <option value=\"4\">Condo</option>\r\n                  <option value=\"5\">Villa</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Daily Price (MAD) *</label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"dailyPrice\"\r\n                  value={formData.dailyPrice}\r\n                  onChange={handleInputChange}\r\n                  step=\"0.001\"\r\n                  min=\"0\"\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600\"\r\n                  placeholder=\"0.05\"\r\n                  required\r\n                />\r\n                    <p className=\"text-xs text-gray-500 mt-1\">Price per day in Moroccan Dirham (MAD)</p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Deposit Amount (MAD) *</label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"depositAmount\"\r\n                  value={formData.depositAmount}\r\n                  onChange={handleInputChange}\r\n                  step=\"0.001\"\r\n                  min=\"0\"\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600\"\r\n                  placeholder=\"0.1\"\r\n                  required\r\n                />\r\n                    <p className=\"text-xs text-gray-500 mt-1\">Security deposit amount in Moroccan Dirham (MAD)</p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"w-full\">\r\n              <label htmlFor=\"negotiationPercentage\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Negotiation Percentage (%) *\r\n              </label>\r\n              <input\r\n                id=\"negotiationPercentage\"\r\n                type=\"number\"\r\n                name=\"negotiationPercentage\"\r\n                value={formData.negotiationPercentage}\r\n                onChange={handleInputChange}\r\n                step=\"0.1\"\r\n                min=\"0\"\r\n                max=\"100\"\r\n                className=\"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600 focus:border-teal-600\"\r\n                placeholder=\"0.0\"\r\n                required\r\n              />\r\n              <p className=\"text-xs text-gray-500 mt-1\">Enter the negotiation percentage (0-100%)</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Details */}\r\n        <div>\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">Property Details</h3>\r\n          <div className=\"grid grid-cols-4 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Guests *</label>\r\n              <input\r\n                type=\"number\"\r\n                name=\"capacity\"\r\n                value={formData.capacity}\r\n                onChange={handleInputChange}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600\"\r\n                placeholder=\"4\"\r\n                required\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Bedrooms *</label>\r\n              <input\r\n                type=\"number\"\r\n                name=\"numberOfBedrooms\"\r\n                value={formData.numberOfBedrooms}\r\n                onChange={handleInputChange}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600\"\r\n                placeholder=\"2\"\r\n                required\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Beds *</label>\r\n              <input\r\n                type=\"number\"\r\n                name=\"numberOfBeds\"\r\n                value={formData.numberOfBeds}\r\n                onChange={handleInputChange}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600\"\r\n                placeholder=\"3\"\r\n                required\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Bathrooms *</label>\r\n              <input\r\n                type=\"number\"\r\n                name=\"numberOfBathrooms\"\r\n                value={formData.numberOfBathrooms}\r\n                onChange={handleInputChange}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600\"\r\n                placeholder=\"1\"\r\n                min=\"1\"\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Discount Plan */}\r\n        <div>\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">Discount Plan</h3>\r\n          <div className=\"bg-teal-50 border border-teal-200 rounded-lg p-4 space-y-3\">\r\n            <div className=\"flex items-start gap-4\">\r\n              <div className=\"flex-1\">\r\n                <div className=\"flex items-center gap-2 mb-1\">\r\n                  <span className=\"font-semibold text-gray-900 text-sm\">5 Days</span>\r\n                  <span className=\"px-2 py-1 bg-teal-600 text-white text-xs rounded\">10% OFF</span>\r\n                </div>\r\n                <p className=\"text-xs text-gray-600\">Get 10% discount when booking for 5 days or more</p>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <Switch\r\n                  checked={discountPlans.fiveDays}\r\n                  onCheckedChange={(checked) =>\r\n                    setDiscountPlans((prev) => ({ ...prev, fiveDays: checked }))\r\n                  }\r\n                />\r\n                <span className=\"text-xs text-gray-700 min-w-[60px]\">\r\n                  {discountPlans.fiveDays ? \"Enabled\" : \"Disabled\"}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex items-start gap-4\">\r\n              <div className=\"flex-1\">\r\n                <div className=\"flex items-center gap-2 mb-1\">\r\n                  <span className=\"font-semibold text-gray-900 text-sm\">15 Days</span>\r\n                  <span className=\"px-2 py-1 bg-teal-600 text-white text-xs rounded\">15% OFF</span>\r\n                </div>\r\n                <p className=\"text-xs text-gray-600\">Get 15% discount when booking for 15 days or more</p>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <Switch\r\n                  checked={discountPlans.fifteenDays}\r\n                  onCheckedChange={(checked) =>\r\n                    setDiscountPlans((prev) => ({ ...prev, fifteenDays: checked }))\r\n                  }\r\n                />\r\n                <span className=\"text-xs text-gray-700 min-w-[60px]\">\r\n                  {discountPlans.fifteenDays ? \"Enabled\" : \"Disabled\"}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex items-start gap-4\">\r\n              <div className=\"flex-1\">\r\n                <div className=\"flex items-center gap-2 mb-1\">\r\n                  <span className=\"font-semibold text-gray-900 text-sm\">1 Month+</span>\r\n                  <span className=\"px-2 py-1 bg-teal-600 text-white text-xs rounded\">20% OFF</span>\r\n                </div>\r\n                <p className=\"text-xs text-gray-600\">Get 20% discount when booking for a month or more</p>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <Switch\r\n                  checked={discountPlans.oneMonth}\r\n                  onCheckedChange={(checked) =>\r\n                    setDiscountPlans((prev) => ({ ...prev, oneMonth: checked }))\r\n                  }\r\n                />\r\n                <span className=\"text-xs text-gray-700 min-w-[60px]\">\r\n                  {discountPlans.oneMonth ? \"Enabled\" : \"Disabled\"}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Location */}\r\n        <div>\r\n          <div className=\"flex items-center justify-between mb-3\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900\">Location</h3>\r\n            <Button\r\n              type=\"button\"\r\n              onClick={() => getCurrentLocation()}\r\n              disabled={isGettingLocation}\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              className=\"flex items-center gap-2\"\r\n            >\r\n              {isGettingLocation ? (\r\n                <>\r\n                  <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                  Getting...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <MapPin className=\"w-4 h-4\" />\r\n                  Use GPS\r\n                </>\r\n              )}\r\n            </Button>\r\n          </div>\r\n          <div className=\"space-y-4\">\r\n            {(formData.latitude || formData.longitude) && (\r\n              <div className=\"bg-teal-50 border border-teal-200 rounded-lg p-3 text-sm text-teal-700\">\r\n                <p className=\"font-medium\">üìç Location detected:</p>\r\n                <p className=\"text-xs mt-1\">\r\n                  {formData.latitude && formData.longitude \r\n                    ? `Lat: ${parseFloat(formData.latitude).toFixed(6)}, Lng: ${parseFloat(formData.longitude).toFixed(6)}`\r\n                    : \"\"}\r\n                </p>\r\n              </div>\r\n            )}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Address *</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"address\"\r\n                value={formData.address}\r\n                onChange={handleInputChange}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600\"\r\n                placeholder=\"123 Main Street\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-3 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">City *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"city\"\r\n                  value={formData.city}\r\n                  onChange={handleInputChange}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600\"\r\n                  placeholder=\"Casablanca\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Country *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"country\"\r\n                  value={formData.country}\r\n                  onChange={handleInputChange}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">ZIP Code</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"zipCode\"\r\n                  value={formData.zipCode}\r\n                  onChange={handleInputChange}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600\"\r\n                  placeholder=\"20000\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Submit */}\r\n        <div className=\"flex gap-4 pt-4\">\r\n          <Button \r\n            type=\"button\" \r\n            variant=\"outline\" \r\n            className=\"flex-1\"\r\n            onClick={() => {\r\n              setFormData({\r\n                title: \"\",\r\n                description: \"\",\r\n                typeId: \"1\",\r\n                dailyPrice: \"\",\r\n                depositAmount: \"\",\r\n                negotiationPercentage: \"\",\r\n                capacity: \"\",\r\n                numberOfBedrooms: \"\",\r\n                numberOfBathrooms: \"\",\r\n                numberOfBeds: \"\",\r\n                address: \"\",\r\n                city: \"\",\r\n                country: \"Morocco\",\r\n                zipCode: \"\",\r\n                latitude: \"\",\r\n                longitude: \"\",\r\n              })\r\n              setImages([])\r\n              setImagePreview([])\r\n              setDiscountPlans({\r\n                fiveDays: false,\r\n                fifteenDays: false,\r\n                oneMonth: false,\r\n              })\r\n              setError(\"\")\r\n            }}\r\n          >\r\n            Clear\r\n          </Button>\r\n          <Button type=\"submit\" className=\"flex-1 bg-teal-600 hover:bg-teal-700\" disabled={isLoading}>\r\n            {isLoading ? (isEditMode ? \"Updating...\" : \"Publishing...\") : (isEditMode ? \"Update Property\" : \"Publish Property\")}\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </Card>\r\n  )\r\n}\r\n\r\n"],"names":[],"mappings":"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"}