module.exports=[3130,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},24987,a=>{"use strict";let b=(0,a.i(70106).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],24987)},60246,a=>{"use strict";let b=(0,a.i(70106).default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);a.s(["Users",()=>b],60246)},21374,a=>{"use strict";let b=(0,a.i(70106).default)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);a.s(["Star",()=>b],21374)},50778,16286,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);a.s(["Bed",()=>c],50778);let d=(0,b.default)("Bath",[["path",{d:"M9 6 6.5 3.5a1.5 1.5 0 0 0-1-.5C4.683 3 4 3.683 4 4.5V17a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"1r8yf5"}],["line",{x1:"10",x2:"8",y1:"5",y2:"7",key:"h5g8z4"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"7",x2:"7",y1:"19",y2:"21",key:"16jp00"}],["line",{x1:"17",x2:"17",y1:"19",y2:"21",key:"1pxrnk"}]]);a.s(["Bath",()=>d],16286)},87532,a=>{"use strict";let b=(0,a.i(70106).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],87532)},76472,a=>{"use strict";let b=(0,a.i(70106).default)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);a.s(["Heart",()=>b],76472)},77965,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(72211),e=a.i(38246),f=a.i(71987),g=a.i(3130),h=a.i(40695),i=a.i(76472),j=a.i(24987),k=a.i(21374),l=a.i(60246),m=a.i(96221),n=a.i(50778),o=a.i(16286),p=a.i(87532);function q(){let[a,q]=(0,c.useState)([]),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)(!0),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)(""),H=new Date().toISOString().split("T")[0],I=(0,c.useCallback)(async()=>{w(!0);try{let b=a.filter(a=>"APPROVED"===a.status);if(z&&(b=b.filter(a=>a.title?.toLowerCase().includes(z.toLowerCase())||a.description?.toLowerCase().includes(z.toLowerCase())||a.address?.city?.toLowerCase().includes(z.toLowerCase())||a.address?.country?.toLowerCase().includes(z.toLowerCase()))),F){let a=parseInt(F);!isNaN(a)&&a>0&&(b=b.filter(b=>b.capacity>=a))}if(B&&D){let a=new Date(B),c=new Date(D);if(a.setHours(0,0,0,0),c.setHours(0,0,0,0),c<=a){s(b),w(!1);return}let e=await Promise.all(b.map(async b=>{try{return!(await d.apiClient.bookings.getConfirmedBookingsByProperty(String(b.id))).some(b=>{let d=new Date(b.checkInDate),e=new Date(b.checkOutDate);return d.setHours(0,0,0,0),e.setHours(0,0,0,0),a<e&&c>d})}catch(a){return!0}}));b=b.filter((a,b)=>e[b])}s(b)}catch(b){s(a.filter(a=>"APPROVED"===a.status))}finally{w(!1)}},[a,z,F,B,D]);return((0,c.useEffect)(()=>{(async()=>{try{u(!0),y("");let a=(await d.apiClient.properties.getAll()).filter(a=>"APPROVED"===a.status);q(a),s(a)}catch(a){a?.isConnectionError?y("Cannot connect to the backend server. Please make sure the property-service is running on port 8081."):y(a instanceof Error?a.message:"Failed to load properties")}finally{u(!1)}})()},[]),(0,c.useEffect)(()=>{if(!B&&!D){let b=a.filter(a=>"APPROVED"===a.status);if(z&&(b=b.filter(a=>a.title?.toLowerCase().includes(z.toLowerCase())||a.description?.toLowerCase().includes(z.toLowerCase())||a.address?.city?.toLowerCase().includes(z.toLowerCase())||a.address?.country?.toLowerCase().includes(z.toLowerCase()))),F){let a=parseInt(F);!isNaN(a)&&a>0&&(b=b.filter(b=>b.capacity>=a))}s(b)}},[a,z,F,B,D]),t)?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(m.Loader2,{className:"h-12 w-12 animate-spin text-teal-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600 text-base",children:"Loading properties..."})]})}):x?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,b.jsxs)(g.Card,{className:"p-8 text-center max-w-md",children:[(0,b.jsx)("p",{className:"text-red-600 mb-4 text-base",children:x}),(0,b.jsx)("button",{onClick:()=>window.location.reload(),className:"text-teal-600 hover:text-teal-700 font-medium text-base",children:"Try again"})]})}):(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[(0,b.jsx)("section",{className:"bg-white border-b shadow-sm",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,b.jsx)(g.Card,{className:"shadow-lg border-0",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-0 divide-x divide-gray-200",children:[(0,b.jsxs)("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Where"}),(0,b.jsx)("input",{type:"text",placeholder:"Search destinations",value:z,onChange:a=>A(a.target.value),onKeyPress:a=>"Enter"===a.key&&I(),className:"w-full px-0 py-1 border-0 focus:outline-none text-base text-gray-600 placeholder-gray-400"})]}),(0,b.jsxs)("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Check-in"}),(0,b.jsx)("input",{type:"date",value:B,onChange:a=>C(a.target.value),min:H,className:"w-full px-0 py-1 border-0 focus:outline-none text-base text-gray-600 placeholder-gray-400 cursor-pointer"})]}),(0,b.jsxs)("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Check-out"}),(0,b.jsx)("input",{type:"date",value:D,onChange:a=>E(a.target.value),min:B||H,className:"w-full px-0 py-1 border-0 focus:outline-none text-base text-gray-600 placeholder-gray-400 cursor-pointer"})]}),(0,b.jsxs)("div",{className:"p-4 hover:bg-gray-50 transition-colors flex items-end gap-3",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Who"}),(0,b.jsx)("input",{type:"number",min:"1",value:F,onChange:a=>G(a.target.value),onKeyPress:a=>"Enter"===a.key&&I(),placeholder:"Add guests",className:"w-full px-0 py-1 border-0 focus:outline-none text-base text-gray-600 placeholder-gray-400"})]}),(0,b.jsx)(h.Button,{onClick:I,disabled:v,className:"bg-teal-600 hover:bg-teal-700 h-12 w-12 rounded-full p-0 flex-shrink-0 disabled:opacity-50",children:v?(0,b.jsx)(m.Loader2,{className:"w-5 h-5 animate-spin"}):(0,b.jsx)(p.Search,{className:"w-5 h-5"})})]})]})})})}),(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,b.jsxs)("div",{className:"mb-12 text-center",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-3",children:"Discover Properties"}),(0,b.jsxs)("p",{className:"text-lg text-gray-600",children:["Explore ",r.length," ",1===r.length?"beautiful property":"beautiful properties"," available for rent"]})]}),0===r.length?(0,b.jsxs)("div",{className:"text-center py-20",children:[(0,b.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gray-100 rounded-full mb-4",children:(0,b.jsx)(j.MapPin,{className:"w-10 h-10 text-gray-400"})}),(0,b.jsx)("p",{className:"text-gray-500 text-xl font-medium",children:"No approved properties found"}),(0,b.jsx)("p",{className:"text-gray-400 text-base mt-2",children:"Check back later for new listings"})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:r.map(a=>{let c=(a=>{if(!a.propertyImages||0===a.propertyImages.length)return null;let b=a.propertyImages.find(a=>a.cover);return b?b.url:a.propertyImages[0].url})(a),d=c?c.startsWith("http://")||c.startsWith("https://")?c:c.startsWith("/uploads")?`http://localhost:8081${c}`:c:"/houses_placeholder.png";return(0,b.jsx)(e.default,{href:`/property/${a.id}`,children:(0,b.jsxs)(g.Card,{className:"overflow-hidden hover:shadow-2xl transition-all duration-300 cursor-pointer group border border-gray-200 bg-white rounded-xl",children:[(0,b.jsxs)("div",{className:"relative h-64 bg-gradient-to-br from-gray-200 to-gray-300 overflow-hidden",children:[c?(0,b.jsx)(f.default,{src:d,alt:a.title,fill:!0,className:"object-cover group-hover:scale-110 transition-transform duration-700",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",onError:a=>{let b=a.target;b.srcset="",b.src="/houses_placeholder.png"}}):(0,b.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(j.MapPin,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),(0,b.jsx)("span",{className:"text-gray-500 text-sm",children:"No image available"})]})}),(0,b.jsx)("button",{className:"absolute top-4 left-4 bg-white/90 backdrop-blur-sm rounded-full p-2.5 hover:bg-white shadow-lg transition-all duration-200 z-10 hover:scale-110",onClick:a=>{a.preventDefault()},children:(0,b.jsx)(i.Heart,{className:"w-5 h-5 text-gray-600 hover:text-red-500 transition-colors"})}),(0,b.jsxs)("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm rounded-full px-3 py-1.5 shadow-lg flex items-center gap-1.5",children:[(0,b.jsx)(k.Star,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),(0,b.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:"4.8"})]})]}),(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h3",{className:"font-bold text-xl text-gray-900 mb-2 line-clamp-1 group-hover:text-teal-600 transition-colors",children:a.title}),(0,b.jsxs)("div",{className:"flex items-center text-gray-600 text-sm",children:[(0,b.jsx)(j.MapPin,{className:"w-4 h-4 mr-1.5 text-teal-600 flex-shrink-0"}),(0,b.jsxs)("span",{className:"line-clamp-1",children:[a.address?.city,", ",a.address?.country]})]})]}),(0,b.jsx)("div",{className:"mb-4 pb-4 border-b border-gray-100",children:(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,b.jsx)("span",{className:"text-3xl font-bold text-teal-600",children:a.dailyPrice?.toFixed(4)||a.price?.toFixed(4)||"N/A"}),(0,b.jsx)("span",{className:"text-lg font-semibold text-teal-600",children:"MAD"}),(0,b.jsx)("span",{className:"text-sm text-gray-500 ml-1",children:"/day"})]}),a.depositAmount&&a.depositAmount>0&&(0,b.jsx)("div",{className:"flex items-baseline gap-2",children:(0,b.jsxs)("span",{className:"text-base font-semibold text-orange-600",children:["Deposit: ",a.depositAmount.toFixed(0)," MAD"]})})]})}),(0,b.jsxs)("div",{className:"flex items-center text-sm text-gray-600 gap-6 mb-4",children:[(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)(l.Users,{className:"w-4 h-4 text-teal-600"}),(0,b.jsxs)("span",{className:"font-medium",children:[a.capacity," guests"]})]}),a.numberOfBedrooms&&(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)(n.Bed,{className:"w-4 h-4 text-teal-600"}),(0,b.jsx)("span",{className:"font-medium",children:a.numberOfBedrooms})]}),a.numberOfBathrooms&&(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)(o.Bath,{className:"w-4 h-4 text-teal-600"}),(0,b.jsx)("span",{className:"font-medium",children:a.numberOfBathrooms})]})]}),a.amenities&&a.amenities.length>0&&(0,b.jsxs)("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-gray-100",children:[a.amenities.slice(0,3).map(a=>(0,b.jsx)("span",{className:"text-xs bg-teal-50 text-teal-700 px-3 py-1.5 rounded-full font-medium border border-teal-100",children:a.name},a.id)),a.amenities.length>3&&(0,b.jsxs)("span",{className:"text-xs bg-gray-100 text-gray-600 px-3 py-1.5 rounded-full font-medium",children:["+",a.amenities.length-3," more"]})]})]})]})},a.id)})})]})]})}a.s(["default",()=>q])}];

//# sourceMappingURL=_adeb8848._.js.map