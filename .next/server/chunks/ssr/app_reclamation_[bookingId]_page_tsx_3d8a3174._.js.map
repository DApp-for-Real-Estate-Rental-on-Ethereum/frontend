{"version":3,"sources":["../../../../app/reclamation/%5BbookingId%5D/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { useParams, useSearchParams, useRouter } from \"next/navigation\"\r\nimport { useAuth } from \"@/lib/hooks/use-auth\"\r\nimport { apiClient } from \"@/lib/services/api\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Card } from \"@/components/ui/card\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport { Loader2, AlertTriangle, X, Upload, CheckCircle, Phone, MapPin, Building2, Calendar, Clock, Badge } from \"lucide-react\"\r\nimport Image from \"next/image\"\r\nimport { Badge as BadgeComponent } from \"@/components/ui/badge\"\r\nimport type { Property } from \"@/lib/types\"\r\n\r\nconst GUEST_RECLAMATION_TYPES = [\r\n  { value: \"ACCESS_ISSUE\", label: \"Access Issue\", description: \"Cannot access the property, key/code doesn't work, host didn't respond...\" },\r\n  { value: \"NOT_AS_DESCRIBED\", label: \"Property Not As Described\", description: \"Different number of rooms, location, property type, missing important amenities...\" },\r\n  { value: \"CLEANLINESS\", label: \"Cleanliness Issue\", description: \"Dirty, strong odors, unclean bedding...\" },\r\n  { value: \"SAFETY_HEALTH\", label: \"Safety or Health Hazard\", description: \"Gas leak, exposed wires, excessive pests...\" },\r\n  // HOST_CANCELLATION removed - will have special handling\r\n]\r\n\r\nconst HOST_RECLAMATION_TYPES = [\r\n  { value: \"PROPERTY_DAMAGE\", label: \"Property Damage\", description: \"Broken furniture, appliances, glass, walls...\" },\r\n  { value: \"EXTRA_CLEANING\", label: \"Excessive Dirt\", description: \"Requires deep cleaning (unusual condition after departure)\" },\r\n  { value: \"HOUSE_RULE_VIOLATION\", label: \"House Rule Violation\", description: \"Parties, smoking prohibited, unauthorized pets...\" },\r\n  { value: \"UNAUTHORIZED_GUESTS_OR_STAY\", label: \"Unauthorized Guests or Extended Stay\", description: \"Not authorized or staying longer than agreed without payment\" },\r\n  // LOST_KEYS_OR_EXTRA_FEES removed\r\n]\r\n\r\ninterface ImagePreview {\r\n  file: File\r\n  preview: string\r\n}\r\n\r\nexport default function ReclamationPage() {\r\n  const params = useParams()\r\n  const searchParams = useSearchParams()\r\n  const router = useRouter()\r\n  const { user, isLoading: authLoading, isAuthenticated } = useAuth()\r\n  const bookingId = params?.bookingId as string\r\n  const isHost = searchParams?.get(\"isHost\") === \"true\"\r\n  const reclamationIdParam = searchParams?.get(\"reclamationId\")\r\n\r\n  const [selectedType, setSelectedType] = useState(\"\")\r\n  const [title, setTitle] = useState(\"\")\r\n  const [description, setDescription] = useState(\"\")\r\n  const [images, setImages] = useState<ImagePreview[]>([])\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const [success, setSuccess] = useState(false)\r\n  \r\n  // View mode state\r\n  const [viewMode, setViewMode] = useState(false)\r\n  const [existingReclamation, setExistingReclamation] = useState<any | null>(null)\r\n  const [booking, setBooking] = useState<any | null>(null)\r\n  const [property, setProperty] = useState<Property | null>(null)\r\n  const [otherPartyPhone, setOtherPartyPhone] = useState<string | null>(null)\r\n  const [loadingDetails, setLoadingDetails] = useState(false)\r\n\r\n  const reclamationTypes = isHost ? HOST_RECLAMATION_TYPES : GUEST_RECLAMATION_TYPES\r\n\r\n  useEffect(() => {\r\n    // Wait for auth to finish loading before checking authentication\r\n    if (authLoading) {\r\n      return\r\n    }\r\n\r\n    // Only redirect if auth is finished loading and user is not authenticated\r\n    if (!isAuthenticated || !user || !bookingId) {\r\n      router.push(\"/login\")\r\n      return\r\n    }\r\n    \r\n    // Check if reclamation exists (view mode)\r\n    fetchExistingReclamation()\r\n  }, [user, bookingId, router, authLoading, isAuthenticated, reclamationIdParam])\r\n\r\n  const fetchExistingReclamation = async () => {\r\n    if (!user?.id || !bookingId) return\r\n    \r\n    setLoadingDetails(true)\r\n    try {\r\n      let reclamation: any | null = null\r\n      \r\n      // If reclamationId is provided in query params, use it directly\r\n      if (reclamationIdParam) {\r\n        try {\r\n          console.log(\"üîç Fetching reclamation by ID:\", reclamationIdParam)\r\n          reclamation = await apiClient.reclamations.getById(parseInt(reclamationIdParam))\r\n          console.log(\"‚úÖ Found reclamation by ID:\", reclamation)\r\n        } catch (err) {\r\n          console.error(\"‚ùå Failed to fetch reclamation by ID:\", err)\r\n          // Fall back to bookingId and complainantId method\r\n        }\r\n      }\r\n      \r\n      // If not found by ID, try by bookingId and complainantId\r\n      if (!reclamation) {\r\n        try {\r\n          console.log(\"üîç Fetching reclamation by bookingId and complainantId:\", bookingId, user.id)\r\n          reclamation = await apiClient.reclamations.getByBookingIdAndComplainant(\r\n            bookingId,\r\n            user.id\r\n          )\r\n          console.log(\"‚úÖ Found reclamation by bookingId:\", reclamation)\r\n        } catch (err) {\r\n          console.error(\"‚ùå Failed to fetch reclamation by bookingId:\", err)\r\n        }\r\n      }\r\n      \r\n      if (reclamation) {\r\n        setExistingReclamation(reclamation)\r\n        setViewMode(true)\r\n        \r\n        // Fetch booking and property details\r\n        try {\r\n          const bookingData = await apiClient.bookings.getById(bookingId)\r\n          setBooking(bookingData)\r\n          \r\n          let propertyData: Property | null = null\r\n          if (bookingData?.propertyId) {\r\n            try {\r\n              propertyData = await apiClient.properties.getById(String(bookingData.propertyId))\r\n              setProperty(propertyData)\r\n            } catch (err) {\r\n              console.error(\"Failed to fetch property:\", err)\r\n            }\r\n          }\r\n          \r\n          // Fetch other party phone number\r\n          try {\r\n            let targetUserId: number | null = null\r\n            \r\n            console.log(\"üìû Reclamation data:\", {\r\n              complainantId: reclamation.complainantId,\r\n              targetUserId: reclamation.targetUserId,\r\n              complainantRole: reclamation.complainantRole,\r\n              currentUserId: user.id\r\n            })\r\n            \r\n            // Determine who to show phone number for\r\n            // If user is the complainant, show target user's phone\r\n            // If user is the target, show complainant's phone\r\n            if (reclamation.complainantId === user.id) {\r\n              // User is the complainant, show target user's phone\r\n              targetUserId = reclamation.targetUserId\r\n              console.log(\"üìû User is complainant, fetching target user phone. targetUserId:\", targetUserId)\r\n            } else {\r\n              // User is the target, show complainant's phone\r\n              targetUserId = reclamation.complainantId\r\n              console.log(\"üìû User is target, fetching complainant phone. complainantId:\", targetUserId)\r\n            }\r\n            \r\n            // Fallback: if targetUserId is not available, try to get it from booking/property\r\n            if ((!targetUserId || targetUserId === 0) && bookingData) {\r\n              console.log(\"‚ö†Ô∏è targetUserId not available, trying fallback method\")\r\n              if (reclamation.complainantRole === \"GUEST\") {\r\n                // User is guest complainant, get host from property\r\n                if (propertyData?.userId) {\r\n                  targetUserId = parseInt(String(propertyData.userId))\r\n                } else {\r\n                  const propertyInfo = await apiClient.bookings.getPropertyInfo(String(bookingData.propertyId))\r\n                  if (propertyInfo.ownerId) {\r\n                    targetUserId = propertyInfo.ownerId\r\n                  }\r\n                }\r\n              } else {\r\n                // User is host complainant, get tenant from booking\r\n                targetUserId = bookingData.userId\r\n              }\r\n              console.log(\"üìû Fallback targetUserId:\", targetUserId)\r\n            }\r\n            \r\n            if (targetUserId && targetUserId > 0) {\r\n              console.log(\"üìû Fetching user info for ID:\", targetUserId)\r\n              const userInfo = await apiClient.users.getById(targetUserId)\r\n              console.log(\"üìû User info received:\", userInfo)\r\n              if (userInfo && userInfo.phoneNumber) {\r\n                console.log(\"‚úÖ Setting phone number:\", userInfo.phoneNumber)\r\n                setOtherPartyPhone(String(userInfo.phoneNumber))\r\n              } else {\r\n                console.log(\"‚ö†Ô∏è No phone number found in user info\")\r\n              }\r\n            } else {\r\n              console.log(\"‚ö†Ô∏è Invalid targetUserId:\", targetUserId)\r\n            }\r\n          } catch (err) {\r\n            console.error(\"‚ùå Failed to fetch phone number:\", err)\r\n          }\r\n        } catch (err) {\r\n          console.error(\"Failed to fetch booking:\", err)\r\n        }\r\n      }\r\n    } catch (err) {\r\n      // Reclamation doesn't exist, stay in create mode\r\n      console.log(\"No existing reclamation found, staying in create mode\")\r\n    } finally {\r\n      setLoadingDetails(false)\r\n    }\r\n  }\r\n\r\n  const handleImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const files = Array.from(e.target.files || [])\r\n    if (images.length + files.length > 3) {\r\n      setError(\"You can upload a maximum of 3 images\")\r\n      return\r\n    }\r\n\r\n    const newImages = files.map((file) => ({\r\n      file,\r\n      preview: URL.createObjectURL(file),\r\n    }))\r\n\r\n    setImages([...images, ...newImages])\r\n  }\r\n\r\n  const removeImage = (index: number) => {\r\n    const newImages = images.filter((_, i) => i !== index)\r\n    // Revoke object URLs to prevent memory leaks\r\n    URL.revokeObjectURL(images[index].preview)\r\n    setImages(newImages)\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n\r\n    if (!selectedType) {\r\n      setError(\"Please select a reclamation type\")\r\n      return\r\n    }\r\n\r\n    if (!title || !title.trim()) {\r\n      setError(\"Title is required\")\r\n      return\r\n    }\r\n\r\n    if (!description || !description.trim()) {\r\n      setError(\"Description is required\")\r\n      return\r\n    }\r\n\r\n    if (images.length > 3) {\r\n      setError(\"You can upload a maximum of 3 images\")\r\n      return\r\n    }\r\n\r\n    if (!user?.id || !bookingId) {\r\n      setError(\"User or booking information is missing\")\r\n      return\r\n    }\r\n\r\n    setLoading(true)\r\n    setError(null)\r\n\r\n    try {\r\n      const complainantRole = isHost ? \"HOST\" : \"GUEST\"\r\n      const imageFiles = images.map((img) => img.file)\r\n\r\n      await apiClient.reclamations.create(\r\n        bookingId,\r\n        user.id,\r\n        complainantRole as \"GUEST\" | \"HOST\",\r\n        selectedType,\r\n        title.trim(),\r\n        description.trim(),\r\n        imageFiles.length > 0 ? imageFiles : undefined\r\n      )\r\n\r\n      // Images are now sent with the reclamation creation request\r\n      // They will be saved automatically by reclamation-service\r\n\r\n      setSuccess(true)\r\n      setTimeout(() => {\r\n        router.back()\r\n      }, 2000)\r\n    } catch (err: any) {\r\n      setError(err.message || \"Failed to submit reclamation\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  // Show loading while checking authentication\r\n  if (authLoading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-teal-50 via-white to-cyan-50\">\r\n        <div className=\"text-center\">\r\n          <div className=\"relative\">\r\n            <Loader2 className=\"h-16 w-16 animate-spin text-teal-600 mx-auto mb-4\" />\r\n            <div className=\"absolute inset-0 flex items-center justify-center\">\r\n              <div className=\"w-8 h-8 bg-teal-100 rounded-full\"></div>\r\n            </div>\r\n          </div>\r\n          <p className=\"text-gray-600 font-medium text-lg\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // If not authenticated, will redirect (don't render anything)\r\n  if (!isAuthenticated || !user || !bookingId) {\r\n    return null\r\n  }\r\n\r\n  // View Mode - Show reclamation details\r\n  if (viewMode && existingReclamation) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-teal-50 via-white to-cyan-50 py-12\">\r\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <Card className=\"p-8 shadow-2xl border-2 border-teal-100 bg-white/95 backdrop-blur-sm\">\r\n            <div className=\"mb-8\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className={`p-3 rounded-xl ${isHost ? 'bg-orange-100' : 'bg-teal-100'}`}>\r\n                    <AlertTriangle className={`w-6 h-6 ${isHost ? 'text-orange-600' : 'text-teal-600'}`} />\r\n                  </div>\r\n                  <div>\r\n                    <h1 className=\"text-3xl font-bold bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent\">\r\n                      Reclamation Details\r\n                    </h1>\r\n                    <p className=\"text-sm text-gray-500 mt-1\">\r\n                      View your reclamation information\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <Button\r\n                  variant=\"outline\"\r\n                  onClick={() => router.back()}\r\n                >\r\n                  Back\r\n                </Button>\r\n              </div>\r\n            </div>\r\n\r\n            {loadingDetails ? (\r\n              <div className=\"flex items-center justify-center py-12\">\r\n                <Loader2 className=\"w-8 h-8 animate-spin text-teal-600\" />\r\n                <p className=\"ml-4 text-gray-600\">Loading details...</p>\r\n              </div>\r\n            ) : (\r\n              <div className=\"space-y-6\">\r\n                {/* Title and Status */}\r\n                <div className=\"p-6 bg-gray-50 rounded-lg\">\r\n                  <div className=\"flex items-start justify-between mb-4\">\r\n                    <h2 className=\"text-2xl font-bold text-gray-900\">{existingReclamation.title}</h2>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <BadgeComponent\r\n                        className={\r\n                          existingReclamation.status === \"OPEN\"\r\n                            ? \"bg-blue-100 text-blue-800\"\r\n                            : existingReclamation.status === \"IN_REVIEW\"\r\n                            ? \"bg-yellow-100 text-yellow-800\"\r\n                            : existingReclamation.status === \"RESOLVED\"\r\n                            ? \"bg-green-100 text-green-800\"\r\n                            : \"bg-red-100 text-red-800\"\r\n                        }\r\n                      >\r\n                        {existingReclamation.status.replace(\"_\", \" \")}\r\n                      </BadgeComponent>\r\n                      <BadgeComponent\r\n                        className={\r\n                          existingReclamation.severity === \"LOW\"\r\n                            ? \"bg-green-100 text-green-800\"\r\n                            : existingReclamation.severity === \"MEDIUM\"\r\n                            ? \"bg-yellow-100 text-yellow-800\"\r\n                            : existingReclamation.severity === \"HIGH\"\r\n                            ? \"bg-orange-100 text-orange-800\"\r\n                            : \"bg-red-100 text-red-800\"\r\n                        }\r\n                      >\r\n                        {existingReclamation.severity}\r\n                      </BadgeComponent>\r\n                    </div>\r\n                  </div>\r\n                  <p className=\"text-gray-700 text-base leading-relaxed\">{existingReclamation.description}</p>\r\n                </div>\r\n\r\n                {/* Property Info */}\r\n                {property && (\r\n                  <div className=\"p-6 bg-teal-50 rounded-lg border-2 border-teal-200\">\r\n                    <div className=\"flex items-center gap-2 mb-3\">\r\n                      <Building2 className=\"w-5 h-5 text-teal-600\" />\r\n                      <h3 className=\"text-lg font-semibold text-gray-900\">Property Information</h3>\r\n                    </div>\r\n                    <div className=\"space-y-2\">\r\n                      <p className=\"font-semibold text-gray-900\">{property.title}</p>\r\n                      {property.address && (\r\n                        <div className=\"flex items-center gap-2 text-gray-600\">\r\n                          <MapPin className=\"w-4 h-4 text-teal-600\" />\r\n                          <span>{property.address.city}, {property.address.country}</span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Booking Dates */}\r\n                {booking && (\r\n                  <div className=\"p-6 bg-blue-50 rounded-lg border-2 border-blue-200\">\r\n                    <div className=\"flex items-center gap-2 mb-3\">\r\n                      <Calendar className=\"w-5 h-5 text-blue-600\" />\r\n                      <h3 className=\"text-lg font-semibold text-gray-900\">Booking Dates</h3>\r\n                    </div>\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-600 mb-1\">Check-in</p>\r\n                        <p className=\"font-semibold text-gray-900\">\r\n                          {new Date(booking.checkInDate).toLocaleDateString(\"en-US\", {\r\n                            year: \"numeric\",\r\n                            month: \"short\",\r\n                            day: \"numeric\",\r\n                          })}\r\n                        </p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-600 mb-1\">Check-out</p>\r\n                        <p className=\"font-semibold text-gray-900\">\r\n                          {new Date(booking.checkOutDate).toLocaleDateString(\"en-US\", {\r\n                            year: \"numeric\",\r\n                            month: \"short\",\r\n                            day: \"numeric\",\r\n                          })}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Other Party Phone Number */}\r\n                {otherPartyPhone && (\r\n                  <div className=\"p-6 bg-green-50 rounded-lg border-2 border-green-200\">\r\n                    <div className=\"flex items-center gap-2 mb-2\">\r\n                      <Phone className=\"w-5 h-5 text-green-600\" />\r\n                      <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                        {existingReclamation.complainantId === user.id \r\n                          ? (existingReclamation.complainantRole === \"GUEST\" ? \"Host\" : \"Tenant\")\r\n                          : (existingReclamation.complainantRole === \"GUEST\" ? \"Guest\" : \"Host\")\r\n                        } Phone Number\r\n                      </h3>\r\n                    </div>\r\n                    <p className=\"text-xl font-bold text-gray-900\">{otherPartyPhone}</p>\r\n                    <a \r\n                      href={`tel:${otherPartyPhone}`}\r\n                      className=\"mt-3 inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\r\n                    >\r\n                      <Phone className=\"w-4 h-4\" />\r\n                      Call Now\r\n                    </a>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Type */}\r\n                <div className=\"p-4 bg-gray-50 rounded-lg\">\r\n                  <p className=\"text-sm text-gray-600 mb-1\">Reclamation Type</p>\r\n                  <p className=\"font-semibold text-gray-900\">\r\n                    {existingReclamation.type.replace(/_/g, \" \")}\r\n                  </p>\r\n                </div>\r\n\r\n                {/* Refund and Penalty */}\r\n                {(existingReclamation.refundAmount || existingReclamation.penaltyPoints) && (\r\n                  <div className=\"p-6 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg border-2 border-purple-200\">\r\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">Financial Details</h3>\r\n                    <div className=\"space-y-2\">\r\n                      {existingReclamation.refundAmount && (\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <span className=\"text-gray-700\">Refund Amount:</span>\r\n                          <span className=\"text-lg font-bold text-green-600\">\r\n                            ${existingReclamation.refundAmount.toFixed(2)}\r\n                          </span>\r\n                        </div>\r\n                      )}\r\n                      {existingReclamation.penaltyPoints && (\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <span className=\"text-gray-700\">Penalty Points:</span>\r\n                          <span className=\"text-lg font-bold text-red-600\">\r\n                            {existingReclamation.penaltyPoints} pts\r\n                          </span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Resolution Notes */}\r\n                {existingReclamation.resolutionNotes && (\r\n                  <div className=\"p-6 bg-blue-50 rounded-lg border-2 border-blue-200\">\r\n                    <h3 className=\"text-lg font-semibold text-blue-900 mb-2\">Resolution Notes</h3>\r\n                    <p className=\"text-blue-700\">{existingReclamation.resolutionNotes}</p>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Images */}\r\n                {existingReclamation.attachments && existingReclamation.attachments.length > 0 && (\r\n                  <div className=\"p-6 bg-gray-50 rounded-lg\">\r\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Attached Images</h3>\r\n                    <div className=\"grid grid-cols-3 gap-4\">\r\n                      {existingReclamation.attachments.map((attachment: any, index: number) => (\r\n                        <div key={index} className=\"relative aspect-square rounded-lg overflow-hidden border-2 border-gray-200\">\r\n                          <Image\r\n                            src={`http://localhost:8091${attachment.filePath}`}\r\n                            alt={`Attachment ${index + 1}`}\r\n                            fill\r\n                            className=\"object-cover\"\r\n                            sizes=\"(max-width: 768px) 33vw, 200px\"\r\n                          />\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Action Buttons - Only show Delete if user is complainant */}\r\n                {existingReclamation.status === \"OPEN\" && \r\n                 existingReclamation.complainantId === user.id && (\r\n                  <div className=\"pt-6 border-t-2 border-gray-100\">\r\n                    <Button\r\n                      variant=\"destructive\"\r\n                      onClick={async () => {\r\n                        if (window.confirm(\"Are you sure you want to delete this reclamation?\")) {\r\n                          try {\r\n                            await apiClient.reclamations.delete(existingReclamation.id, user.id)\r\n                            router.back()\r\n                          } catch (err: any) {\r\n                            setError(err.message || \"Failed to delete reclamation\")\r\n                          }\r\n                        }\r\n                      }}\r\n                    >\r\n                      Delete Reclamation\r\n                    </Button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Create Mode - Show form\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-teal-50 via-white to-cyan-50 py-12\">\r\n      <div className=\"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <Card className=\"p-8 shadow-2xl border-2 border-teal-100 bg-white/95 backdrop-blur-sm\">\r\n          <div className=\"mb-8\">\r\n            <div className=\"flex items-center gap-3 mb-4\">\r\n              <div className={`p-3 rounded-xl ${isHost ? 'bg-orange-100' : 'bg-teal-100'}`}>\r\n                <AlertTriangle className={`w-6 h-6 ${isHost ? 'text-orange-600' : 'text-teal-600'}`} />\r\n              </div>\r\n              <div>\r\n                <h1 className=\"text-3xl font-bold bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent\">\r\n                  {isHost ? \"Host Reclamation\" : \"Guest Reclamation\"}\r\n                </h1>\r\n                <p className=\"text-sm text-gray-500 mt-1\">\r\n                  {isHost ? \"Report issues with your property\" : \"Report issues with your booking\"}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {error && (\r\n            <div className=\"mb-6 p-4 bg-gradient-to-r from-red-50 to-pink-50 border-2 border-red-200 rounded-xl shadow-lg\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"p-2 bg-red-100 rounded-lg\">\r\n                  <AlertTriangle className=\"w-5 h-5 text-red-600\" />\r\n                </div>\r\n                <p className=\"text-red-700 font-medium\">{error}</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {success && (\r\n            <div className=\"mb-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl shadow-lg animate-pulse\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"p-2 bg-green-100 rounded-lg\">\r\n                  <CheckCircle className=\"w-5 h-5 text-green-600\" />\r\n                </div>\r\n                <p className=\"text-green-700 font-medium\">Reclamation submitted successfully!</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n            {/* Reclamation Type */}\r\n            <div>\r\n              <Label className=\"text-base font-semibold text-gray-900 mb-4 block\">\r\n                Reclamation Type *\r\n              </Label>\r\n              <div className=\"space-y-3\">\r\n                {reclamationTypes.map((type) => (\r\n                  <label\r\n                    key={type.value}\r\n                    className={`block p-5 border-2 rounded-xl cursor-pointer transition-all duration-300 ${\r\n                      selectedType === type.value\r\n                        ? \"border-teal-500 bg-gradient-to-r from-teal-50 to-cyan-50 shadow-lg transform scale-[1.02]\"\r\n                        : \"border-gray-200 bg-white hover:border-teal-300 hover:shadow-md hover:bg-gray-50\"\r\n                    }`}\r\n                  >\r\n                    <div className=\"flex items-start gap-4\">\r\n                      <div className={`mt-1 w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all ${\r\n                        selectedType === type.value\r\n                          ? \"border-teal-500 bg-teal-500\"\r\n                          : \"border-gray-300\"\r\n                      }`}>\r\n                        {selectedType === type.value && (\r\n                          <div className=\"w-2 h-2 rounded-full bg-white\"></div>\r\n                        )}\r\n                      </div>\r\n                      <input\r\n                        type=\"radio\"\r\n                        name=\"reclamationType\"\r\n                        value={type.value}\r\n                        checked={selectedType === type.value}\r\n                        onChange={(e) => setSelectedType(e.target.value)}\r\n                        className=\"hidden\"\r\n                      />\r\n                      <div className=\"flex-1\">\r\n                        <div className=\"font-semibold text-gray-900 mb-1 text-lg\">{type.label}</div>\r\n                        <div className=\"text-sm text-gray-600 leading-relaxed\">{type.description}</div>\r\n                      </div>\r\n                    </div>\r\n                  </label>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Title */}\r\n            <div>\r\n              <Label htmlFor=\"title\" className=\"text-base font-semibold text-gray-900 mb-2 block\">\r\n                Title <span className=\"text-red-500\">*</span>\r\n              </Label>\r\n              <Input\r\n                id=\"title\"\r\n                type=\"text\"\r\n                value={title}\r\n                onChange={(e) => setTitle(e.target.value)}\r\n                placeholder=\"Short title for the reclamation...\"\r\n                required\r\n                className=\"mt-2 border-2 border-gray-200 focus:border-teal-500 focus:ring-2 focus:ring-teal-200 rounded-lg transition-all\"\r\n              />\r\n            </div>\r\n\r\n            {/* Description */}\r\n            <div>\r\n              <Label htmlFor=\"description\" className=\"text-base font-semibold text-gray-900 mb-2 block\">\r\n                Description <span className=\"text-red-500\">*</span>\r\n              </Label>\r\n              <Textarea\r\n                id=\"description\"\r\n                value={description}\r\n                onChange={(e) => setDescription(e.target.value)}\r\n                rows={5}\r\n                placeholder=\"Add additional details about the reclamation...\"\r\n                required\r\n                className=\"mt-2 border-2 border-gray-200 focus:border-teal-500 focus:ring-2 focus:ring-teal-200 rounded-lg transition-all resize-none\"\r\n              />\r\n            </div>\r\n\r\n            {/* Images */}\r\n            <div>\r\n              <Label htmlFor=\"images\" className=\"text-base font-semibold text-gray-900 mb-2 block\">\r\n                Images (Optional - Maximum 3 images)\r\n              </Label>\r\n              <div className=\"mt-2\">\r\n                <label\r\n                  htmlFor=\"images\"\r\n                  className={`flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-xl cursor-pointer transition-all ${\r\n                    images.length >= 3\r\n                      ? \"border-gray-300 bg-gray-50 cursor-not-allowed opacity-50\"\r\n                      : \"border-teal-300 bg-teal-50/50 hover:bg-teal-50 hover:border-teal-400\"\r\n                  }`}\r\n                >\r\n                  <div className=\"flex flex-col items-center justify-center pt-5 pb-6\">\r\n                    <Upload className={`w-8 h-8 mb-2 ${images.length >= 3 ? 'text-gray-400' : 'text-teal-600'}`} />\r\n                    <p className={`text-sm font-medium ${images.length >= 3 ? 'text-gray-400' : 'text-teal-700'}`}>\r\n                      {images.length >= 3 ? \"Maximum images reached\" : \"Click to upload images\"}\r\n                    </p>\r\n                    <p className=\"text-xs text-gray-500 mt-1\">PNG, JPG up to 3 images</p>\r\n                  </div>\r\n                  <Input\r\n                    id=\"images\"\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    multiple\r\n                    onChange={handleImageChange}\r\n                    disabled={images.length >= 3}\r\n                    className=\"hidden\"\r\n                  />\r\n                </label>\r\n              </div>\r\n              {images.length > 0 && (\r\n                <div className=\"mt-4 grid grid-cols-3 gap-4\">\r\n                  {images.map((img, index) => (\r\n                    <div key={index} className=\"relative group\">\r\n                      <div className=\"relative aspect-square rounded-xl overflow-hidden border-2 border-gray-200 shadow-md hover:shadow-xl transition-all duration-300\">\r\n                        <Image\r\n                          src={img.preview}\r\n                          alt={`Preview ${index + 1}`}\r\n                          fill\r\n                          className=\"object-cover group-hover:scale-110 transition-transform duration-300\"\r\n                          sizes=\"(max-width: 768px) 33vw, 150px\"\r\n                        />\r\n                      </div>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => removeImage(index)}\r\n                        className=\"absolute -top-2 -right-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-full p-1.5 hover:from-red-600 hover:to-red-700 transition-all shadow-lg hover:shadow-xl hover:scale-110\"\r\n                      >\r\n                        <X className=\"w-4 h-4\" />\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n              {images.length > 0 && (\r\n                <div className=\"mt-3 flex items-center justify-center\">\r\n                  <div className=\"px-4 py-2 bg-teal-100 rounded-full\">\r\n                    <p className=\"text-sm font-semibold text-teal-700\">\r\n                      {images.length} / 3 images\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Action Buttons */}\r\n            <div className=\"flex gap-4 pt-6 border-t-2 border-gray-100\">\r\n              <Button\r\n                type=\"submit\"\r\n                disabled={loading || !selectedType || !title.trim() || !description.trim()}\r\n                className=\"flex-1 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-semibold py-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                {loading ? (\r\n                  <>\r\n                    <Loader2 className=\"w-5 h-5 mr-2 animate-spin\" />\r\n                    Submitting...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Upload className=\"w-5 h-5 mr-2\" />\r\n                    Submit Reclamation\r\n                  </>\r\n                )}\r\n              </Button>\r\n              <Button\r\n                type=\"button\"\r\n                onClick={() => router.back()}\r\n                variant=\"outline\"\r\n                className=\"flex-1 border-2 border-gray-300 hover:border-gray-400 text-gray-700 font-semibold py-6 rounded-xl hover:bg-gray-50 transition-all duration-300\"\r\n              >\r\n                Cancel\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n"],"names":[],"mappings":"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"}