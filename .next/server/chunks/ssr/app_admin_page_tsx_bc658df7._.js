module.exports=[88367,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(13216),e=a.i(50944),f=a.i(67900),g=a.i(60246),h=a.i(41675),i=a.i(70106);let j=(0,i.default)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),k=(0,i.default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var l=a.i(5784);function m({activeSection:a,onSectionChange:d}){let[e,i]=(0,c.useState)(null),m=[{id:"properties",label:"Properties",icon:f.Building2,subSections:[{id:"all-properties",label:"All Properties"},{id:"pending-approval",label:"Pending Approval"},{id:"approved",label:"Approved"},{id:"suspended",label:"Suspended"},{id:"disapproved",label:"Disapproved"}]},{id:"users",label:"Users",icon:g.Users,subSections:[{id:"all-users",label:"All Users"},{id:"admins",label:"Admins"},{id:"hosts",label:"Hosts"},{id:"tenants",label:"Tenants"},{id:"disabled",label:"Disabled Accounts"}]},{id:"bookings",label:"Bookings",icon:h.Calendar,subSections:[{id:"all-bookings",label:"All Bookings"},{id:"pending-payment",label:"Pending Payment"},{id:"active",label:"Active Bookings"},{id:"completed",label:"Completed"},{id:"cancelled",label:"Cancelled"}]},{id:"statistics",label:"Statistics",icon:j,subSections:[{id:"overview",label:"Overview"},{id:"revenue",label:"Revenue"},{id:"reports",label:"Reports"}]},{id:"reclamations",label:"Reclamations",icon:k,subSections:[{id:"all-reclamations",label:"All Reclamations"},{id:"open-reclamations",label:"Open"},{id:"in-review-reclamations",label:"In Review"},{id:"resolved-reclamations",label:"Resolved"},{id:"rejected-reclamations",label:"Rejected"}]}];return(0,b.jsx)("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 mb-6 overflow-visible",children:(0,b.jsx)("div",{className:"flex items-stretch divide-x divide-gray-200",children:m.map(c=>{let f=c.icon,g=c.subSections.some(b=>b.id===a),h=e===c.id;return(0,b.jsxs)("div",{className:"flex-1 relative overflow-visible",children:[(0,b.jsx)("button",{onClick:()=>{var a;e===(a=c.id)?i(null):i(a)},className:`w-full px-3 py-3 text-center transition-colors ${g?"bg-teal-600 text-white":"hover:bg-gray-50"}`,children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-1.5",children:[(0,b.jsx)(f,{className:`w-4 h-4 ${g?"text-white":"text-gray-600"}`}),(0,b.jsx)("span",{className:`text-xs font-semibold ${g?"text-white":"text-gray-900"}`,children:c.label}),(0,b.jsx)(l.ChevronDown,{className:`w-3 h-3 transition-transform ${h?"rotate-180":""} ${g?"text-white":"text-gray-600"}`})]})}),h&&(0,b.jsx)("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 shadow-xl z-[100] rounded-b-lg mt-1",children:(0,b.jsx)("div",{className:"py-1",children:c.subSections.map(c=>(0,b.jsx)("button",{onClick:()=>{d(c.id),i(null)},className:`w-full px-4 py-2.5 text-left text-xs transition-colors ${a===c.id?"bg-teal-50 text-teal-700 font-semibold":"text-gray-700 hover:bg-gray-50"}`,children:c.label},c.id))})})]},c.id)})})})}var n=a.i(72211),o=a.i(3130),p=a.i(40695),q=a.i(54161),r=a.i(65733),s=a.i(5522),t=a.i(46893),u=a.i(97895);let v=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("div",{className:"relative w-full overflow-auto",children:(0,b.jsx)("table",{ref:d,className:(0,u.cn)("w-full caption-bottom text-sm",a),...c})}));v.displayName="Table";let w=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("thead",{ref:d,className:(0,u.cn)("[&_tr]:border-b",a),...c}));w.displayName="TableHeader";let x=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("tbody",{ref:d,className:(0,u.cn)("[&_tr:last-child]:border-0",a),...c}));x.displayName="TableBody",c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("tfoot",{ref:d,className:(0,u.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...c})).displayName="TableFooter";let y=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("tr",{ref:d,className:(0,u.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...c}));y.displayName="TableRow";let z=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("th",{ref:d,className:(0,u.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...c}));z.displayName="TableHead";let A=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("td",{ref:d,className:(0,u.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...c}));A.displayName="TableCell",c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("caption",{ref:d,className:(0,u.cn)("mt-4 text-sm text-muted-foreground",a),...c})).displayName="TableCaption";var B=a.i(96221),C=a.i(24987),D=a.i(16201),E=a.i(62722);let F=(0,i.default)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),G=(0,i.default)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var H=a.i(77156),I=a.i(87532),J=a.i(13749),K=a.i(50522),L=a.i(33508),M=a.i(71987);let N=(0,i.default)("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),O=(0,i.default)("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);var P=a.i(87682);function Q({currentPage:a,totalPages:c,totalItems:d,itemsPerPage:e,onPageChange:f,onItemsPerPageChange:g,selectedCount:h=0}){return(0,b.jsxs)("div",{className:"flex items-center justify-between px-2 py-4 border-t",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[h>0&&(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:[h," of ",d," row(s) selected."]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Rows per page"}),(0,b.jsxs)(P.Select,{value:e.toString(),onValueChange:a=>g(Number(a)),children:[(0,b.jsx)(P.SelectTrigger,{className:"h-8 w-[70px]",children:(0,b.jsx)(P.SelectValue,{})}),(0,b.jsxs)(P.SelectContent,{children:[(0,b.jsx)(P.SelectItem,{value:"10",children:"10"}),(0,b.jsx)(P.SelectItem,{value:"20",children:"20"}),(0,b.jsx)(P.SelectItem,{value:"30",children:"30"}),(0,b.jsx)(P.SelectItem,{value:"50",children:"50"}),(0,b.jsx)(P.SelectItem,{value:"100",children:"100"})]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:["Page ",a," of ",c||1]}),(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)(p.Button,{variant:"outline",size:"sm",onClick:()=>f(1),disabled:1===a,className:"h-8 w-8 p-0",children:(0,b.jsx)(N,{className:"h-4 w-4"})}),(0,b.jsx)(p.Button,{variant:"outline",size:"sm",onClick:()=>f(a-1),disabled:1===a,className:"h-8 w-8 p-0",children:(0,b.jsx)(J.ChevronLeft,{className:"h-4 w-4"})}),(0,b.jsx)(p.Button,{variant:"outline",size:"sm",onClick:()=>f(a+1),disabled:a>=c,className:"h-8 w-8 p-0",children:(0,b.jsx)(K.ChevronRight,{className:"h-4 w-4"})}),(0,b.jsx)(p.Button,{variant:"outline",size:"sm",onClick:()=>f(c),disabled:a>=c,className:"h-8 w-8 p-0",children:(0,b.jsx)(O,{className:"h-4 w-4"})})]})]})]})}function R({filter:a}){let[d,e]=(0,c.useState)([]),[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)({}),[u,N]=(0,c.useState)(""),[O,P]=(0,c.useState)(1),[R,S]=(0,c.useState)(10),[T,U]=(0,c.useState)(!1),[V,W]=(0,c.useState)(!1),[X,Y]=(0,c.useState)(!1),[Z,$]=(0,c.useState)(!1),[_,aa]=(0,c.useState)(!1),[ab,ac]=(0,c.useState)(null),[ad,ae]=(0,c.useState)(""),[af,ag]=(0,c.useState)(!1),[ah,ai]=(0,c.useState)(0),[aj,ak]=(0,c.useState)(null),[al,am]=(0,c.useState)(!1);(0,c.useEffect)(()=>{an()},[]),(0,c.useEffect)(()=>{ao(),P(1)},[d,a,u]),(0,c.useEffect)(()=>{(async()=>{if(!_||!ab?.userId)return ak(null);am(!0);try{let a="string"==typeof ab.userId?parseInt(ab.userId):ab.userId;if(isNaN(a))return void ak(null);let b=await n.apiClient.users.getById(a);ak({firstName:b.firstName,lastName:b.lastName,email:b.email,phoneNumber:b.phoneNumber,profilePicture:b.profilePicture,walletAddress:b.walletAddress,score:b.score,rating:b.rating,enabled:b.enabled,roles:b.roles,birthday:b.birthday})}catch(a){ak(null)}finally{am(!1)}})()},[_,ab?.userId]),(0,c.useEffect)(()=>{if(!af||!ab?.propertyImages||0===ab.propertyImages.length)return;let a=a=>{"ArrowLeft"===a.key?ai(a=>0===a?ab.propertyImages.length-1:a-1):"ArrowRight"===a.key?ai(a=>a===ab.propertyImages.length-1?0:a+1):"Escape"===a.key&&ag(!1)};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[af,ab?.propertyImages?.length]);let an=async()=>{try{i(!0),k("");let a=await n.apiClient.properties.getAllForAdmin();if(!Array.isArray(a)){k("Invalid response format from server"),e([]);return}e(a)}catch(a){k(a.message||"Failed to load properties"),e([])}finally{i(!1)}},ao=()=>{let b=[...d];if("pending-approval"===a?b=b.filter(a=>"PENDING_APPROVAL"===a.status):"approved"===a?b=b.filter(a=>"APPROVED"===a.status):"suspended"===a?b=b.filter(a=>"SUSPENDED"===a.status):"disapproved"===a&&(b=b.filter(a=>"DISAPPROVED"===a.status)),u.trim()){let a=u.toLowerCase();b=b.filter(b=>b.title.toLowerCase().includes(a)||b.description.toLowerCase().includes(a)||b.address?.city?.toLowerCase().includes(a)||b.address?.address?.toLowerCase().includes(a)||b.type?.type?.toLowerCase().includes(a))}g(b)},ap=a=>{let c={DRAFT:{label:"Draft",className:"bg-gray-100 text-gray-800 border-gray-200"},PENDING_APPROVAL:{label:"Pending Approval",className:"bg-yellow-100 text-yellow-800 border-yellow-200"},APPROVED:{label:"Approved",className:"bg-green-100 text-green-800 border-green-200"},SUSPENDED:{label:"Suspended",className:"bg-red-100 text-red-800 border-red-200"},HIDDEN:{label:"Hidden",className:"bg-gray-100 text-gray-800 border-gray-200"},VISIBLE_ONLY_FOR_TENANTS:{label:"Visible for Tenants",className:"bg-blue-100 text-blue-800 border-blue-200"},PENDING_DELETE:{label:"Pending Delete",className:"bg-orange-100 text-orange-800 border-orange-200"},DISAPPROVED:{label:"Disapproved",className:"bg-red-100 text-red-800 border-red-200"},WAITING_FOR_UPDATE:{label:"Waiting for Update",className:"bg-yellow-100 text-yellow-800 border-yellow-200"}}[a]||{label:a,className:"bg-gray-100 text-gray-800"};return(0,b.jsx)(q.Badge,{className:c.className,children:c.label})},aq=async a=>{m(b=>({...b,[a]:!0})),k("");try{await n.apiClient.properties.approve(a,!0),await an(),U(!1),ac(null)}catch(a){k(a.message||"Failed to approve property")}finally{m(b=>({...b,[a]:!1}))}},ar=async a=>{m(b=>({...b,[a]:!0})),k("");try{await n.apiClient.properties.approve(a,!1),await an(),W(!1),ac(null)}catch(a){k(a.message||"Failed to reject property")}finally{m(b=>({...b,[a]:!1}))}},as=async()=>{if(!ab||!ad.trim())return void k("Please provide a reason for suspension");m(a=>({...a,[ab.id]:!0})),k("");try{await n.apiClient.properties.suspend(ab.id,ad),await an(),Y(!1),ac(null),ae("")}catch(a){k(a.message||"Failed to suspend property")}finally{m(a=>({...a,[ab.id]:!1}))}},at=async a=>{m(b=>({...b,[a]:!0})),k("");try{await n.apiClient.properties.revokeSuspension(a),await an(),$(!1),ac(null)}catch(a){k(a.message||"Failed to revoke suspension")}finally{m(b=>({...b,[a]:!1}))}},au=a=>a?a.startsWith("http://")||a.startsWith("https://")?a:a.startsWith("/uploads")?`http://localhost:8081${a}`:a.startsWith("/profile-pictures")||a.startsWith("/user-images")||a.startsWith("/")&&!a.startsWith("/uploads")?`http://localhost:8082${a}`:a:"/houses_placeholder.png";return h?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(B.Loader2,{className:"h-12 w-12 animate-spin text-teal-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Loading properties..."})]})}):j&&!h?(0,b.jsxs)(o.Card,{className:"p-6 text-center",children:[(0,b.jsx)("p",{className:"text-red-600 mb-4",children:j}),(0,b.jsx)(p.Button,{onClick:an,variant:"outline",children:"Try Again"})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(I.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,b.jsx)(s.Input,{placeholder:"Search by title, description, location, or type...",value:u,onChange:a=>N(a.target.value),className:"pl-10"})]}),(0,b.jsxs)("div",{className:"text-sm text-gray-600",children:[f.length," ",1===f.length?"property":"properties"]})]}),0===f.length?(0,b.jsx)(o.Card,{className:"p-12 text-center",children:(0,b.jsx)("p",{className:"text-gray-600 text-lg",children:u?"No properties found matching your search.":"No properties found."})}):(0,b.jsxs)(o.Card,{children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(v,{children:[(0,b.jsx)(w,{children:(0,b.jsxs)(y,{children:[(0,b.jsx)(z,{className:"w-[80px]",children:"Image"}),(0,b.jsx)(z,{children:"Title"}),(0,b.jsx)(z,{children:"Location"}),(0,b.jsx)(z,{children:"Type"}),(0,b.jsx)(z,{children:"Price"}),(0,b.jsx)(z,{children:"Capacity"}),(0,b.jsx)(z,{children:"Status"}),(0,b.jsx)(z,{className:"text-right",children:"Actions"})]})}),(0,b.jsx)(x,{children:f.slice((O-1)*R,O*R).map(c=>{let d=(a=>{if(!a.propertyImages||0===a.propertyImages.length)return null;let b=a.propertyImages.find(a=>a.cover);return b?b.url:a.propertyImages[0].url})(c),e=l[c.id];return(0,b.jsxs)(y,{className:"hover:bg-gray-50",children:[(0,b.jsx)(A,{children:(0,b.jsx)("div",{className:"relative w-16 h-16 bg-gray-200 rounded overflow-hidden",children:d?(0,b.jsx)(M.default,{src:au(d),alt:c.title,fill:!0,className:"object-cover",onError:a=>{a.target.src="/houses_placeholder.png"}}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:"No Image"})})}),(0,b.jsx)(A,{children:(0,b.jsxs)("div",{className:"max-w-[200px]",children:[(0,b.jsx)("p",{className:"font-semibold text-gray-900 truncate",children:c.title}),(0,b.jsx)("p",{className:"text-xs text-gray-500 line-clamp-2 mt-1",children:c.description})]})}),(0,b.jsx)(A,{children:(0,b.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,b.jsx)(C.MapPin,{className:"w-3 h-3 mr-1 flex-shrink-0"}),(0,b.jsxs)("span",{className:"truncate max-w-[150px]",children:[c.address?.city,", ",c.address?.address]})]})}),(0,b.jsx)(A,{children:(0,b.jsx)("span",{className:"text-sm text-gray-600",children:c.type?.type||"N/A"})}),(0,b.jsx)(A,{children:(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsxs)("span",{className:"font-semibold text-teal-600",children:[c.dailyPrice?.toFixed(4)||c.price?.toFixed(4)||"N/A"," ETH/day"]}),c.depositAmount&&c.depositAmount>0&&(0,b.jsxs)("span",{className:"text-xs font-semibold text-orange-600",children:["Deposit: ",c.depositAmount.toFixed(4)," ETH"]})]})}),(0,b.jsx)(A,{children:(0,b.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,b.jsxs)("div",{children:[c.capacity," guests"]}),c.numberOfBedrooms&&(0,b.jsxs)("div",{className:"text-xs text-gray-500",children:[c.numberOfBedrooms," bedrooms"]})]})}),(0,b.jsx)(A,{children:ap(c.status)}),(0,b.jsx)(A,{children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,b.jsx)(p.Button,{variant:"outline",size:"sm",onClick:()=>{ac(c),aa(!0)},children:(0,b.jsx)(H.Eye,{className:"w-4 h-4"})}),"PENDING_APPROVAL"===c.status&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p.Button,{variant:"default",size:"sm",onClick:()=>{ac(c),U(!0)},disabled:e,className:"bg-green-600 hover:bg-green-700",children:e?(0,b.jsx)(B.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(D.CheckCircle,{className:"w-4 h-4"})}),(0,b.jsx)(p.Button,{variant:"default",size:"sm",onClick:()=>{ac(c),W(!0)},disabled:e,className:"bg-red-600 hover:bg-red-700",children:e?(0,b.jsx)(B.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(E.XCircle,{className:"w-4 h-4"})})]}),"DISAPPROVED"===c.status&&(0,b.jsx)(p.Button,{variant:"default",size:"sm",onClick:()=>{ac(c),U(!0)},disabled:e,className:"bg-green-600 hover:bg-green-700",title:"Approve Property",children:e?(0,b.jsx)(B.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(D.CheckCircle,{className:"w-4 h-4"})}),("APPROVED"===c.status||"approved"===a)&&"APPROVED"===c.status&&(0,b.jsx)(p.Button,{variant:"default",size:"sm",onClick:()=>{ac(c),Y(!0)},disabled:e,className:"bg-orange-600 hover:bg-orange-700",title:"Suspend Property",children:e?(0,b.jsx)(B.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(F,{className:"w-4 h-4"})}),"SUSPENDED"===c.status&&(0,b.jsx)(p.Button,{variant:"default",size:"sm",onClick:()=>{ac(c),$(!0)},disabled:e,className:"bg-green-600 hover:bg-green-700",children:e?(0,b.jsx)(B.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(G,{className:"w-4 h-4"})})]})})]},c.id)})})]})}),f.length>0&&(0,b.jsx)(Q,{currentPage:O,totalPages:Math.ceil(f.length/R),totalItems:f.length,itemsPerPage:R,onPageChange:P,onItemsPerPageChange:a=>{S(a),P(1)}})]}),(0,b.jsx)(r.Dialog,{open:T,onOpenChange:U,children:(0,b.jsxs)(r.DialogContent,{children:[(0,b.jsxs)(r.DialogHeader,{children:[(0,b.jsx)(r.DialogTitle,{children:"Approve Property"}),(0,b.jsxs)(r.DialogDescription,{children:['Are you sure you want to approve "',ab?.title,'"? This will make it visible to all users.']})]}),(0,b.jsxs)("div",{className:"flex gap-2 justify-end mt-4",children:[(0,b.jsx)(p.Button,{variant:"outline",onClick:()=>U(!1),children:"Cancel"}),(0,b.jsx)(p.Button,{onClick:()=>ab&&aq(ab.id),className:"bg-green-600 hover:bg-green-700",children:"Approve"})]})]})}),(0,b.jsx)(r.Dialog,{open:V,onOpenChange:W,children:(0,b.jsxs)(r.DialogContent,{children:[(0,b.jsxs)(r.DialogHeader,{children:[(0,b.jsx)(r.DialogTitle,{children:"Reject Property"}),(0,b.jsxs)(r.DialogDescription,{children:['Are you sure you want to reject "',ab?.title,'"? This will mark it as disapproved.']})]}),(0,b.jsxs)("div",{className:"flex gap-2 justify-end mt-4",children:[(0,b.jsx)(p.Button,{variant:"outline",onClick:()=>W(!1),children:"Cancel"}),(0,b.jsx)(p.Button,{onClick:()=>ab&&ar(ab.id),className:"bg-red-600 hover:bg-red-700",children:"Reject"})]})]})}),(0,b.jsx)(r.Dialog,{open:X,onOpenChange:Y,children:(0,b.jsxs)(r.DialogContent,{children:[(0,b.jsxs)(r.DialogHeader,{children:[(0,b.jsx)(r.DialogTitle,{children:"Suspend Property"}),(0,b.jsxs)(r.DialogDescription,{children:['Please provide a reason for suspending "',ab?.title,'".']})]}),(0,b.jsx)(t.Textarea,{placeholder:"Reason for suspension...",value:ad,onChange:a=>ae(a.target.value),className:"mt-4",rows:4}),j&&(0,b.jsx)("p",{className:"text-red-600 text-sm mt-2",children:j}),(0,b.jsxs)("div",{className:"flex gap-2 justify-end mt-4",children:[(0,b.jsx)(p.Button,{variant:"outline",onClick:()=>{Y(!1),ae("")},children:"Cancel"}),(0,b.jsx)(p.Button,{onClick:as,disabled:!ad.trim(),className:"bg-orange-600 hover:bg-orange-700",children:"Suspend"})]})]})}),(0,b.jsx)(r.Dialog,{open:Z,onOpenChange:$,children:(0,b.jsxs)(r.DialogContent,{children:[(0,b.jsxs)(r.DialogHeader,{children:[(0,b.jsx)(r.DialogTitle,{children:"Revoke Suspension"}),(0,b.jsxs)(r.DialogDescription,{children:['Are you sure you want to revoke the suspension for "',ab?.title,'"? This will restore it to approved status.']})]}),(0,b.jsxs)("div",{className:"flex gap-2 justify-end mt-4",children:[(0,b.jsx)(p.Button,{variant:"outline",onClick:()=>$(!1),children:"Cancel"}),(0,b.jsx)(p.Button,{onClick:()=>ab&&at(ab.id),className:"bg-green-600 hover:bg-green-700",children:"Revoke Suspension"})]})]})}),(0,b.jsx)(r.Dialog,{open:_,onOpenChange:aa,children:(0,b.jsxs)(r.DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)(r.DialogHeader,{children:(0,b.jsx)(r.DialogTitle,{children:ab?.title})}),ab&&(0,b.jsxs)("div",{className:"space-y-4",children:[ab.propertyImages&&ab.propertyImages.length>0?(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:"font-semibold mb-3",children:["Images (",ab.propertyImages.length,")"]}),(0,b.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-3",children:ab.propertyImages.map((a,c)=>(0,b.jsxs)("div",{className:"relative h-32 bg-gray-200 rounded-lg overflow-hidden cursor-pointer group hover:opacity-80 transition-opacity",onClick:()=>{ai(c),ag(!0)},children:[(0,b.jsx)(M.default,{src:au(a.url),alt:`${ab.title} - Image ${c+1}`,fill:!0,className:"object-cover",sizes:"(max-width: 768px) 33vw, 25vw"}),a.cover&&(0,b.jsx)("div",{className:"absolute top-2 left-2 bg-teal-600 text-white text-xs px-2 py-1 rounded",children:"Cover"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-center justify-center",children:(0,b.jsx)(H.Eye,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},a.id||c))})]}):(0,b.jsx)("div",{className:"relative h-64 w-full bg-gray-200 rounded-lg overflow-hidden flex items-center justify-center",children:(0,b.jsx)("div",{className:"text-gray-400",children:"No Images Available"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold mb-2",children:"Status"}),ap(ab.status)]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold mb-2",children:"Description"}),(0,b.jsx)("p",{className:"text-gray-600",children:ab.description})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold mb-2",children:"Location"}),(0,b.jsxs)("p",{className:"text-gray-600",children:[ab.address?.address,", ",ab.address?.city]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold mb-2",children:"Price"}),(0,b.jsxs)("p",{className:"text-gray-600",children:[ab.dailyPrice||ab.price," ETH/day"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold mb-2",children:"Capacity"}),(0,b.jsxs)("p",{className:"text-gray-600",children:[ab.capacity," guests"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold mb-2",children:"Bedrooms"}),(0,b.jsx)("p",{className:"text-gray-600",children:ab.numberOfBedrooms||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold mb-2",children:"Type"}),(0,b.jsx)("p",{className:"text-gray-600",children:ab.type?.type||"N/A"})]})]}),(0,b.jsxs)("div",{className:"border-t pt-4 mt-4",children:[(0,b.jsx)("h4",{className:"font-semibold mb-3",children:"Host Information"}),al?(0,b.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,b.jsx)(B.Loader2,{className:"w-4 h-4 animate-spin"}),(0,b.jsx)("span",{className:"text-sm",children:"Loading host information..."})]}):aj?(0,b.jsxs)("div",{className:"space-y-4",children:[aj.profilePicture&&(0,b.jsx)("div",{className:"mb-4 flex justify-center",children:(0,b.jsx)("div",{className:"relative w-24 h-24 rounded-full overflow-hidden border-2 border-teal-200",children:(0,b.jsx)(M.default,{src:au(aj.profilePicture),alt:`${aj.firstName} ${aj.lastName}`,fill:!0,className:"object-cover",sizes:"96px"})})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Full Name"}),(0,b.jsxs)("p",{className:"text-gray-900 font-semibold",children:[aj.firstName," ",aj.lastName]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Email"}),(0,b.jsx)("p",{className:"text-gray-900",children:aj.email||"N/A"})]}),aj.phoneNumber&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Phone Number"}),(0,b.jsx)("p",{className:"text-gray-900",children:aj.phoneNumber})]}),aj.birthday&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Birthday"}),(0,b.jsx)("p",{className:"text-gray-900",children:new Date(aj.birthday).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t",children:[void 0!==aj.score&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Score"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-2xl font-bold text-teal-600",children:aj.score}),(0,b.jsx)("span",{className:"text-xs text-gray-500",children:"/ 100"})]})]}),void 0!==aj.rating&&null!==aj.rating&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Rating"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-2xl font-bold text-yellow-600",children:aj.rating.toFixed(1)}),(0,b.jsx)("span",{className:"text-xs text-gray-500",children:"/ 5.0"})]})]})]}),aj.walletAddress&&(0,b.jsxs)("div",{className:"pt-2 border-t",children:[(0,b.jsx)("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Wallet Address"}),(0,b.jsx)("p",{className:"text-gray-900 font-mono text-xs break-all",children:aj.walletAddress})]}),aj.roles&&aj.roles.length>0&&(0,b.jsxs)("div",{className:"pt-2 border-t",children:[(0,b.jsx)("h5",{className:"text-sm font-medium text-gray-500 mb-2",children:"Roles"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:aj.roles.map((a,c)=>(0,b.jsx)(q.Badge,{className:"ADMIN"===a?"bg-purple-100 text-purple-800 border-purple-200":"POSTER"===a||"HOST"===a?"bg-teal-100 text-teal-800 border-teal-200":"bg-gray-100 text-gray-800 border-gray-200",children:a},c))})]}),void 0!==aj.enabled&&(0,b.jsxs)("div",{className:"pt-2 border-t",children:[(0,b.jsx)("h5",{className:"text-sm font-medium text-gray-500 mb-2",children:"Account Status"}),(0,b.jsx)(q.Badge,{className:aj.enabled?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200",children:aj.enabled?"Enabled":"Disabled"})]})]}):(0,b.jsx)("p",{className:"text-gray-500 text-sm",children:"Host information not available"})]})]})]})}),af&&ab&&ab.propertyImages&&ab.propertyImages.length>0&&(0,b.jsxs)("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center",onClick:()=>ag(!1),children:[(0,b.jsx)("button",{onClick:()=>ag(!1),className:"absolute top-4 right-4 z-10 text-white hover:text-gray-300 transition-colors","aria-label":"Close",children:(0,b.jsx)(L.X,{className:"w-8 h-8"})}),ab.propertyImages.length>1&&(0,b.jsx)("button",{onClick:a=>{a.stopPropagation(),ai(a=>0===a?ab.propertyImages.length-1:a-1)},className:"absolute left-4 z-10 text-white hover:text-gray-300 transition-colors bg-black/50 rounded-full p-3","aria-label":"Previous image",children:(0,b.jsx)(J.ChevronLeft,{className:"w-8 h-8"})}),(0,b.jsxs)("div",{className:"relative max-w-7xl max-h-[90vh] mx-4",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)(M.default,{src:au(ab.propertyImages[ah]?.url),alt:`${ab.title} - Image ${ah+1}`,width:1200,height:800,className:"object-contain max-h-[90vh] w-auto",sizes:"90vw"}),ab.propertyImages.length>1&&(0,b.jsxs)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/60 text-white px-4 py-2 rounded-lg text-sm backdrop-blur-sm",children:[ah+1," / ",ab.propertyImages.length]})]}),ab.propertyImages.length>1&&(0,b.jsx)("button",{onClick:a=>{a.stopPropagation(),ai(a=>a===ab.propertyImages.length-1?0:a+1)},className:"absolute right-4 z-10 text-white hover:text-gray-300 transition-colors bg-black/50 rounded-full p-3","aria-label":"Next image",children:(0,b.jsx)(K.ChevronRight,{className:"w-8 h-8"})})]})]})}var S=a.i(3314),T=a.i(46842);let U=(0,i.default)("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),V=(0,i.default)("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),W=(0,i.default)("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function X({filter:a}){let[d,e]=(0,c.useState)([]),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(""),[m,t]=(0,c.useState)(""),[u,C]=(0,c.useState)({}),[F,G]=(0,c.useState)({open:!1,userId:null,action:null,message:""}),[H,J]=(0,c.useState)(1),[K,L]=(0,c.useState)(10);(0,c.useEffect)(()=>{N()},[]),(0,c.useEffect)(()=>{O(),J(1)},[d,a,m]);let N=async()=>{try{j(!0),l("");let a=await n.apiClient.users.getAllForAdmin();e(a)}catch(a){l(a.message||"Failed to load users")}finally{j(!1)}},O=()=>{let b=[...d];if("admins"===a?b=b.filter(a=>a.roles?.includes("ADMIN")):"hosts"===a?b=b.filter(a=>a.roles?.includes("HOST")||a.roles?.includes("POSTER")):"tenants"===a?b=b.filter(a=>a.roles?.includes("TENANT")||a.roles?.includes("USER")||!a.roles?.includes("ADMIN")&&!a.roles?.includes("HOST")&&!a.roles?.includes("POSTER")):"disabled"===a&&(b=b.filter(a=>!a.enabled)),m.trim()){let a=m.toLowerCase();b=b.filter(b=>b.firstName.toLowerCase().includes(a)||b.lastName.toLowerCase().includes(a)||b.email.toLowerCase().includes(a)||b.phoneNumber&&b.phoneNumber.toString().includes(a))}h(b)},P=async(a,b)=>{try{switch(C({...u,[a]:!0}),l(""),b){case"enable":await n.apiClient.users.enableUser(a);break;case"disable":await n.apiClient.users.disableUser(a);break;case"add-admin":await n.apiClient.users.addAdminRole(a);break;case"remove-admin":await n.apiClient.users.removeAdminRole(a);break;case"add-host":await n.apiClient.users.addHostRoleByAdmin(a);break;case"remove-host":await n.apiClient.users.removeHostRole(a)}await N(),G({open:!1,userId:null,action:null,message:""})}catch(a){l(a.message||a.errorData?.message||"Failed to perform action")}finally{C({...u,[a]:!1})}},R=(a,b,c)=>{G({open:!0,userId:a,action:b,message:c})};return i?(0,b.jsx)(o.Card,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,b.jsx)(B.Loader2,{className:"h-8 w-8 animate-spin text-teal-600"}),(0,b.jsx)("p",{className:"ml-3 text-gray-600",children:"Loading users..."})]})}):k?(0,b.jsx)(o.Card,{className:"p-6",children:(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("p",{className:"text-red-600 mb-4",children:k}),(0,b.jsx)(p.Button,{onClick:N,variant:"outline",children:"Try Again"})]})}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(o.Card,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(I.Search,{className:"w-5 h-5 text-gray-400"}),(0,b.jsx)(s.Input,{placeholder:"Search by name, email, or phone...",value:m,onChange:a=>t(a.target.value),className:"flex-1"})]})}),(0,b.jsxs)(o.Card,{children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(v,{children:[(0,b.jsx)(w,{children:(0,b.jsxs)(y,{children:[(0,b.jsx)(z,{children:"User"}),(0,b.jsx)(z,{children:"Email"}),(0,b.jsx)(z,{children:"Phone"}),(0,b.jsx)(z,{children:"Roles"}),(0,b.jsx)(z,{children:"Status"}),(0,b.jsx)(z,{children:"Wallet"}),(0,b.jsx)(z,{children:"Actions"})]})}),(0,b.jsx)(x,{children:0===g.length?(0,b.jsx)(y,{children:(0,b.jsx)(A,{colSpan:7,className:"text-center py-8 text-gray-500",children:"No users found"})}):g.slice((H-1)*K,H*K).map(c=>{var d;let e,g,h,i,j,k;return(0,b.jsxs)(y,{children:[(0,b.jsx)(A,{children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[c.profilePicture?(0,b.jsx)(M.default,{src:(e=c.profilePicture)?e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("/profile-pictures")||e.startsWith("/user-images")||e.startsWith("/")?`http://localhost:8082${e}`:e:"/placeholder.jpg",alt:`${c.firstName} ${c.lastName}`,width:40,height:40,className:"rounded-full object-cover"}):(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:(0,b.jsx)(T.User,{className:"w-5 h-5 text-gray-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-medium",children:[c.firstName," ",c.lastName]}),c.birthday&&(0,b.jsx)("p",{className:"text-sm text-gray-500",children:new Date(c.birthday).toLocaleDateString()})]})]})}),(0,b.jsx)(A,{children:(0,b.jsx)("p",{className:"text-sm",children:c.email})}),(0,b.jsx)(A,{children:c.phoneNumber?(0,b.jsx)("p",{className:"text-sm",children:c.phoneNumber}):(0,b.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,b.jsx)(A,{children:(d=c.roles)&&0!==d.length?(0,b.jsx)("div",{className:"flex gap-1 flex-wrap",children:d.map(a=>"ADMIN"===a?(0,b.jsxs)(q.Badge,{variant:"default",className:"bg-purple-600",children:[(0,b.jsx)(S.Shield,{className:"w-3 h-3 mr-1"}),"Admin"]},a):"HOST"===a||"POSTER"===a?(0,b.jsxs)(q.Badge,{variant:"default",className:"bg-blue-600",children:[(0,b.jsx)(f.Building2,{className:"w-3 h-3 mr-1"}),"Host"]},a):"TENANT"===a||"USER"===a?(0,b.jsxs)(q.Badge,{variant:"default",className:"bg-green-600",children:[(0,b.jsx)(T.User,{className:"w-3 h-3 mr-1"}),"Tenant"]},a):(0,b.jsx)(q.Badge,{variant:"outline",children:a},a))}):(0,b.jsx)(q.Badge,{variant:"outline",children:"No Role"})}),(0,b.jsx)(A,{children:c.enabled?(0,b.jsxs)(q.Badge,{variant:"default",className:"bg-green-600",children:[(0,b.jsx)(D.CheckCircle,{className:"w-3 h-3 mr-1"}),"Active"]}):(0,b.jsxs)(q.Badge,{variant:"default",className:"bg-red-600",children:[(0,b.jsx)(E.XCircle,{className:"w-3 h-3 mr-1"}),"Disabled"]})}),(0,b.jsx)(A,{children:c.walletAddress?(0,b.jsxs)("p",{className:"text-xs font-mono text-gray-600",children:[c.walletAddress.slice(0,6),"...",c.walletAddress.slice(-4)]}):(0,b.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,b.jsx)(A,{children:(0,b.jsx)("div",{className:"flex gap-2 flex-wrap",children:(g=[],h=u[c.id]||!1,i=c.roles?.includes("ADMIN"),j=c.roles?.includes("HOST")||c.roles?.includes("POSTER"),k=c.roles?.includes("TENANT")||c.roles?.includes("USER")||!i&&!j,c.enabled?g.push((0,b.jsxs)(p.Button,{size:"sm",variant:"outline",onClick:()=>R(c.id,"disable",`Are you sure you want to disable ${c.firstName} ${c.lastName}?`),disabled:h,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[(0,b.jsx)(V,{className:"w-3 h-3 mr-1"}),"Disable"]},"disable")):g.push((0,b.jsxs)(p.Button,{size:"sm",variant:"outline",onClick:()=>R(c.id,"enable",`Are you sure you want to enable ${c.firstName} ${c.lastName}?`),disabled:h,className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:[(0,b.jsx)(U,{className:"w-3 h-3 mr-1"}),"Enable"]},"enable")),("admins"===a||"all-users"===a)&&(i?g.push((0,b.jsxs)(p.Button,{size:"sm",variant:"outline",onClick:()=>R(c.id,"remove-admin",`Are you sure you want to remove admin role from ${c.firstName} ${c.lastName}?`),disabled:h,className:"text-purple-600 hover:text-purple-700 hover:bg-purple-50",children:[(0,b.jsx)(W,{className:"w-3 h-3 mr-1"}),"Remove Admin"]},"remove-admin")):g.push((0,b.jsxs)(p.Button,{size:"sm",variant:"outline",onClick:()=>R(c.id,"add-admin",`Are you sure you want to make ${c.firstName} ${c.lastName} an admin?`),disabled:h,className:"text-purple-600 hover:text-purple-700 hover:bg-purple-50",children:[(0,b.jsx)(S.Shield,{className:"w-3 h-3 mr-1"}),"Make Admin"]},"add-admin"))),("hosts"===a||"tenants"===a||"all-users"===a)&&(j?g.push((0,b.jsxs)(p.Button,{size:"sm",variant:"outline",onClick:()=>R(c.id,"remove-host",`Are you sure you want to remove host role from ${c.firstName} ${c.lastName}?`),disabled:h,className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:[(0,b.jsx)(W,{className:"w-3 h-3 mr-1"}),"Remove Host"]},"remove-host")):k&&g.push((0,b.jsxs)(p.Button,{size:"sm",variant:"outline",onClick:()=>R(c.id,"add-host",`Are you sure you want to make ${c.firstName} ${c.lastName} a host?`),disabled:h,className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:[(0,b.jsx)(f.Building2,{className:"w-3 h-3 mr-1"}),"Make Host"]},"add-host"))),g)})})]},c.id)})})]})}),g.length>0&&(0,b.jsx)(Q,{currentPage:H,totalPages:Math.ceil(g.length/K),totalItems:g.length,itemsPerPage:K,onPageChange:J,onItemsPerPageChange:a=>{L(a),J(1)}})]}),(0,b.jsx)(r.Dialog,{open:F.open,onOpenChange:a=>!a&&G({open:!1,userId:null,action:null,message:""}),children:(0,b.jsxs)(r.DialogContent,{children:[(0,b.jsxs)(r.DialogHeader,{children:[(0,b.jsx)(r.DialogTitle,{children:"Confirm Action"}),(0,b.jsx)(r.DialogDescription,{children:F.message})]}),(0,b.jsxs)(r.DialogFooter,{children:[(0,b.jsx)(p.Button,{variant:"outline",onClick:()=>G({open:!1,userId:null,action:null,message:""}),children:"Cancel"}),(0,b.jsx)(p.Button,{onClick:()=>F.userId&&F.action&&P(F.userId,F.action),disabled:u[F.userId||0]||!1,children:u[F.userId||0]?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(B.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):"Confirm"})]})]})})]})}function Y({filter:a}){let[d,e]=(0,c.useState)([]),[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[t,u]=(0,c.useState)(!1),[C,D]=(0,c.useState)(null),[E,F]=(0,c.useState)(1),[G,J]=(0,c.useState)(10);(0,c.useEffect)(()=>{K()},[]),(0,c.useEffect)(()=>{L(),F(1)},[d,a,l]);let K=async()=>{try{i(!0),k("");let a=await n.apiClient.bookings.getAllForAdmin();e(a)}catch(a){k(a.message||"Failed to load bookings")}finally{i(!1)}},L=()=>{let b=[...d];if("pending-payment"===a?b=b.filter(a=>"PENDING_PAYMENT"===a.status):"active"===a?b=b.filter(a=>"CONFIRMED"===a.status||"TENANT_CHECKED_OUT"===a.status):"completed"===a?b=b.filter(a=>"COMPLETED"===a.status):"cancelled"===a&&(b=b.filter(a=>"CANCELLED"===a.status)),l.trim()){let a=l.toLowerCase();b=b.filter(b=>b.propertyTitle.toLowerCase().includes(a)||b.tenantName.toLowerCase().includes(a)||b.hostName.toLowerCase().includes(a)||b.propertyAddress.toLowerCase().includes(a)||b.id.toString().includes(a))}g(b)},M=a=>{let c={PENDING_PAYMENT:{label:"Pending Payment",className:"bg-yellow-600"},PENDING_NEGOTIATION:{label:"Pending Negotiation",className:"bg-orange-600"},CONFIRMED:{label:"Confirmed",className:"bg-blue-600"},TENANT_CHECKED_OUT:{label:"Checked Out",className:"bg-purple-600"},COMPLETED:{label:"Completed",className:"bg-green-600"},CANCELLED:{label:"Cancelled",className:"bg-red-600"},DISPUTED:{label:"Disputed",className:"bg-pink-600"}}[a]||{label:a,className:"bg-gray-600"};return(0,b.jsx)(q.Badge,{variant:"default",className:c.className,children:c.label})},N=a=>a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-",O=a=>null===a?"-":`$${a.toFixed(2)}`;return h?(0,b.jsx)(o.Card,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,b.jsx)(B.Loader2,{className:"h-8 w-8 animate-spin text-teal-600"}),(0,b.jsx)("p",{className:"ml-3 text-gray-600",children:"Loading bookings..."})]})}):j?(0,b.jsx)(o.Card,{className:"p-6",children:(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("p",{className:"text-red-600 mb-4",children:j}),(0,b.jsx)(p.Button,{onClick:K,variant:"outline",children:"Try Again"})]})}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(o.Card,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(I.Search,{className:"w-5 h-5 text-gray-400"}),(0,b.jsx)(s.Input,{placeholder:"Search by property, tenant, host, or booking ID...",value:l,onChange:a=>m(a.target.value),className:"flex-1"})]})}),(0,b.jsxs)(o.Card,{children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(v,{children:[(0,b.jsx)(w,{children:(0,b.jsxs)(y,{children:[(0,b.jsx)(z,{children:"Property"}),(0,b.jsx)(z,{children:"Tenant"}),(0,b.jsx)(z,{children:"Host"}),(0,b.jsx)(z,{children:"Dates"}),(0,b.jsx)(z,{children:"Nights"}),(0,b.jsx)(z,{children:"Price"}),(0,b.jsx)(z,{children:"Status"}),(0,b.jsx)(z,{children:"Actions"})]})}),(0,b.jsx)(x,{children:0===f.length?(0,b.jsx)(y,{children:(0,b.jsx)(A,{colSpan:8,className:"text-center py-8 text-gray-500",children:"No bookings found"})}):f.slice((E-1)*G,E*G).map(a=>(0,b.jsxs)(y,{children:[(0,b.jsx)(A,{children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-sm",children:a.propertyTitle}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:a.propertyAddress})]})}),(0,b.jsx)(A,{children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:a.tenantName}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:a.tenantEmail})]})}),(0,b.jsx)(A,{children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:a.hostName}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:a.hostEmail})]})}),(0,b.jsx)(A,{children:(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("p",{className:"font-medium",children:N(a.checkInDate)}),(0,b.jsxs)("p",{className:"text-gray-500",children:["to ",N(a.checkOutDate)]})]})}),(0,b.jsx)(A,{children:(0,b.jsxs)("p",{className:"text-sm",children:[a.numberOfNights||"-"," nights"]})}),(0,b.jsx)(A,{children:(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("p",{className:"font-medium",children:O(a.totalPrice)}),a.longStayDiscountPercent&&(0,b.jsxs)("p",{className:"text-xs text-green-600",children:[a.longStayDiscountPercent,"% discount"]}),a.requestedNegotiationPercent&&(0,b.jsxs)("p",{className:"text-xs text-orange-600",children:[a.requestedNegotiationPercent,"% negotiation"]})]})}),(0,b.jsx)(A,{children:M(a.status)}),(0,b.jsx)(A,{children:(0,b.jsxs)(p.Button,{size:"sm",variant:"outline",onClick:()=>{D(a),u(!0)},children:[(0,b.jsx)(H.Eye,{className:"w-3 h-3 mr-1"}),"View"]})})]},a.id))})]})}),f.length>0&&(0,b.jsx)(Q,{currentPage:E,totalPages:Math.ceil(f.length/G),totalItems:f.length,itemsPerPage:G,onPageChange:F,onItemsPerPageChange:a=>{J(a),F(1)}})]}),(0,b.jsx)(r.Dialog,{open:t,onOpenChange:u,children:(0,b.jsxs)(r.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(r.DialogHeader,{children:[(0,b.jsxs)(r.DialogTitle,{children:["Booking Details - #",C?.id]}),(0,b.jsx)(r.DialogDescription,{children:"Complete information about this booking"})]}),C&&(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Property"}),(0,b.jsx)("p",{className:"text-sm font-semibold",children:C.propertyTitle}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:C.propertyAddress})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Status"}),M(C.status)]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Tenant"}),(0,b.jsx)("p",{className:"text-sm",children:C.tenantName}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:C.tenantEmail})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Host"}),(0,b.jsx)("p",{className:"text-sm",children:C.hostName}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:C.hostEmail})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Check-in"}),(0,b.jsx)("p",{className:"text-sm",children:N(C.checkInDate)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Check-out"}),(0,b.jsx)("p",{className:"text-sm",children:N(C.checkOutDate)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Nights"}),(0,b.jsx)("p",{className:"text-sm",children:C.numberOfNights||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Price"}),(0,b.jsx)("p",{className:"text-sm font-semibold",children:O(C.totalPrice)})]}),C.longStayDiscountPercent&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Long Stay Discount"}),(0,b.jsxs)("p",{className:"text-sm text-green-600",children:[C.longStayDiscountPercent,"%"]})]}),C.requestedNegotiationPercent&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Negotiation"}),(0,b.jsxs)("p",{className:"text-sm text-orange-600",children:[C.requestedNegotiationPercent,"%"]}),C.negotiationExpiresAt&&(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["Expires: ",N(C.negotiationExpiresAt)]})]}),C.onChainTxHash&&(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Transaction Hash"}),(0,b.jsx)("p",{className:"text-xs font-mono break-all",children:C.onChainTxHash})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Created At"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:N(C.createdAt)})]}),C.updatedAt&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Updated At"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:N(C.updatedAt)})]})]})})]})})]})}var Z=a.i(92e3),$=a.i(41710),_=a.i(90166);let aa=(0,i.default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),ab=(0,i.default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),ac=(0,i.default)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var ad=a.i(23292);let ae=process.env.NEXT_PUBLIC_RECLAMATION_API_BASE_URL||"http://localhost:8091";function af({filter:a}){let d,e,[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(""),[u,C]=(0,c.useState)({}),[F,G]=(0,c.useState)(""),[J,K]=(0,c.useState)(1),[L]=(0,c.useState)(10),[M,N]=(0,c.useState)("ALL"),[O,Q]=(0,c.useState)("ALL"),[R,S]=(0,c.useState)("ALL"),[U,V]=(0,c.useState)(!1),[W,X]=(0,c.useState)(!1),[Y,af]=(0,c.useState)(!1),[ag,ah]=(0,c.useState)(!1),[ai,aj]=(0,c.useState)(null),[ak,al]=(0,c.useState)(""),[am,an]=(0,c.useState)(""),[ao,ap]=(0,c.useState)("LOW"),[aq,ar]=(0,c.useState)([]),[as,at]=(0,c.useState)(!1);(0,c.useEffect)(()=>{au()},[a]),(0,c.useEffect)(()=>{av()},[f,F,a,M,O,R]);let au=async()=>{try{k(!0),m("");let b=[];b="open-reclamations"===a?await n.apiClient.adminReclamations.getByStatus("OPEN"):"in-review-reclamations"===a?await n.apiClient.adminReclamations.getByStatus("IN_REVIEW"):"resolved-reclamations"===a?await n.apiClient.adminReclamations.getByStatus("RESOLVED"):"rejected-reclamations"===a?await n.apiClient.adminReclamations.getByStatus("REJECTED"):await n.apiClient.adminReclamations.getAll(),g(b)}catch(a){m(a.message||"Failed to fetch reclamations"),ad.toast.error("Failed to load reclamations")}finally{k(!1)}},av=()=>{let a=[...f];F&&(a=a.filter(a=>a.id.toString().includes(F)||a.bookingId.toString().includes(F)||a.type.toLowerCase().includes(F.toLowerCase())||a.title&&a.title.toLowerCase().includes(F.toLowerCase()))),"ALL"!==M&&(a=a.filter(a=>a.complainantRole===M)),"ALL"!==O&&(a=a.filter(a=>a.severity===O)),"ALL"!==R&&(a=a.filter(a=>a.type===R)),i(a),K(1)},aw=async a=>{aj(a),V(!0),at(!0),ar([]);try{console.log("ðŸ“¸ Loading attachments for reclamation:",a.id);let b=await n.apiClient.adminReclamations.getAttachments(a.id);console.log("ðŸ“¸ Attachments loaded:",b),ar(b||[])}catch(a){console.error("âŒ Failed to load attachments:",a),ad.toast.error("Failed to load images: "+(a.message||"Unknown error")),ar([])}finally{at(!1)}},ax=async a=>{try{C({...u,[`review-${a}`]:!0}),await n.apiClient.adminReclamations.review(a),ad.toast.success("Reclamation moved to review"),await au()}catch(a){ad.toast.error(a.message||"Failed to review reclamation")}finally{C({...u,[`review-${a}`]:!1})}},ay=async()=>{if(ai)try{C({...u,[`severity-${ai.id}`]:!0}),await n.apiClient.adminReclamations.updateSeverity(ai.id,ao),ad.toast.success("Severity updated successfully"),ah(!1),await au()}catch(a){ad.toast.error(a.message||"Failed to update severity")}finally{C({...u,[`severity-${ai.id}`]:!1})}},az=async a=>{if(ai)try{C({...u,[`resolve-${ai.id}`]:!0}),await n.apiClient.adminReclamations.resolve(ai.id,ak,a),ad.toast.success(a?"Reclamation resolved successfully":"Reclamation rejected"),X(!1),al(""),await au()}catch(a){ad.toast.error(a.message||"Failed to resolve reclamation")}finally{C({...u,[`resolve-${ai.id}`]:!1})}},aA=async()=>{if(ai)try{C({...u,[`reject-${ai.id}`]:!0}),await n.apiClient.adminReclamations.reject(ai.id,am),ad.toast.success("Reclamation rejected"),af(!1),an(""),await au()}catch(a){ad.toast.error(a.message||"Failed to reject reclamation")}finally{C({...u,[`reject-${ai.id}`]:!1})}},aB=a=>(0,b.jsx)(q.Badge,{className:{OPEN:"bg-blue-100 text-blue-800",IN_REVIEW:"bg-yellow-100 text-yellow-800",RESOLVED:"bg-green-100 text-green-800",REJECTED:"bg-red-100 text-red-800"}[a]||"bg-gray-100 text-gray-800",children:a.replace("_"," ")}),aC=a=>(0,b.jsx)(q.Badge,{className:{LOW:"bg-green-100 text-green-800",MEDIUM:"bg-yellow-100 text-yellow-800",HIGH:"bg-orange-100 text-orange-800",CRITICAL:"bg-red-100 text-red-800"}[a]||"bg-gray-100 text-gray-800",children:a}),aD=a=>({ACCESS_ISSUE:"Access Issue",NOT_AS_DESCRIBED:"Not As Described",CLEANLINESS:"Cleanliness",SAFETY_HEALTH:"Safety & Health",PROPERTY_DAMAGE:"Property Damage",EXTRA_CLEANING:"Extra Cleaning",HOUSE_RULE_VIOLATION:"House Rule Violation",UNAUTHORIZED_GUESTS_OR_STAY:"Unauthorized Guests/Stay"})[a]||a,aE=(a,b,c,d,e)=>{if("GUEST"===c)switch(a){case"ACCESS_ISSUE":case"NOT_AS_DESCRIBED":return{refund:.9*(d||0)+(e||0),penaltyPoints:10};case"CLEANLINESS":let f={LOW:.05*(d||0),MEDIUM:.125*(d||0),HIGH:.325*(d||0),CRITICAL:.5*(d||0)};return{refund:({LOW:.9*f.LOW,MEDIUM:.9*f.MEDIUM,HIGH:.9*f.HIGH,CRITICAL:.9*f.CRITICAL})[b]||0,penaltyPoints:({LOW:0,MEDIUM:2,HIGH:5,CRITICAL:10})[b]||0};case"SAFETY_HEALTH":let g={LOW:.1*(d||0),MEDIUM:.3*(d||0),HIGH:.7*(d||0),CRITICAL:d||0};return{refund:({LOW:.9*g.LOW,MEDIUM:.9*g.MEDIUM,HIGH:.9*g.HIGH,CRITICAL:.9*g.CRITICAL})[b]||0,penaltyPoints:({LOW:3,MEDIUM:7,HIGH:15,CRITICAL:25})[b]||0};default:return{refund:0,penaltyPoints:0}}switch(a){case"PROPERTY_DAMAGE":return{refund:({LOW:.075*(e||0),MEDIUM:.3*(e||0),HIGH:.7*(e||0),CRITICAL:e||0})[b]||0,penaltyPoints:({LOW:2,MEDIUM:5,HIGH:10,CRITICAL:15})[b]||0};case"EXTRA_CLEANING":return{refund:({LOW:.075*(e||0),MEDIUM:.2*(e||0),HIGH:.4*(e||0),CRITICAL:.7*(e||0)})[b]||0,penaltyPoints:({LOW:1,MEDIUM:3,HIGH:5,CRITICAL:8})[b]||0};case"HOUSE_RULE_VIOLATION":return{refund:({LOW:0,MEDIUM:.15*(e||0),HIGH:.5*(e||0),CRITICAL:e||0})[b]||0,penaltyPoints:({LOW:2,MEDIUM:5,HIGH:10,CRITICAL:15})[b]||0};case"UNAUTHORIZED_GUESTS_OR_STAY":return{refund:({LOW:.1*(e||0),MEDIUM:.325*(e||0),HIGH:.7*(e||0),CRITICAL:e||0})[b]||0,penaltyPoints:({LOW:3,MEDIUM:7,HIGH:12,CRITICAL:20})[b]||0};default:return{refund:0,penaltyPoints:0}}},aF=Math.ceil(h.length/L),aG=(J-1)*L,aH=aG+L,aI=h.slice(aG,aH);return j?(0,b.jsx)(o.Card,{className:"p-6",children:(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)(B.Loader2,{className:"h-8 w-8 animate-spin text-teal-600"})})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(o.Card,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Reclamations Management"}),(0,b.jsx)("div",{className:"flex items-center gap-4",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(I.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,b.jsx)(s.Input,{placeholder:"Search reclamations...",value:F,onChange:a=>G(a.target.value),className:"pl-10 w-64"})]})})]}),(0,b.jsxs)("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Filter by Role"}),(0,b.jsxs)(P.Select,{value:M,onValueChange:a=>N(a),children:[(0,b.jsx)(P.SelectTrigger,{children:(0,b.jsx)(P.SelectValue,{})}),(0,b.jsxs)(P.SelectContent,{children:[(0,b.jsx)(P.SelectItem,{value:"ALL",children:"All Roles"}),(0,b.jsx)(P.SelectItem,{value:"GUEST",children:"Guest Complaints"}),(0,b.jsx)(P.SelectItem,{value:"HOST",children:"Host Complaints"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Filter by Severity"}),(0,b.jsxs)(P.Select,{value:O,onValueChange:a=>Q(a),children:[(0,b.jsx)(P.SelectTrigger,{children:(0,b.jsx)(P.SelectValue,{})}),(0,b.jsxs)(P.SelectContent,{children:[(0,b.jsx)(P.SelectItem,{value:"ALL",children:"All Severities"}),(0,b.jsx)(P.SelectItem,{value:"LOW",children:"Low"}),(0,b.jsx)(P.SelectItem,{value:"MEDIUM",children:"Medium"}),(0,b.jsx)(P.SelectItem,{value:"HIGH",children:"High"}),(0,b.jsx)(P.SelectItem,{value:"CRITICAL",children:"Critical"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Filter by Type"}),(0,b.jsxs)(P.Select,{value:R,onValueChange:S,children:[(0,b.jsx)(P.SelectTrigger,{children:(0,b.jsx)(P.SelectValue,{})}),(0,b.jsxs)(P.SelectContent,{children:[(0,b.jsx)(P.SelectItem,{value:"ALL",children:"All Types"}),["ACCESS_ISSUE","NOT_AS_DESCRIBED","CLEANLINESS","SAFETY_HEALTH","PROPERTY_DAMAGE","EXTRA_CLEANING","HOUSE_RULE_VIOLATION","UNAUTHORIZED_GUESTS_OR_STAY"].map(a=>(0,b.jsx)(P.SelectItem,{value:a,children:aD(a)},a))]})]})]}),(0,b.jsx)("div",{className:"flex items-end",children:(0,b.jsxs)(p.Button,{variant:"outline",onClick:()=>{N("ALL"),Q("ALL"),S("ALL"),G("")},className:"w-full",children:[(0,b.jsx)(aa,{className:"w-4 h-4 mr-2"}),"Clear Filters"]})})]}),l&&(0,b.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:l}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(v,{children:[(0,b.jsx)(w,{children:(0,b.jsxs)(y,{children:[(0,b.jsx)(z,{children:"ID"}),(0,b.jsx)(z,{children:"Booking ID"}),(0,b.jsx)(z,{children:"Type"}),(0,b.jsx)(z,{children:"Complainant"}),(0,b.jsx)(z,{children:"Status"}),(0,b.jsx)(z,{children:"Severity"}),(0,b.jsx)(z,{children:"Refund"}),(0,b.jsx)(z,{children:"Penalty"}),(0,b.jsx)(z,{children:"Created"}),(0,b.jsx)(z,{children:"Actions"})]})}),(0,b.jsx)(x,{children:0===aI.length?(0,b.jsx)(y,{children:(0,b.jsx)(A,{colSpan:10,className:"text-center py-8 text-gray-500",children:"No reclamations found"})}):aI.map(a=>(0,b.jsxs)(y,{children:[(0,b.jsx)(A,{className:"font-medium",children:a.id}),(0,b.jsx)(A,{children:a.bookingId}),(0,b.jsx)(A,{children:(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)("span",{className:"text-sm font-medium",children:aD(a.type)}),(0,b.jsx)(q.Badge,{variant:"outline",className:`text-xs ${"GUEST"===a.complainantRole?"border-blue-500 text-blue-700 bg-blue-50":"border-purple-500 text-purple-700 bg-purple-50"}`,children:a.complainantRole})]})}),(0,b.jsx)(A,{children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(T.User,{className:"w-4 h-4 text-gray-400"}),(0,b.jsxs)("span",{className:"text-sm",children:["#",a.complainantId]})]})}),(0,b.jsx)(A,{children:aB(a.status)}),(0,b.jsx)(A,{children:aC(a.severity)}),(0,b.jsx)(A,{children:a.refundAmount?(0,b.jsxs)("div",{className:"flex items-center gap-1 text-green-600 font-semibold",children:[(0,b.jsx)(_.DollarSign,{className:"w-4 h-4"}),(0,b.jsxs)("span",{children:[a.refundAmount.toFixed(2)," MAD"]})]}):"OPEN"===a.status||"IN_REVIEW"===a.status?(0,b.jsxs)("div",{className:"flex items-center gap-1 text-gray-500 text-xs",children:[(0,b.jsx)(ab,{className:"w-3 h-3"}),(0,b.jsx)("span",{children:"Calculated on resolve"})]}):(0,b.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,b.jsx)(A,{children:void 0!==a.penaltyPoints&&null!==a.penaltyPoints?(0,b.jsxs)(q.Badge,{variant:"outline",className:a.penaltyPoints>=15?"border-red-500 text-red-700 bg-red-50":a.penaltyPoints>=10?"border-orange-500 text-orange-700 bg-orange-50":"",children:[a.penaltyPoints," pts"]}):"OPEN"===a.status||"IN_REVIEW"===a.status?(0,b.jsxs)("div",{className:"flex items-center gap-1 text-gray-500 text-xs",children:[(0,b.jsx)(ab,{className:"w-3 h-3"}),(0,b.jsx)("span",{children:"Calculated on resolve"})]}):(0,b.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,b.jsx)(A,{children:(0,b.jsx)("span",{className:"text-sm text-gray-600",children:new Date(a.createdAt).toLocaleDateString()})}),(0,b.jsx)(A,{children:(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,b.jsx)(p.Button,{variant:"ghost",size:"sm",onClick:()=>aw(a),title:"View Details",children:(0,b.jsx)(H.Eye,{className:"w-4 h-4"})}),"OPEN"===a.status&&(0,b.jsxs)(b.Fragment,{children:["ACCESS_ISSUE"!==a.type&&"NOT_AS_DESCRIBED"!==a.type&&(0,b.jsxs)(p.Button,{variant:"outline",size:"sm",onClick:()=>{aj(a),ah(!0),ap(a.severity)},disabled:u[`severity-${a.id}`],className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50 border-orange-300",title:"Update Severity",children:[u[`severity-${a.id}`]?(0,b.jsx)(B.Loader2,{className:"w-4 h-4 animate-spin mr-1"}):(0,b.jsx)(Z.AlertCircle,{className:"w-4 h-4 mr-1"}),(0,b.jsx)("span",{className:"text-xs",children:"Severity"})]}),(0,b.jsxs)(p.Button,{variant:"outline",size:"sm",onClick:()=>ax(a.id),disabled:u[`review-${a.id}`],className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 border-blue-300",title:"Move to Review (IN_REVIEW)",children:[u[`review-${a.id}`]?(0,b.jsx)(B.Loader2,{className:"w-4 h-4 animate-spin mr-1"}):(0,b.jsx)($.Clock,{className:"w-4 h-4 mr-1"}),(0,b.jsx)("span",{className:"text-xs",children:"Review"})]})]}),"IN_REVIEW"===a.status&&(0,b.jsxs)(b.Fragment,{children:["ACCESS_ISSUE"!==a.type&&"NOT_AS_DESCRIBED"!==a.type&&(0,b.jsxs)(p.Button,{variant:"outline",size:"sm",onClick:()=>{aj(a),ah(!0),ap(a.severity)},disabled:u[`severity-${a.id}`],className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50 border-orange-300",title:"Update Severity",children:[u[`severity-${a.id}`]?(0,b.jsx)(B.Loader2,{className:"w-4 h-4 animate-spin mr-1"}):(0,b.jsx)(Z.AlertCircle,{className:"w-4 h-4 mr-1"}),(0,b.jsx)("span",{className:"text-xs",children:"Severity"})]}),(0,b.jsxs)(p.Button,{variant:"outline",size:"sm",onClick:()=>{aj(a),X(!0),al("")},disabled:u[`resolve-${a.id}`],className:"text-green-600 hover:text-green-700 hover:bg-green-50 border-green-300",title:"Approve Reclamation",children:[(0,b.jsx)(D.CheckCircle,{className:"w-4 h-4 mr-1"}),(0,b.jsx)("span",{className:"text-xs",children:"Approve"})]}),(0,b.jsxs)(p.Button,{variant:"outline",size:"sm",onClick:()=>{aj(a),af(!0),an("")},disabled:u[`reject-${a.id}`],className:"text-red-600 hover:text-red-700 hover:bg-red-50 border-red-300",title:"Reject Reclamation",children:[(0,b.jsx)(E.XCircle,{className:"w-4 h-4 mr-1"}),(0,b.jsx)("span",{className:"text-xs",children:"Reject"})]})]})]})})]},a.id))})]})}),aF>1&&(0,b.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",aG+1," to ",Math.min(aH,h.length)," of"," ",h.length," reclamations"]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(p.Button,{variant:"outline",size:"sm",onClick:()=>K(a=>Math.max(1,a-1)),disabled:1===J,children:"Previous"}),(0,b.jsx)(p.Button,{variant:"outline",size:"sm",onClick:()=>K(a=>Math.min(aF,a+1)),disabled:J===aF,children:"Next"})]})]})]}),(0,b.jsx)(r.Dialog,{open:U,onOpenChange:a=>{V(a),a||ar([])},children:(0,b.jsxs)(r.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)(r.DialogHeader,{children:(0,b.jsx)(r.DialogTitle,{children:"Reclamation Details"})}),ai&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"ID"}),(0,b.jsx)("p",{className:"text-sm text-gray-900",children:ai.id})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Booking ID"}),(0,b.jsx)("p",{className:"text-sm text-gray-900",children:ai.bookingId})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Type"}),(0,b.jsx)("p",{className:"text-sm text-gray-900",children:aD(ai.type)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),(0,b.jsx)("div",{children:aB(ai.status)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Severity"}),(0,b.jsx)("div",{children:aC(ai.severity)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Complainant"}),(0,b.jsxs)("p",{className:"text-sm text-gray-900",children:[ai.complainantRole," (#",ai.complainantId,")"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Target User"}),(0,b.jsxs)("p",{className:"text-sm text-gray-900",children:["#",ai.targetUserId]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Created At"}),(0,b.jsx)("p",{className:"text-sm text-gray-900",children:new Date(ai.createdAt).toLocaleString()})]})]}),ai.title&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Title"}),(0,b.jsx)("p",{className:"text-sm text-gray-900",children:ai.title})]}),ai.description&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Description"}),(0,b.jsx)("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:ai.description})]}),("OPEN"===ai.status||"IN_REVIEW"===ai.status)&&(0,b.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-2 mb-2",children:[(0,b.jsx)(ab,{className:"w-5 h-5 text-blue-600 mt-0.5"}),(0,b.jsx)("label",{className:"text-sm font-semibold text-blue-900",children:"Expected Penalty (if approved)"})]}),(d=aE(ai.type,ai.severity,ai.complainantRole,void 0,void 0),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-xs text-blue-700",children:"Expected Refund:"}),(0,b.jsx)("p",{className:"text-sm text-blue-900 font-semibold",children:d.refund>0?`${d.refund.toFixed(2)} MAD`:"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-xs text-blue-700",children:"Expected Penalty Points:"}),(0,b.jsxs)("p",{className:"text-sm text-blue-900 font-semibold",children:[d.penaltyPoints," points"]})]})]})),(0,b.jsx)("p",{className:"text-xs text-blue-600 mt-2",children:"Note: Actual amounts depend on booking rent/deposit values"})]}),ai.refundAmount&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Refund Amount"}),(0,b.jsxs)("p",{className:"text-sm text-green-600 font-semibold",children:[ai.refundAmount.toFixed(2)," MAD"]})]}),void 0!==ai.penaltyPoints&&null!==ai.penaltyPoints&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Penalty Points"}),(0,b.jsxs)("p",{className:`text-sm font-semibold ${ai.penaltyPoints>=15?"text-red-600":ai.penaltyPoints>=10?"text-orange-600":"text-red-600"}`,children:[ai.penaltyPoints," points"]}),ai.penaltyPoints>=15&&(0,b.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"âš ï¸ High penalty - may trigger account suspension"})]}),ai.resolutionNotes&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Resolution Notes"}),(0,b.jsx)("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:ai.resolutionNotes})]}),("OPEN"===ai.status||"IN_REVIEW"===ai.status)&&(0,b.jsxs)("div",{className:"flex items-center gap-3 pt-4 border-t border-gray-200",children:["ACCESS_ISSUE"!==ai.type&&"NOT_AS_DESCRIBED"!==ai.type&&(0,b.jsxs)(p.Button,{onClick:()=>{V(!1),ah(!0),ap(ai.severity)},variant:"outline",className:"border-orange-300 text-orange-600 hover:bg-orange-50",children:[(0,b.jsx)(Z.AlertCircle,{className:"w-4 h-4 mr-2"}),"Update Severity"]}),"OPEN"===ai.status&&(0,b.jsxs)(p.Button,{onClick:async()=>{V(!1),await ax(ai.id)},variant:"outline",className:"border-blue-300 text-blue-600 hover:bg-blue-50",disabled:u[`review-${ai.id}`],children:[u[`review-${ai.id}`]?(0,b.jsx)(B.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}):(0,b.jsx)($.Clock,{className:"w-4 h-4 mr-2"}),"Move to Review"]}),"IN_REVIEW"===ai.status&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(p.Button,{onClick:()=>{V(!1),X(!0),al("")},className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:[(0,b.jsx)(D.CheckCircle,{className:"w-4 h-4 mr-2"}),"Approve Reclamation"]}),(0,b.jsxs)(p.Button,{onClick:()=>{V(!1),af(!0),an("")},variant:"destructive",className:"flex-1",children:[(0,b.jsx)(E.XCircle,{className:"w-4 h-4 mr-2"}),"Reject Reclamation"]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Attachments"}),as?(0,b.jsxs)("div",{className:"flex items-center justify-center py-4",children:[(0,b.jsx)(B.Loader2,{className:"w-5 h-5 animate-spin text-gray-400"}),(0,b.jsx)("span",{className:"ml-2 text-sm text-gray-500",children:"Loading images..."})]}):aq.length>0?(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:aq.map((a,c)=>{let d=a.filePath;a.filePath.includes("/")&&(d=a.filePath.split("/").pop()||a.filePath),d=d.replace(/\\/g,"/").split("/").pop()||d;let e=`${ae}/api/admin/reclamations/files/${ai.id}/${encodeURIComponent(d)}`;return console.log("ðŸ–¼ï¸ Image URL:",e,"from filePath:",a.filePath),(0,b.jsx)("div",{className:"relative group",children:(0,b.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-gray-50 hover:shadow-md transition-shadow",children:[(0,b.jsxs)("div",{className:"relative cursor-pointer",onClick:()=>window.open(e,"_blank"),title:"Click to view full size",children:[(0,b.jsx)("img",{src:e,alt:a.fileName||`Attachment ${c+1}`,className:"w-full h-48 object-cover hover:opacity-90 transition-opacity",onError:b=>{let c=b.target;console.error("âŒ Failed to load image:",e,"from filePath:",a.filePath),c.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Crect fill='%23ddd' width='100' height='100'/%3E%3Ctext fill='%23999' font-family='sans-serif' font-size='14' x='50%25' y='50%25' text-anchor='middle' dy='.3em'%3EImage not found%3C/text%3E%3C/svg%3E"},onLoad:()=>{console.log("âœ… Image loaded successfully:",e)}}),(0,b.jsx)("div",{className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:"Click to enlarge"})]}),(0,b.jsxs)("div",{className:"p-2 bg-white border-t border-gray-200",children:[(0,b.jsx)("p",{className:"text-xs text-gray-600 truncate",title:a.fileName,children:a.fileName||`Image ${c+1}`}),a.fileSize&&(0,b.jsxs)("p",{className:"text-xs text-gray-400",children:[(a.fileSize/1024).toFixed(2)," KB"]})]})]})},a.id||c)})}):(0,b.jsxs)("div",{className:"text-center py-4 text-gray-500 text-sm",children:[(0,b.jsx)(ac,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,b.jsx)("p",{children:"No images attached to this reclamation"})]})]})]})]})}),(0,b.jsx)(r.Dialog,{open:ag,onOpenChange:ah,children:(0,b.jsxs)(r.DialogContent,{children:[(0,b.jsxs)(r.DialogHeader,{children:[(0,b.jsx)(r.DialogTitle,{children:"Update Severity"}),(0,b.jsx)(r.DialogDescription,{children:ai&&("ACCESS_ISSUE"===ai.type||"NOT_AS_DESCRIBED"===ai.type)?(0,b.jsxs)("span",{className:"text-red-600 font-semibold",children:["âš ï¸ Severity cannot be changed for ",aD(ai.type)," - these types have fixed penalties"]}):"Change the severity level of this reclamation"})]}),ai&&("ACCESS_ISSUE"===ai.type||"NOT_AS_DESCRIBED"===ai.type)?(0,b.jsx)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,b.jsxs)("p",{className:"text-sm text-yellow-800",children:["This reclamation type (",aD(ai.type),") has a fixed penalty:",(0,b.jsx)("br",{}),"â€¢ ",(0,b.jsx)("strong",{children:"10 penalty points"})," deducted from host",(0,b.jsx)("br",{}),"â€¢ ",(0,b.jsx)("strong",{children:"Full refund"})," (Rent + Deposit) to guest",(0,b.jsx)("br",{}),"Severity level does not affect the penalty for this type."]})}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Severity"}),(0,b.jsxs)(P.Select,{value:ao,onValueChange:a=>ap(a),children:[(0,b.jsx)(P.SelectTrigger,{children:(0,b.jsx)(P.SelectValue,{})}),(0,b.jsxs)(P.SelectContent,{children:[(0,b.jsx)(P.SelectItem,{value:"LOW",children:"LOW"}),(0,b.jsx)(P.SelectItem,{value:"MEDIUM",children:"MEDIUM"}),(0,b.jsx)(P.SelectItem,{value:"HIGH",children:"HIGH"}),(0,b.jsx)(P.SelectItem,{value:"CRITICAL",children:"CRITICAL"})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)(p.Button,{variant:"outline",onClick:()=>ah(!1),children:"Cancel"}),(0,b.jsx)(p.Button,{onClick:ay,disabled:u[`severity-${ai?.id}`],children:u[`severity-${ai?.id}`]?(0,b.jsx)(B.Loader2,{className:"w-4 h-4 animate-spin"}):"Update"})]})]})]})}),(0,b.jsx)(r.Dialog,{open:W,onOpenChange:X,children:(0,b.jsxs)(r.DialogContent,{children:[(0,b.jsxs)(r.DialogHeader,{children:[(0,b.jsx)(r.DialogTitle,{children:"Resolve Reclamation"}),(0,b.jsx)(r.DialogDescription,{children:"Approve or reject this reclamation. If approved, penalties will be calculated automatically based on type and severity."})]}),ai&&(0,b.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-2 mb-2",children:[(0,b.jsx)(Z.AlertCircle,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-yellow-900",children:"Penalty Preview"}),(0,b.jsxs)("p",{className:"text-xs text-yellow-700 mt-1",children:["Type: ",(0,b.jsx)("strong",{children:aD(ai.type)})," | Severity: ",(0,b.jsx)("strong",{children:ai.severity})," | Role: ",(0,b.jsx)("strong",{children:ai.complainantRole})]}),(e=aE(ai.type,ai.severity,ai.complainantRole),(0,b.jsx)("div",{className:"mt-2 text-xs",children:(0,b.jsxs)("p",{className:"text-yellow-800",children:["Expected: ",(0,b.jsx)("strong",{children:e.refund>0?`${e.refund.toFixed(2)} MAD refund`:"No refund"})," and ",(0,b.jsxs)("strong",{children:[e.penaltyPoints," penalty points"]})]})}))]})]})}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Resolution Notes"}),(0,b.jsx)(t.Textarea,{value:ak,onChange:a=>al(a.target.value),placeholder:"Enter resolution notes...",rows:4})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)(p.Button,{variant:"outline",onClick:()=>{X(!1),al("")},children:"Cancel"}),(0,b.jsx)(p.Button,{variant:"destructive",onClick:()=>az(!1),disabled:u[`resolve-${ai?.id}`],children:u[`resolve-${ai?.id}`]?(0,b.jsx)(B.Loader2,{className:"w-4 h-4 animate-spin"}):"Reject"}),(0,b.jsx)(p.Button,{onClick:()=>az(!0),disabled:u[`resolve-${ai?.id}`],className:"bg-green-600 hover:bg-green-700",children:u[`resolve-${ai?.id}`]?(0,b.jsx)(B.Loader2,{className:"w-4 h-4 animate-spin"}):"Approve"})]})]})]})}),(0,b.jsx)(r.Dialog,{open:Y,onOpenChange:af,children:(0,b.jsxs)(r.DialogContent,{children:[(0,b.jsxs)(r.DialogHeader,{children:[(0,b.jsx)(r.DialogTitle,{children:"Reject Reclamation"}),(0,b.jsx)(r.DialogDescription,{children:"Reject this reclamation and provide a reason"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Rejection Notes"}),(0,b.jsx)(t.Textarea,{value:am,onChange:a=>an(a.target.value),placeholder:"Enter rejection reason...",rows:4})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)(p.Button,{variant:"outline",onClick:()=>{af(!1),an("")},children:"Cancel"}),(0,b.jsx)(p.Button,{variant:"destructive",onClick:aA,disabled:u[`reject-${ai?.id}`],children:u[`reject-${ai?.id}`]?(0,b.jsx)(B.Loader2,{className:"w-4 h-4 animate-spin"}):"Reject"})]})]})]})})]})}function ag(){let{user:a,isLoading:f}=(0,d.useAuth)(),g=(0,e.useRouter)(),[h,i]=(0,c.useState)("all-properties");return((0,c.useEffect)(()=>{a||f?a&&!a.roles?.includes("ADMIN")&&g.push("/"):g.push("/login")},[a,f,g]),f)?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(B.Loader2,{className:"h-12 w-12 animate-spin text-teal-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Loading admin dashboard..."})]})}):a?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsx)("div",{className:"mb-6"}),(0,b.jsx)("div",{className:"relative z-10",children:(0,b.jsx)(m,{activeSection:h,onSectionChange:a=>{i(a)}})}),(0,b.jsxs)("div",{className:"mt-8",children:[("all-properties"===h||"pending-approval"===h||"approved"===h||"suspended"===h||"disapproved"===h)&&(0,b.jsx)(R,{filter:"pending-approval"===h?"pending-approval":"approved"===h?"approved":"suspended"===h?"suspended":"disapproved"===h?"disapproved":"all-properties"}),("all-users"===h||"admins"===h||"hosts"===h||"tenants"===h||"disabled"===h)&&(0,b.jsx)(X,{filter:"admins"===h?"admins":"hosts"===h?"hosts":"tenants"===h?"tenants":"disabled"===h?"disabled":"all-users"}),("all-bookings"===h||"pending-payment"===h||"active"===h||"completed"===h||"cancelled"===h)&&(0,b.jsx)(Y,{filter:"pending-payment"===h?"pending-payment":"active"===h?"active":"completed"===h?"completed":"cancelled"===h?"cancelled":"all-bookings"}),("all-reclamations"===h||"open-reclamations"===h||"in-review-reclamations"===h||"resolved-reclamations"===h||"rejected-reclamations"===h)&&(0,b.jsx)(af,{filter:"open-reclamations"===h?"open-reclamations":"in-review-reclamations"===h?"in-review-reclamations":"resolved-reclamations"===h?"resolved-reclamations":"rejected-reclamations"===h?"rejected-reclamations":"all-reclamations"}),"all-properties"!==h&&"pending-approval"!==h&&"suspended"!==h&&"all-users"!==h&&"admins"!==h&&"hosts"!==h&&"tenants"!==h&&"disabled"!==h&&"all-bookings"!==h&&"pending-payment"!==h&&"active"!==h&&"completed"!==h&&"cancelled"!==h&&"all-reclamations"!==h&&"open-reclamations"!==h&&"in-review-reclamations"!==h&&"resolved-reclamations"!==h&&"rejected-reclamations"!==h&&(0,b.jsx)(o.Card,{className:"p-6",children:(0,b.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:["overview"===h&&"Overview","all-users"===h&&"All Users","tenants"===h&&"Tenants","hosts"===h&&"Hosts","disabled"===h&&"Disabled Accounts","all-bookings"===h&&"All Bookings","pending-payment"===h&&"Pending Payment","active"===h&&"Active Bookings","completed"===h&&"Completed Bookings","cancelled"===h&&"Cancelled Bookings","all-transactions"===h&&"All Transactions","pending"===h&&"Pending Transactions","success"===h&&"Successful Transactions","failed"===h&&"Failed Transactions","settings"===h&&"Blockchain Settings","escrows"===h&&"Active Escrows","contracts"===h&&"Contract Information","revenue"===h&&"Revenue Statistics","reports"===h&&"Reports","all-disputes"===h&&"All Disputes","resolved"===h&&"Resolved Disputes"]})})]})]})}):null}a.s(["default",()=>ag],88367)}];

//# sourceMappingURL=app_admin_page_tsx_bc658df7._.js.map