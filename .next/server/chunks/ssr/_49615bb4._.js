module.exports=[3130,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},92208,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(13216),e=a.i(50944),f=a.i(38246),g=a.i(71987),h=a.i(40695),i=a.i(3130),j=a.i(72211);function k(){let a=(0,e.useRouter)(),{login:k}=(0,d.useAuth)(),[l,m]=(0,c.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phoneNumber:"",birthday:""}),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(!1),r=a=>{let{name:b,value:c}=a.target;m(a=>({...a,[b]:c}))},s=async b=>{if(b.preventDefault(),o(""),l.password!==l.confirmPassword)return void o("Passwords do not match");if(!/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=!]).{8,20}$/.test(l.password))return void o("Password must be 8-20 characters long and include at least one uppercase letter, one lowercase letter, one number, and one special character (@#$%^&+=!)");let c=l.phoneNumber.replace(/\D/g,"");if(!/^\d{10,15}$/.test(c))return void o("Phone number must be 10 to 15 digits");if(l.birthday){let a=new Date(l.birthday),b=new Date,c=b.getFullYear()-a.getFullYear(),d=b.getMonth()-a.getMonth();if((d<0||0===d&&b.getDate()<a.getDate())&&(c-=1),c<18)return void o("You must be at least 18 years old to register")}if(!l.birthday)return void o("Birthday is required");q(!0);try{await j.apiClient.auth.register({firstName:l.firstName,lastName:l.lastName,email:l.email,password:l.password,birthday:l.birthday,phoneNumber:c}),a.push(`/verify?email=${encodeURIComponent(l.email)}`)}catch(b){let a="Registration failed. Please try again.";b instanceof Error?(a=b.message,(b.message.includes("Backend server is not available")||b.message.includes("Cannot connect to backend"))&&(a="Cannot connect to the server. Please make sure the backend service is running. If you're in development mode, you can use mock data by setting NEXT_PUBLIC_USE_MOCK_API=true"),b.errorData&&(console.error("Full error details:",{errorData:b.errorData,responseText:b.responseText,status:b.status}),b.errorData.message?a=b.errorData.message:b.errorData.error?a=b.errorData.error:b.errorData.raw&&(a=b.errorData.raw)),b.responseText&&console.error("Raw response text:",b.responseText)):b?.response?.data?.message?a=b.response.data.message:"string"==typeof b&&(a=b),o(a)}finally{q(!1)}};return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:(0,b.jsx)(i.Card,{className:"w-full max-w-md",children:(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsx)("div",{className:"flex justify-center mb-8",children:(0,b.jsx)(g.default,{src:"/logo.svg",alt:"DeRent5",width:120,height:40,className:"h-12 w-auto"})}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-2",children:"Create Your Account"}),(0,b.jsx)("p",{className:"text-center text-gray-600 mb-8",children:"Join DeRent5 and start your journey"}),(0,b.jsxs)("form",{onSubmit:s,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),(0,b.jsx)("input",{type:"text",name:"firstName",value:l.firstName,onChange:r,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600",placeholder:"John",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),(0,b.jsx)("input",{type:"text",name:"lastName",value:l.lastName,onChange:r,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600",placeholder:"Doe",required:!0})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,b.jsx)("input",{type:"email",name:"email",value:l.email,onChange:r,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600",placeholder:"your@email.com",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,b.jsx)("input",{type:"tel",name:"phoneNumber",value:l.phoneNumber,onChange:r,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600",placeholder:"+212 6XX XXX XXX"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Birthday"}),(0,b.jsx)("input",{type:"date",name:"birthday",value:l.birthday,onChange:r,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,b.jsx)("input",{type:"password",name:"password",value:l.password,onChange:r,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600",placeholder:"••••••••",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),(0,b.jsx)("input",{type:"password",name:"confirmPassword",value:l.confirmPassword,onChange:r,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-600",placeholder:"••••••••",required:!0})]}),n&&(0,b.jsx)("div",{className:"p-3 bg-red-50 text-red-700 rounded-lg text-sm",children:n}),(0,b.jsx)(h.Button,{type:"submit",className:"w-full bg-teal-600 hover:bg-teal-700 text-white",disabled:p,children:p?"Creating account...":"Sign Up"})]}),(0,b.jsxs)("p",{className:"text-center text-sm text-gray-600 mt-6",children:["Already have an account?"," ",(0,b.jsx)(f.default,{href:"/login",className:"text-teal-600 hover:underline",children:"Sign in"})]})]})})})}a.s(["default",()=>k])}];

//# sourceMappingURL=_49615bb4._.js.map