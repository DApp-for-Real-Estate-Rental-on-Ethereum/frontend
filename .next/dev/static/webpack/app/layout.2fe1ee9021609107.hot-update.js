"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/layout",{

/***/ "(app-pages-browser)/./app/globals.css":
/*!*************************!*\
  !*** ./app/globals.css ***!
  \*************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"23531725cfc2\");\nif (true) { module.hot.accept() }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9nbG9iYWxzLmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLElBQVUsSUFBSSxpQkFBaUIiLCJzb3VyY2VzIjpbIi9ob21lL21lZGdtL3ZzYy9Qcm9qZXQgSkVFL2RlcmVudC1tYWluL2FwcC9nbG9iYWxzLmNzcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIjIzNTMxNzI1Y2ZjMlwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/globals.css\n"));

/***/ }),

/***/ "(app-pages-browser)/./lib/hooks/use-auth.ts":
/*!*******************************!*\
  !*** ./lib/hooks/use-auth.ts ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthContext: () => (/* binding */ AuthContext),\n/* harmony export */   useAuth: () => (/* binding */ useAuth),\n/* harmony export */   useAuthContext: () => (/* binding */ useAuthContext)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_services_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/services/api */ \"(app-pages-browser)/./lib/services/api.ts\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/process/browser.js\");\n/* __next_internal_client_entry_do_not_use__ AuthContext,useAuth,useAuthContext auto */ \n\nconst AUTH_TOKEN_KEY = process.env.NEXT_PUBLIC_AUTH_STORAGE_KEY || \"derent5_auth_token\";\nconst USER_DATA_KEY = process.env.NEXT_PUBLIC_USER_STORAGE_KEY || \"derent5_user_data\";\nconst AuthContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\n/**\n * useAuth hook - Get current user and authentication state\n */ function useAuth() {\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [token, setToken] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    // Load auth state from localStorage on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAuth.useEffect\": ()=>{\n            const loadAuthState = {\n                \"useAuth.useEffect.loadAuthState\": ()=>{\n                    const storedUser = localStorage.getItem(USER_DATA_KEY) || localStorage.getItem(\"user\");\n                    const storedToken = localStorage.getItem(AUTH_TOKEN_KEY) || localStorage.getItem(\"token\");\n                    if (storedUser && storedToken) {\n                        try {\n                            setUser(JSON.parse(storedUser));\n                            setToken(storedToken);\n                        } catch (error) {\n                            console.error(\"Failed to parse stored user:\", error);\n                        }\n                    } else {\n                        setUser(null);\n                        setToken(null);\n                    }\n                }\n            }[\"useAuth.useEffect.loadAuthState\"];\n            // Load initial state\n            loadAuthState();\n            setIsLoading(false);\n            // Listen for storage changes (when login/logout happens in other tabs/components)\n            const handleStorageChange = {\n                \"useAuth.useEffect.handleStorageChange\": (e)=>{\n                    if (e.key === USER_DATA_KEY || e.key === AUTH_TOKEN_KEY || e.key === \"user\" || e.key === \"token\") {\n                        loadAuthState();\n                    }\n                }\n            }[\"useAuth.useEffect.handleStorageChange\"];\n            window.addEventListener(\"storage\", handleStorageChange);\n            // Also listen for custom events (for same-tab updates)\n            const handleCustomStorageChange = {\n                \"useAuth.useEffect.handleCustomStorageChange\": ()=>{\n                    loadAuthState();\n                }\n            }[\"useAuth.useEffect.handleCustomStorageChange\"];\n            window.addEventListener(\"auth-state-changed\", handleCustomStorageChange);\n            return ({\n                \"useAuth.useEffect\": ()=>{\n                    window.removeEventListener(\"storage\", handleStorageChange);\n                    window.removeEventListener(\"auth-state-changed\", handleCustomStorageChange);\n                }\n            })[\"useAuth.useEffect\"];\n        }\n    }[\"useAuth.useEffect\"], []);\n    const login = async (email, password)=>{\n        try {\n            // Try real API first\n            const response = await _lib_services_api__WEBPACK_IMPORTED_MODULE_1__.apiClient.auth.login(email, password);\n            // Store token\n            const token = response.token;\n            localStorage.setItem(\"token\", token);\n            localStorage.setItem(AUTH_TOKEN_KEY, token);\n            // Decode JWT to get userId and roles\n            const tokenParts = token.split(\".\");\n            let userId = \"\";\n            let roles = [\n                \"USER\"\n            ];\n            try {\n                if (tokenParts.length === 3) {\n                    const payload = JSON.parse(atob(tokenParts[1].replace(/-/g, \"+\").replace(/_/g, \"/\")));\n                    userId = payload.sub || payload.subject || \"\";\n                    // Roles are in extraClaims.roles array\n                    if (payload.roles && Array.isArray(payload.roles)) {\n                        roles = payload.roles.map((r)=>{\n                            // Map backend roles to frontend roles\n                            if (r === \"HOST\") return \"POSTER\";\n                            if (r === \"TENANT\") return \"USER\";\n                            if (r === \"ADMIN\") return \"ADMIN\";\n                            return r;\n                        });\n                    }\n                }\n            } catch (decodeError) {\n                console.error(\"Failed to decode JWT:\", decodeError);\n            }\n            // Fetch full user data from /api/v1/users/me\n            try {\n                const userData = await _lib_services_api__WEBPACK_IMPORTED_MODULE_1__.apiClient.users.getMe();\n                // Use roles from API if available, otherwise use roles from JWT\n                let finalRoles = roles;\n                if (userData.roles && userData.roles.length > 0) {\n                    finalRoles = userData.roles.map((r)=>{\n                        if (r === \"HOST\") return \"POSTER\";\n                        if (r === \"TENANT\") return \"USER\";\n                        if (r === \"ADMIN\") return \"ADMIN\";\n                        return r;\n                    });\n                }\n                const fullUser = {\n                    id: userId,\n                    email: userData.email,\n                    firstName: userData.firstName,\n                    lastName: userData.lastName,\n                    phoneNumber: userData.phoneNumber?.toString(),\n                    birthday: userData.birthday,\n                    profileImage: userData.profilePicture,\n                    roles: finalRoles,\n                    verified: true,\n                    walletAddress: userData.walletAddress || undefined\n                };\n                localStorage.setItem(\"user\", JSON.stringify(fullUser));\n                localStorage.setItem(USER_DATA_KEY, JSON.stringify(fullUser));\n                setUser(fullUser);\n            } catch (userError) {\n                // If /users/me fails, use basic user data\n                console.warn(\"Failed to fetch user data, using basic info:\", userError);\n                const basicUser = {\n                    id: userId,\n                    email: email,\n                    firstName: \"\",\n                    lastName: \"\",\n                    roles: roles\n                };\n                localStorage.setItem(\"user\", JSON.stringify(basicUser));\n                localStorage.setItem(USER_DATA_KEY, JSON.stringify(basicUser));\n                setUser(basicUser);\n            }\n            setToken(token);\n            // Dispatch custom event to notify other components\n            window.dispatchEvent(new Event(\"auth-state-changed\"));\n        } catch (apiError) {\n            // Fallback to mock for development\n            let authenticatedUser = null;\n            if (email === \"admin@example.com\") {\n                authenticatedUser = mockUsers.admin;\n            } else if (email === \"poster@example.com\") {\n                authenticatedUser = mockUsers.poster;\n            } else {\n                throw apiError || new Error(\"Invalid credentials\");\n            }\n            const mockToken = `token-${Date.now()}`;\n            localStorage.setItem(\"user\", JSON.stringify(authenticatedUser));\n            localStorage.setItem(\"token\", mockToken);\n            localStorage.setItem(USER_DATA_KEY, JSON.stringify(authenticatedUser));\n            localStorage.setItem(AUTH_TOKEN_KEY, mockToken);\n            localStorage.setItem(\"userId\", authenticatedUser.id);\n            localStorage.setItem(\"userRoles\", JSON.stringify(authenticatedUser.roles));\n            setUser(authenticatedUser);\n            setToken(mockToken);\n            // Dispatch custom event to notify other components\n            window.dispatchEvent(new Event(\"auth-state-changed\"));\n        }\n    };\n    const hasRole = (role)=>{\n        return user?.roles.includes(role) ?? false;\n    };\n    const logout = ()=>{\n        localStorage.removeItem(\"user\");\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(USER_DATA_KEY);\n        localStorage.removeItem(AUTH_TOKEN_KEY);\n        localStorage.removeItem(\"userId\");\n        localStorage.removeItem(\"userRoles\");\n        setUser(null);\n        setToken(null);\n        // Dispatch custom event to notify other components\n        window.dispatchEvent(new Event(\"auth-state-changed\"));\n    };\n    return {\n        user,\n        token,\n        isAuthenticated: !!user && !!token,\n        isLoading,\n        hasRole,\n        login,\n        logout\n    };\n}\nfunction useAuthContext() {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(AuthContext);\n    if (!context) {\n        throw new Error(\"useAuthContext must be used within AuthProvider\");\n    }\n    return context;\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi9ob29rcy91c2UtYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O3dGQUVzRTtBQUV4QjtBQUU5QyxNQUFNSyxpQkFBaUJDLE9BQU9BLENBQUNDLEdBQUcsQ0FBQ0MsNEJBQTRCLElBQUk7QUFDbkUsTUFBTUMsZ0JBQWdCSCxPQUFPQSxDQUFDQyxHQUFHLENBQUNHLDRCQUE0QixJQUFJO0FBWTNELE1BQU1DLGNBQWNSLG9EQUFhQSxDQUF1QixNQUFLO0FBRXBFOztDQUVDLEdBQ00sU0FBU1M7SUFDZCxNQUFNLENBQUNDLE1BQU1DLFFBQVEsR0FBR2QsK0NBQVFBLENBQWM7SUFDOUMsTUFBTSxDQUFDZSxPQUFPQyxTQUFTLEdBQUdoQiwrQ0FBUUEsQ0FBZ0I7SUFDbEQsTUFBTSxDQUFDaUIsV0FBV0MsYUFBYSxHQUFHbEIsK0NBQVFBLENBQUM7SUFFM0MsNkNBQTZDO0lBQzdDQyxnREFBU0E7NkJBQUM7WUFDUixNQUFNa0I7bURBQWdCO29CQUNwQixNQUFNQyxhQUFhQyxhQUFhQyxPQUFPLENBQUNiLGtCQUFrQlksYUFBYUMsT0FBTyxDQUFDO29CQUMvRSxNQUFNQyxjQUFjRixhQUFhQyxPQUFPLENBQUNqQixtQkFBbUJnQixhQUFhQyxPQUFPLENBQUM7b0JBRWpGLElBQUlGLGNBQWNHLGFBQWE7d0JBQzdCLElBQUk7NEJBQ0ZULFFBQVFVLEtBQUtDLEtBQUssQ0FBQ0w7NEJBQ25CSixTQUFTTzt3QkFDWCxFQUFFLE9BQU9HLE9BQU87NEJBQ2RDLFFBQVFELEtBQUssQ0FBQyxnQ0FBZ0NBO3dCQUNoRDtvQkFDRixPQUFPO3dCQUNMWixRQUFRO3dCQUNSRSxTQUFTO29CQUNYO2dCQUNGOztZQUVBLHFCQUFxQjtZQUNyQkc7WUFDQUQsYUFBYTtZQUViLGtGQUFrRjtZQUNsRixNQUFNVTt5REFBc0IsQ0FBQ0M7b0JBQzNCLElBQUlBLEVBQUVDLEdBQUcsS0FBS3JCLGlCQUFpQm9CLEVBQUVDLEdBQUcsS0FBS3pCLGtC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UWlFO1lBQ1IvRCxTQUFTb0U7WUFFVCxtREFBbUQ7WUFDbkRyRCxPQUFPNkMsYUFBYSxDQUFDLElBQUlDLE1BQU07UUFDakM7SUFDRjtJQUVBLE1BQU1VLFVBQVUsQ0FBQ0M7UUFDZixPQUFPM0UsTUFBTStCLE1BQU02QyxTQUFTRCxTQUFTO0lBQ3ZDO0lBRUEsTUFBTUUsU0FBUztRQUNickUsYUFBYXNFLFVBQVUsQ0FBQztRQUN4QnRFLGFBQWFzRSxVQUFVLENBQUM7UUFDeEJ0RSxhQUFhc0UsVUFBVSxDQUFDbEY7UUFDeEJZLGFBQWFzRSxVQUFVLENBQUN0RjtRQUN4QmdCLGFBQWFzRSxVQUFVLENBQUM7UUFDeEJ0RSxhQUFhc0UsVUFBVSxDQUFDO1FBQ3hCN0UsUUFBUTtRQUNSRSxTQUFTO1FBRVQsbURBQW1EO1FBQ25EZSxPQUFPNkMsYUFBYSxDQUFDLElBQUlDLE1BQU07SUFDakM7SUFFQSxPQUFPO1FBQ0xoRTtRQUNBRTtRQUNBNkUsaUJBQWlCLENBQUMsQ0FBQy9FLFFBQVEsQ0FBQyxDQUFDRTtRQUM3QkU7UUFDQXNFO1FBQ0FwRDtRQUNBdUQ7SUFDRjtBQUNGO0FBRU8sU0FBU0c7SUFDZCxNQUFNQyxVQUFVNUYsaURBQVVBLENBQUNTO0lBQzNCLElBQUksQ0FBQ21GLFNBQVM7UUFDWixNQUFNLElBQUlYLE1BQU07SUFDbEI7SUFDQSxPQUFPVztBQUNUIiwic291cmNlcyI6WyIvaG9tZS9tZWRnbS92c2MvUHJvamV0IEpFRS9kZXJlbnQtbWFpbi9saWIvaG9va3MvdXNlLWF1dGgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ29udGV4dCwgY3JlYXRlQ29udGV4dCB9IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgdHlwZSB7IFVzZXIsIFVzZXJSb2xlIH0gZnJvbSBcIkAvbGliL3R5cGVzXCJcbmltcG9ydCB7IGFwaUNsaWVudCB9IGZyb20gXCJAL2xpYi9zZXJ2aWNlcy9hcGlcIlxuXG5jb25zdCBBVVRIX1RPS0VOX0tFWSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FVVEhfU1RPUkFHRV9LRVkgfHwgXCJkZXJlbnQ1X2F1dGhfdG9rZW5cIlxuY29uc3QgVVNFUl9EQVRBX0tFWSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1VTRVJfU1RPUkFHRV9LRVkgfHwgXCJkZXJlbnQ1X3VzZXJfZGF0YVwiXG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlQXV0aFJldHVybiB7XG4gIHVzZXI6IFVzZXIgfCBudWxsXG4gIHRva2VuOiBzdHJpbmcgfCBudWxsXG4gIGlzQXV0aGVudGljYXRlZDogYm9vbGVhblxuICBpc0xvYWRpbmc6IGJvb2xlYW5cbiAgaGFzUm9sZTogKHJvbGU6IFVzZXJSb2xlKSA9PiBib29sZWFuXG4gIGxvZ2luOiAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPlxuICBsb2dvdXQ6ICgpID0+IHZvaWRcbn1cblxuZXhwb3J0IGNvbnN0IEF1dGhDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxVc2VBdXRoUmV0dXJuIHwgbnVsbD4obnVsbClcblxuLyoqXG4gKiB1c2VBdXRoIGhvb2sgLSBHZXQgY3VycmVudCB1c2VyIGFuZCBhdXRoZW50aWNhdGlvbiBzdGF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlQXV0aCgpOiBVc2VBdXRoUmV0dXJuIHtcbiAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGU8VXNlciB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFt0b2tlbiwgc2V0VG9rZW5dID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbClcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpXG5cbiAgLy8gTG9hZCBhdXRoIHN0YXRlIGZyb20gbG9jYWxTdG9yYWdlIG9uIG1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbG9hZEF1dGhTdGF0ZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHN0b3JlZFVzZXIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShVU0VSX0RBVEFfS0VZKSB8fCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInVzZXJcIilcbiAgICAgIGNvbnN0IHN0b3JlZFRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oQVVUSF9UT0tFTl9LRVkpIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidG9rZW5cIilcblxuICAgICAgaWYgKHN0b3JlZFVzZXIgJiYgc3RvcmVkVG9rZW4pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBzZXRVc2VyKEpTT04ucGFyc2Uoc3RvcmVkVXNlcikpXG4gICAgICAgICAgc2V0VG9rZW4oc3RvcmVkVG9rZW4pXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBwYXJzZSBzdG9yZWQgdXNlcjpcIiwgZXJyb3IpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFVzZXIobnVsbClcbiAgICAgICAgc2V0VG9rZW4obnVsbClcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBMb2FkIGluaXRpYWwgc3RhdGVcbiAgICBsb2FkQXV0aFN0YXRlKClcbiAgICBzZXRJc0xvYWRpbmcoZmFsc2UpXG5cbiAgICAvLyBMaXN0ZW4gZm9yIHN0b3JhZ2UgY2hhbmdlcyAod2hlbiBsb2dpbi9sb2dvdXQgaGFwcGVucyBpbiBvdGhlciB0YWJzL2NvbXBvbmVudHMpXG4gICAgY29uc3QgaGFuZGxlU3RvcmFnZUNoYW5nZSA9IChlOiBTdG9yYWdlRXZlbnQpID0+IHtcbiAgICAgIGlmIChlLmtleSA9PT0gVVNFUl9EQVRBX0tFWSB8fCBlLmtleSA9PT0gQVVUSF9UT0tFTl9LRVkgfHwgZS5rZXkgPT09IFwidXNlclwiIHx8IGUua2V5ID09PSBcInRva2VuXCIpIHtcbiAgICAgICAgbG9hZEF1dGhTdGF0ZSgpXG4gICAgICB9XG4gICAgfVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzdG9yYWdlXCIsIGhhbmRsZVN0b3JhZ2VDaGFuZ2UpXG5cbiAgICAvLyBBbHNvIGxpc3RlbiBmb3IgY3VzdG9tIGV2ZW50cyAoZm9yIHNhbWUtdGFiIHVwZGF0ZXMpXG4gICAgY29uc3QgaGFuZGxlQ3VzdG9tU3RvcmFnZUNoYW5nZSA9ICgpID0+IHtcbiAgICAgIGxvYWRBdXRoU3RhdGUoKVxuICAgIH1cblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYXV0aC1zdGF0ZS1jaGFuZ2VkXCIsIGhhbmRsZUN1c3RvbVN0b3JhZ2VDaGFuZ2UpXG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdG9yYWdlXCIsIGhhbmRsZVN0b3JhZ2VDaGFuZ2UpXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImF1dGgtc3RhdGUtY2hhbmdlZFwiLCBoYW5kbGVDdXN0b21TdG9yYWdlQ2hhbmdlKVxuICAgIH1cbiAgfSwgW10pXG5cbiAgY29uc3QgbG9naW4gPSBhc3luYyAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBUcnkgcmVhbCBBUEkgZmlyc3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpQ2xpZW50LmF1dGgubG9naW4oZW1haWwsIHBhc3N3b3JkKVxuXG4gICAgICAvLyBTdG9yZSB0b2tlblxuICAgICAgY29uc3QgdG9rZW4gPSByZXNwb25zZS50b2tlblxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0b2tlblwiLCB0b2tlbilcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKEFVVEhfVE9LRU5fS0VZLCB0b2tlbilcblxuICAgICAgLy8gRGVjb2RlIEpXVCB0byBnZXQgdXNlcklkIGFuZCByb2xlc1xuICAgICAgY29uc3QgdG9rZW5QYXJ0cyA9IHRva2VuLnNwbGl0KFwiLlwiKVxuICAgICAgbGV0IHVzZXJJZCA9IFwiXCJcbiAgICAgIGxldCByb2xlczogVXNlclJvbGVbXSA9IFtcIlVTRVJcIl1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHRva2VuUGFydHMubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IEpTT04ucGFyc2UoYXRvYih0b2tlblBhcnRzWzFdLnJlcGxhY2UoLy0vZywgXCIrXCIpLnJlcGxhY2UoL18vZywgXCIvXCIpKSlcbiAgICAgICAgICB1c2VySWQgPSBwYXlsb2FkLnN1YiB8fCBwYXlsb2FkLnN1YmplY3QgfHwgXCJcIlxuICAgICAgICAgIC8vIFJvbGVzIGFyZSBpbiBleHRyYUNsYWltcy5yb2xlcyBhcnJheVxuICAgICAgICAgIGlmIChwYXlsb2FkLnJvbGVzICYmIEFycmF5LmlzQXJyYXkocGF5bG9hZC5yb2xlcykpIHtcbiAgICAgICAgICAgIHJvbGVzID0gcGF5bG9hZC5yb2xlcy5tYXAoKHI6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAvLyBNYXAgYmFja2VuZCByb2xlcyB0byBmcm9udGVuZCByb2xlc1xuICAgICAgICAgICAgICBpZiAociA9PT0gXCJIT1NUXCIpIHJldHVybiBcIlBPU1RFUlwiXG4gICAgICAgICAgICAgIGlmIChyID09PSBcIlRFTkFOVFwiKSByZXR1cm4gXCJVU0VSXCJcbiAgICAgICAgICAgICAgaWYgKHIgPT09IFwiQURNSU5cIikgcmV0dXJuIFwiQURNSU5cIlxuICAgICAgICAgICAgICByZXR1cm4gciBhcyBVc2VyUm9sZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGRlY29kZUVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gZGVjb2RlIEpXVDpcIiwgZGVjb2RlRXJyb3IpXG4gICAgICB9XG5cbiAgICAgIC8vIEZldGNoIGZ1bGwgdXNlciBkYXRhIGZyb20gL2FwaS92MS91c2Vycy9tZVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXNlckRhdGEgPSBhd2FpdCBhcGlDbGllbnQudXNlcnMuZ2V0TWUoKVxuXG4gICAgICAgIC8vIFVzZSByb2xlcyBmcm9tIEFQSSBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSB1c2Ugcm9sZXMgZnJvbSBKV1RcbiAgICAgICAgbGV0IGZpbmFsUm9sZXMgPSByb2xlc1xuICAgICAgICBpZiAodXNlckRhdGEucm9sZXMgJiYgdXNlckRhdGEucm9sZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGZpbmFsUm9sZXMgPSB1c2VyRGF0YS5yb2xlcy5tYXAoKHI6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgaWYgKHIgPT09IFwiSE9TVFwiKSByZXR1cm4gXCJQT1NURVJcIlxuICAgICAgICAgICAgaWYgKHIgPT09IFwiVEVOQU5UXCIpIHJldHVybiBcIlVTRVJcIlxuICAgICAgICAgICAgaWYgKHIgPT09IFwiQURNSU5cIikgcmV0dXJuIFwiQURNSU5cIlxuICAgICAgICAgICAgcmV0dXJuIHIgYXMgVXNlclJvbGVcbiAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZnVsbFVzZXI6IFVzZXIgPSB7XG4gICAgICAgICAgaWQ6IHVzZXJJZCxcbiAgICAgICAgICBlbWFpbDogdXNlckRhdGEuZW1haWwsXG4gICAgICAgICAgZmlyc3ROYW1lOiB1c2VyRGF0YS5maXJzdE5hbWUsXG4gICAgICAgICAgbGFzdE5hbWU6IHVzZXJEYXRhLmxhc3ROYW1lLFxuICAgICAgICAgIHBob25lTnVtYmVyOiB1c2VyRGF0YS5waG9uZU51bWJlcj8udG9TdHJpbmcoKSxcbiAgICAgICAgICBiaXJ0aGRheTogdXNlckRhdGEuYmlydGhkYXksXG4gICAgICAgICAgcHJvZmlsZUltYWdlOiB1c2VyRGF0YS5wcm9maWxlUGljdHVyZSxcbiAgICAgICAgICByb2xlczogZmluYWxSb2xlcyxcbiAgICAgICAgICB2ZXJpZmllZDogdHJ1ZSwgLy8gSWYgdXNlciBjYW4gbG9naW4sIHRoZXkgYXJlIHZlcmlmaWVkXG4gICAgICAgICAgd2FsbGV0QWRkcmVzczogdXNlckRhdGEud2FsbGV0QWRkcmVzcyB8fCB1bmRlZmluZWQsIC8vIEFkZCB3YWxsZXRBZGRyZXNzIGZyb20gQVBJXG4gICAgICAgIH1cblxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInVzZXJcIiwgSlNPTi5zdHJpbmdpZnkoZnVsbFVzZXIpKVxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShVU0VSX0RBVEFfS0VZLCBKU09OLnN0cmluZ2lmeShmdWxsVXNlcikpXG4gICAgICAgIHNldFVzZXIoZnVsbFVzZXIpXG4gICAgICB9IGNhdGNoICh1c2VyRXJyb3IpIHtcbiAgICAgICAgLy8gSWYgL3VzZXJzL21lIGZhaWxzLCB1c2UgYmFzaWMgdXNlciBkYXRhXG4gICAgICAgIGNvbnNvbGUud2FybihcIkZhaWxlZCB0byBmZXRjaCB1c2VyIGRhdGEsIHVzaW5nIGJhc2ljIGluZm86XCIsIHVzZXJFcnJvcilcbiAgICAgICAgY29uc3QgYmFzaWNVc2VyOiBVc2VyID0ge1xuICAgICAgICAgIGlkOiB1c2VySWQsXG4gICAgICAgICAgZW1haWw6IGVtYWlsLFxuICAgICAgICAgIGZpcnN0TmFtZTogXCJcIixcbiAgICAgICAgICBsYXN0TmFtZTogXCJcIixcbiAgICAgICAgICByb2xlczogcm9sZXMsXG4gICAgICAgIH1cbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ1c2VyXCIsIEpTT04uc3RyaW5naWZ5KGJhc2ljVXNlcikpXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFVTRVJfREFUQV9LRVksIEpTT04uc3RyaW5naWZ5KGJhc2ljVXNlcikpXG4gICAgICAgIHNldFVzZXIoYmFzaWNVc2VyKVxuICAgICAgfVxuXG4gICAgICBzZXRUb2tlbih0b2tlbilcblxuICAgICAgLy8gRGlzcGF0Y2ggY3VzdG9tIGV2ZW50IHRvIG5vdGlmeSBvdGhlciBjb21wb25lbnRzXG4gICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJhdXRoLXN0YXRlLWNoYW5nZWRcIikpXG4gICAgfSBjYXRjaCAoYXBpRXJyb3IpIHtcbiAgICAgIC8vIEZhbGxiYWNrIHRvIG1vY2sgZm9yIGRldmVsb3BtZW50XG4gICAgICBsZXQgYXV0aGVudGljYXRlZFVzZXI6IFVzZXIgfCBudWxsID0gbnVsbFxuXG4gICAgICBpZiAoZW1haWwgPT09IFwiYWRtaW5AZXhhbXBsZS5jb21cIikge1xuICAgICAgICBhdXRoZW50aWNhdGVkVXNlciA9IG1vY2tVc2Vycy5hZG1pblxuICAgICAgfSBlbHNlIGlmIChlbWFpbCA9PT0gXCJwb3N0ZXJAZXhhbXBsZS5jb21cIikge1xuICAgICAgICBhdXRoZW50aWNhdGVkVXNlciA9IG1vY2tVc2Vycy5wb3N0ZXJcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGFwaUVycm9yIHx8IG5ldyBFcnJvcihcIkludmFsaWQgY3JlZGVudGlhbHNcIilcbiAgICAgIH1cblxuICAgICAgY29uc3QgbW9ja1Rva2VuID0gYHRva2VuLSR7RGF0ZS5ub3coKX1gXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInVzZXJcIiwgSlNPTi5zdHJpbmdpZnkoYXV0aGVudGljYXRlZFVzZXIpKVxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0b2tlblwiLCBtb2NrVG9rZW4pXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShVU0VSX0RBVEFfS0VZLCBKU09OLnN0cmluZ2lmeShhdXRoZW50aWNhdGVkVXNlcikpXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShBVVRIX1RPS0VOX0tFWSwgbW9ja1Rva2VuKVxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ1c2VySWRcIiwgYXV0aGVudGljYXRlZFVzZXIuaWQpXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInVzZXJSb2xlc1wiLCBKU09OLnN0cmluZ2lmeShhdXRoZW50aWNhdGVkVXNlci5yb2xlcykpXG5cbiAgICAgIHNldFVzZXIoYXV0aGVudGljYXRlZFVzZXIpXG4gICAgICBzZXRUb2tlbihtb2NrVG9rZW4pXG5cbiAgICAgIC8vIERpc3BhdGNoIGN1c3RvbSBldmVudCB0byBub3RpZnkgb3RoZXIgY29tcG9uZW50c1xuICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwiYXV0aC1zdGF0ZS1jaGFuZ2VkXCIpKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhhc1JvbGUgPSAocm9sZTogVXNlclJvbGUpOiBib29sZWFuID0+IHtcbiAgICByZXR1cm4gdXNlcj8ucm9sZXMuaW5jbHVkZXMocm9sZSkgPz8gZmFsc2VcbiAgfVxuXG4gIGNvbnN0IGxvZ291dCA9ICgpOiB2b2lkID0+IHtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcInVzZXJcIilcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcInRva2VuXCIpXG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oVVNFUl9EQVRBX0tFWSlcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShBVVRIX1RPS0VOX0tFWSlcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcInVzZXJJZFwiKVxuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwidXNlclJvbGVzXCIpXG4gICAgc2V0VXNlcihudWxsKVxuICAgIHNldFRva2VuKG51bGwpXG5cbiAgICAvLyBEaXNwYXRjaCBjdXN0b20gZXZlbnQgdG8gbm90aWZ5IG90aGVyIGNvbXBvbmVudHNcbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJhdXRoLXN0YXRlLWNoYW5nZWRcIikpXG4gIH1cblxuICByZXR1cm4ge1xuICAgIHVzZXIsXG4gICAgdG9rZW4sXG4gICAgaXNBdXRoZW50aWNhdGVkOiAhIXVzZXIgJiYgISF0b2tlbixcbiAgICBpc0xvYWRpbmcsXG4gICAgaGFzUm9sZSxcbiAgICBsb2dpbixcbiAgICBsb2dvdXQsXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUF1dGhDb250ZXh0KCk6IFVzZUF1dGhSZXR1cm4ge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChBdXRoQ29udGV4dClcbiAgaWYgKCFjb250ZXh0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXNlQXV0aENvbnRleHQgbXVzdCBiZSB1c2VkIHdpdGhpbiBBdXRoUHJvdmlkZXJcIilcbiAgfVxuICByZXR1cm4gY29udGV4dFxufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQ29udGV4dCIsImNyZWF0ZUNvbnRleHQiLCJhcGlDbGllbnQiLCJBVVRIX1RPS0VOX0tFWSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BVVRIX1NUT1JBR0VfS0VZIiwiVVNFUl9EQVRBX0tFWSIsIk5FWFRfUFVCTElDX1VTRVJfU1RPUkFHRV9LRVkiLCJBdXRoQ29udGV4dCIsInVzZUF1dGgiLCJ1c2VyIiwic2V0VXNlciIsInRva2VuIiwic2V0VG9rZW4iLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJsb2FkQXV0aFN0YXRlIiwic3RvcmVkVXNlciIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzdG9yZWRUb2tlbiIsIkpTT04iLCJwYXJzZSIsImVycm9yIiwiY29uc29sZSIsImhhbmRsZVN0b3JhZ2VDaGFuZ2UiLCJlIiwia2V5Iiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUN1c3RvbVN0b3JhZ2VDaGFuZ2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibG9naW4iLCJlbWFpbCIsInBhc3N3b3JkIiwicmVzcG9uc2UiLCJhdXRoIiwic2V0SXRlbSIsInRva2VuUGFydHMiLCJzcGxpdCIsInVzZXJJZCIsInJvbGVzIiwibGVuZ3RoIiwicGF5bG9hZCIsImF0b2IiLCJyZXBsYWNlIiwic3ViIiwic3ViamVjdCIsIkFycmF5IiwiaXNBcnJheSIsIm1hcCIsInIiLCJkZWNvZGVFcnJvciIsInVzZXJEYXRhIiwidXNlcnMiLCJnZXRNZSIsImZpbmFsUm9sZXMiLCJmdWxsVXNlciIsImlkIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJwaG9uZU51bWJlciIsInRvU3RyaW5nIiwiYmlydGhkYXkiLCJwcm9maWxlSW1hZ2UiLCJwcm9maWxlUGljdHVyZSIsInZlcmlmaWVkIiwid2FsbGV0QWRkcmVzcyIsInVuZGVmaW5lZCIsInN0cmluZ2lmeSIsInVzZXJFcnJvciIsIndhcm4iLCJiYXNpY1VzZXIiLCJkaXNwYXRjaEV2ZW50IiwiRXZlbnQiLCJhcGlFcnJvciIsImF1dGhlbnRpY2F0ZWRVc2VyIiwibW9ja1VzZXJzIiwiYWRtaW4iLCJwb3N0ZXIiLCJFcnJvciIsIm1vY2tUb2tlbiIsIkRhdGUiLCJub3ciLCJoYXNSb2xlIiwicm9sZSIsImluY2x1ZGVzIiwibG9nb3V0IiwicmVtb3ZlSXRlbSIsImlzQXV0aGVudGljYXRlZCIsInVzZUF1dGhDb250ZXh0IiwiY29udGV4dCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/hooks/use-auth.ts\n"));

/***/ })

});